(function(){const D=document.createElement("link").relList;if(D&&D.supports&&D.supports("modulepreload"))return;for(const H of document.querySelectorAll('link[rel="modulepreload"]'))G(H);new MutationObserver(H=>{for(const g of H)if(g.type==="childList")for(const y of g.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&G(y)}).observe(document,{childList:!0,subtree:!0});function L(H){const g={};return H.integrity&&(g.integrity=H.integrity),H.referrerpolicy&&(g.referrerPolicy=H.referrerpolicy),H.crossorigin==="use-credentials"?g.credentials="include":H.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function G(H){if(H.ep)return;H.ep=!0;const g=L(H);fetch(H.href,g)}})();/**
* @vue/shared v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function xi(C,D){const L=new Set(C.split(","));return D?G=>L.has(G.toLowerCase()):G=>L.has(G)}const $t={},Ue=[],Jt=()=>{},qr=()=>!1,Vn=C=>C.charCodeAt(0)===111&&C.charCodeAt(1)===110&&(C.charCodeAt(2)>122||C.charCodeAt(2)<97),wi=C=>C.startsWith("onUpdate:"),Wt=Object.assign,Ei=(C,D)=>{const L=C.indexOf(D);L>-1&&C.splice(L,1)},Yr=Object.prototype.hasOwnProperty,Pt=(C,D)=>Yr.call(C,D),kt=Array.isArray,on=C=>jn(C)==="[object Map]",Xr=C=>jn(C)==="[object Set]",St=C=>typeof C=="function",Gt=C=>typeof C=="string",pn=C=>typeof C=="symbol",Nt=C=>C!==null&&typeof C=="object",Ho=C=>(Nt(C)||St(C))&&St(C.then)&&St(C.catch),Kr=Object.prototype.toString,jn=C=>Kr.call(C),Jr=C=>jn(C).slice(8,-1),Zr=C=>jn(C)==="[object Object]",Ci=C=>Gt(C)&&C!=="NaN"&&C[0]!=="-"&&""+parseInt(C,10)===C,rn=xi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Fn=C=>{const D=Object.create(null);return L=>D[L]||(D[L]=C(L))},Qr=/-(\w)/g,he=Fn(C=>C.replace(Qr,(D,L)=>L?L.toUpperCase():"")),ta=/\B([A-Z])/g,Xe=Fn(C=>C.replace(ta,"-$1").toLowerCase()),Rn=Fn(C=>C.charAt(0).toUpperCase()+C.slice(1)),Qn=Fn(C=>C?`on${Rn(C)}`:""),Ne=(C,D)=>!Object.is(C,D),ti=(C,...D)=>{for(let L=0;L<C.length;L++)C[L](...D)},$o=(C,D,L,G=!1)=>{Object.defineProperty(C,D,{configurable:!0,enumerable:!1,writable:G,value:L})},ea=C=>{const D=parseFloat(C);return isNaN(D)?C:D};let Qi;const ki=()=>Qi||(Qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Si(C){if(kt(C)){const D={};for(let L=0;L<C.length;L++){const G=C[L],H=Gt(G)?ra(G):Si(G);if(H)for(const g in H)D[g]=H[g]}return D}else if(Gt(C)||Nt(C))return C}const na=/;(?![^(]*\))/g,ia=/:([^]+)/,oa=/\/\*[^]*?\*\//g;function ra(C){const D={};return C.replace(oa,"").split(na).forEach(L=>{if(L){const G=L.split(ia);G.length>1&&(D[G[0].trim()]=G[1].trim())}}),D}function Ii(C){let D="";if(Gt(C))D=C;else if(kt(C))for(let L=0;L<C.length;L++){const G=Ii(C[L]);G&&(D+=G+" ")}else if(Nt(C))for(const L in C)C[L]&&(D+=L+" ");return D.trim()}const aa="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sa=xi(aa);function Vo(C){return!!C||C===""}/**
* @vue/reactivity v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ne;class la{constructor(D=!1){this.detached=D,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ne,!D&&ne&&(this.index=(ne.scopes||(ne.scopes=[])).push(this)-1)}get active(){return this._active}run(D){if(this._active){const L=ne;try{return ne=this,D()}finally{ne=L}}}on(){ne=this}off(){ne=this.parent}stop(D){if(this._active){let L,G;for(L=0,G=this.effects.length;L<G;L++)this.effects[L].stop();for(L=0,G=this.cleanups.length;L<G;L++)this.cleanups[L]();if(this.scopes)for(L=0,G=this.scopes.length;L<G;L++)this.scopes[L].stop(!0);if(!this.detached&&this.parent&&!D){const H=this.parent.scopes.pop();H&&H!==this&&(this.parent.scopes[this.index]=H,H.index=this.index)}this.parent=void 0,this._active=!1}}}function ca(C,D=ne){D&&D.active&&D.effects.push(C)}function da(){return ne}let Re;class Oi{constructor(D,L,G,H){this.fn=D,this.trigger=L,this.scheduler=G,this.active=!0,this.deps=[],this._dirtyLevel=5,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ca(this,H)}get dirty(){if(this._dirtyLevel===2)return!1;if(this._dirtyLevel===3||this._dirtyLevel===4){this._dirtyLevel=1,Te();for(let D=0;D<this._depsLength;D++){const L=this.deps[D];if(L.computed){if(L.computed.effect._dirtyLevel===2)return!0;if(ua(L.computed),this._dirtyLevel>=5)break}}this._dirtyLevel===1&&(this._dirtyLevel=0),Ae()}return this._dirtyLevel>=5}set dirty(D){this._dirtyLevel=D?5:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let D=Pe,L=Re;try{return Pe=!0,Re=this,this._runnings++,to(this),this.fn()}finally{eo(this),this._runnings--,Re=L,Pe=D}}stop(){this.active&&(to(this),eo(this),this.onStop&&this.onStop(),this.active=!1)}}function ua(C){return C.value}function to(C){C._trackId++,C._depsLength=0}function eo(C){if(C.deps.length>C._depsLength){for(let D=C._depsLength;D<C.deps.length;D++)jo(C.deps[D],C);C.deps.length=C._depsLength}}function jo(C,D){const L=C.get(D);L!==void 0&&D._trackId!==L&&(C.delete(D),C.size===0&&C.cleanup())}let Pe=!0,ci=0;const Fo=[];function Te(){Fo.push(Pe),Pe=!1}function Ae(){const C=Fo.pop();Pe=C===void 0?!0:C}function Pi(){ci++}function Mi(){for(ci--;!ci&&di.length;)di.shift()()}function Ro(C,D,L){if(D.get(C)!==C._trackId){D.set(C,C._trackId);const G=C.deps[C._depsLength];G!==D?(G&&jo(G,C),C.deps[C._depsLength++]=D):C._depsLength++}}const di=[];function Lo(C,D,L){Pi();for(const G of C.keys()){if(!C.computed&&G.computed&&C.get(G)===G._trackId&&G._runnings>0){G._dirtyLevel=2;continue}let H;G._dirtyLevel<D&&(H!=null?H:H=C.get(G)===G._trackId)&&(G._shouldSchedule||(G._shouldSchedule=G._dirtyLevel===0),G.computed&&G._dirtyLevel===2&&(G._shouldSchedule=!0),G._dirtyLevel=D),G._shouldSchedule&&(H!=null?H:H=C.get(G)===G._trackId)&&(G.trigger(),(!G._runnings||G.allowRecurse)&&G._dirtyLevel!==3&&(G._shouldSchedule=!1,G.scheduler&&di.push(G.scheduler)))}Mi()}const No=(C,D)=>{const L=new Map;return L.cleanup=C,L.computed=D,L},ui=new WeakMap,Le=Symbol(""),hi=Symbol("");function Kt(C,D,L){if(Pe&&Re){let G=ui.get(C);G||ui.set(C,G=new Map);let H=G.get(L);H||G.set(L,H=No(()=>G.delete(L))),Ro(Re,H)}}function ye(C,D,L,G,H,g){const y=ui.get(C);if(!y)return;let b=[];if(D==="clear")b=[...y.values()];else if(L==="length"&&kt(C)){const w=Number(G);y.forEach((m,_)=>{(_==="length"||!pn(_)&&_>=w)&&b.push(m)})}else switch(L!==void 0&&b.push(y.get(L)),D){case"add":kt(C)?Ci(L)&&b.push(y.get("length")):(b.push(y.get(Le)),on(C)&&b.push(y.get(hi)));break;case"delete":kt(C)||(b.push(y.get(Le)),on(C)&&b.push(y.get(hi)));break;case"set":on(C)&&b.push(y.get(Le));break}Pi();for(const w of b)w&&Lo(w,5);Mi()}const ha=xi("__proto__,__v_isRef,__isVue"),Bo=new Set(Object.getOwnPropertyNames(Symbol).filter(C=>C!=="arguments"&&C!=="caller").map(C=>Symbol[C]).filter(pn)),no=fa();function fa(){const C={};return["includes","indexOf","lastIndexOf"].forEach(D=>{C[D]=function(...L){const G=At(this);for(let g=0,y=this.length;g<y;g++)Kt(G,"get",g+"");const H=G[D](...L);return H===-1||H===!1?G[D](...L.map(At)):H}}),["push","pop","shift","unshift","splice"].forEach(D=>{C[D]=function(...L){Te(),Pi();const G=At(this)[D].apply(this,L);return Mi(),Ae(),G}}),C}function pa(C){pn(C)||(C=String(C));const D=At(this);return Kt(D,"has",C),D.hasOwnProperty(C)}class zo{constructor(D=!1,L=!1){this._isReadonly=D,this._isShallow=L}get(D,L,G){const H=this._isReadonly,g=this._isShallow;if(L==="__v_isReactive")return!H;if(L==="__v_isReadonly")return H;if(L==="__v_isShallow")return g;if(L==="__v_raw")return G===(H?g?Ia:qo:g?Uo:Go).get(D)||Object.getPrototypeOf(D)===Object.getPrototypeOf(G)?D:void 0;const y=kt(D);if(!H){if(y&&Pt(no,L))return Reflect.get(no,L,G);if(L==="hasOwnProperty")return pa}const b=Reflect.get(D,L,G);return(pn(L)?Bo.has(L):ha(L))||(H||Kt(D,"get",L),g)?b:Zt(b)?y&&Ci(L)?b:b.value:Nt(b)?H?Yo(b):Ai(b):b}}class Wo extends zo{constructor(D=!1){super(!1,D)}set(D,L,G,H){let g=D[L];if(!this._isShallow){const w=Tn(g);if(!fi(G)&&!Tn(G)&&(g=At(g),G=At(G)),!kt(D)&&Zt(g)&&!Zt(G))return w?!1:(g.value=G,!0)}const y=kt(D)&&Ci(L)?Number(L)<D.length:Pt(D,L),b=Reflect.set(D,L,G,H);return D===At(H)&&(y?Ne(G,g)&&ye(D,"set",L,G):ye(D,"add",L,G)),b}deleteProperty(D,L){const G=Pt(D,L);D[L];const H=Reflect.deleteProperty(D,L);return H&&G&&ye(D,"delete",L,void 0),H}has(D,L){const G=Reflect.has(D,L);return(!pn(L)||!Bo.has(L))&&Kt(D,"has",L),G}ownKeys(D){return Kt(D,"iterate",kt(D)?"length":Le),Reflect.ownKeys(D)}}class ga extends zo{constructor(D=!1){super(!0,D)}set(D,L){return!0}deleteProperty(D,L){return!0}}const va=new Wo,_a=new ga,ma=new Wo(!0);const Di=C=>C,Ln=C=>Reflect.getPrototypeOf(C);function wn(C,D,L=!1,G=!1){C=C.__v_raw;const H=At(C),g=At(D);L||(Ne(D,g)&&Kt(H,"get",D),Kt(H,"get",g));const{has:y}=Ln(H),b=G?Di:L?Vi:$i;if(y.call(H,D))return b(C.get(D));if(y.call(H,g))return b(C.get(g));C!==H&&C.get(D)}function En(C,D=!1){const L=this.__v_raw,G=At(L),H=At(C);return D||(Ne(C,H)&&Kt(G,"has",C),Kt(G,"has",H)),C===H?L.has(C):L.has(C)||L.has(H)}function Cn(C,D=!1){return C=C.__v_raw,!D&&Kt(At(C),"iterate",Le),Reflect.get(C,"size",C)}function io(C){C=At(C);const D=At(this);return Ln(D).has.call(D,C)||(D.add(C),ye(D,"add",C,C)),this}function oo(C,D){D=At(D);const L=At(this),{has:G,get:H}=Ln(L);let g=G.call(L,C);g||(C=At(C),g=G.call(L,C));const y=H.call(L,C);return L.set(C,D),g?Ne(D,y)&&ye(L,"set",C,D):ye(L,"add",C,D),this}function ro(C){const D=At(this),{has:L,get:G}=Ln(D);let H=L.call(D,C);H||(C=At(C),H=L.call(D,C)),G&&G.call(D,C);const g=D.delete(C);return H&&ye(D,"delete",C,void 0),g}function ao(){const C=At(this),D=C.size!==0,L=C.clear();return D&&ye(C,"clear",void 0,void 0),L}function kn(C,D){return function(G,H){const g=this,y=g.__v_raw,b=At(y),w=D?Di:C?Vi:$i;return!C&&Kt(b,"iterate",Le),y.forEach((m,_)=>G.call(H,w(m),w(_),g))}}function Sn(C,D,L){return function(...G){const H=this.__v_raw,g=At(H),y=on(g),b=C==="entries"||C===Symbol.iterator&&y,w=C==="keys"&&y,m=H[C](...G),_=L?Di:D?Vi:$i;return!D&&Kt(g,"iterate",w?hi:Le),{next(){const{value:h,done:d}=m.next();return d?{value:h,done:d}:{value:b?[_(h[0]),_(h[1])]:_(h),done:d}},[Symbol.iterator](){return this}}}}function Se(C){return function(...D){return C==="delete"?!1:C==="clear"?void 0:this}}function ya(){const C={get(g){return wn(this,g)},get size(){return Cn(this)},has:En,add:io,set:oo,delete:ro,clear:ao,forEach:kn(!1,!1)},D={get(g){return wn(this,g,!1,!0)},get size(){return Cn(this)},has:En,add:io,set:oo,delete:ro,clear:ao,forEach:kn(!1,!0)},L={get(g){return wn(this,g,!0)},get size(){return Cn(this,!0)},has(g){return En.call(this,g,!0)},add:Se("add"),set:Se("set"),delete:Se("delete"),clear:Se("clear"),forEach:kn(!0,!1)},G={get(g){return wn(this,g,!0,!0)},get size(){return Cn(this,!0)},has(g){return En.call(this,g,!0)},add:Se("add"),set:Se("set"),delete:Se("delete"),clear:Se("clear"),forEach:kn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(g=>{C[g]=Sn(g,!1,!1),L[g]=Sn(g,!0,!1),D[g]=Sn(g,!1,!0),G[g]=Sn(g,!0,!0)}),[C,L,D,G]}const[ba,xa,wa,Ea]=ya();function Ti(C,D){const L=D?C?Ea:wa:C?xa:ba;return(G,H,g)=>H==="__v_isReactive"?!C:H==="__v_isReadonly"?C:H==="__v_raw"?G:Reflect.get(Pt(L,H)&&H in G?L:G,H,g)}const Ca={get:Ti(!1,!1)},ka={get:Ti(!1,!0)},Sa={get:Ti(!0,!1)};const Go=new WeakMap,Uo=new WeakMap,qo=new WeakMap,Ia=new WeakMap;function Oa(C){switch(C){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pa(C){return C.__v_skip||!Object.isExtensible(C)?0:Oa(Jr(C))}function Ai(C){return Tn(C)?C:Hi(C,!1,va,Ca,Go)}function Ma(C){return Hi(C,!1,ma,ka,Uo)}function Yo(C){return Hi(C,!0,_a,Sa,qo)}function Hi(C,D,L,G,H){if(!Nt(C)||C.__v_raw&&!(D&&C.__v_isReactive))return C;const g=H.get(C);if(g)return g;const y=Pa(C);if(y===0)return C;const b=new Proxy(C,y===2?G:L);return H.set(C,b),b}function an(C){return Tn(C)?an(C.__v_raw):!!(C&&C.__v_isReactive)}function Tn(C){return!!(C&&C.__v_isReadonly)}function fi(C){return!!(C&&C.__v_isShallow)}function Xo(C){return C?!!C.__v_raw:!1}function At(C){const D=C&&C.__v_raw;return D?At(D):C}function Da(C){return Object.isExtensible(C)&&$o(C,"__v_skip",!0),C}const $i=C=>Nt(C)?Ai(C):C,Vi=C=>Nt(C)?Yo(C):C;class Ko{constructor(D,L,G,H){this.getter=D,this._setter=L,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Oi(()=>D(this._value),()=>ei(this,this.effect._dirtyLevel===3?3:4)),this.effect.computed=this,this.effect.active=this._cacheable=!H,this.__v_isReadonly=G}get value(){const D=At(this);return(!D._cacheable||D.effect.dirty)&&Ne(D._value,D._value=D.effect.run())&&ei(D,5),Aa(D),D.effect._dirtyLevel>=2&&ei(D,3),D._value}set value(D){this._setter(D)}get _dirty(){return this.effect.dirty}set _dirty(D){this.effect.dirty=D}}function Ta(C,D,L=!1){let G,H;const g=St(C);return g?(G=C,H=Jt):(G=C.get,H=C.set),new Ko(G,H,g||!H,L)}function Aa(C){var D;Pe&&Re&&(C=At(C),Ro(Re,(D=C.dep)!=null?D:C.dep=No(()=>C.dep=void 0,C instanceof Ko?C:void 0)))}function ei(C,D=5,L,G){C=At(C);const H=C.dep;H&&Lo(H,D)}function Zt(C){return!!(C&&C.__v_isRef===!0)}function Ha(C){return Zt(C)?C.value:C}const $a={get:(C,D,L)=>Ha(Reflect.get(C,D,L)),set:(C,D,L,G)=>{const H=C[D];return Zt(H)&&!Zt(L)?(H.value=L,!0):Reflect.set(C,D,L,G)}};function Jo(C){return an(C)?C:new Proxy(C,$a)}/**
* @vue/runtime-core v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Me(C,D,L,G){try{return G?C(...G):C()}catch(H){Nn(H,D,L)}}function re(C,D,L,G){if(St(C)){const H=Me(C,D,L,G);return H&&Ho(H)&&H.catch(g=>{Nn(g,D,L)}),H}if(kt(C)){const H=[];for(let g=0;g<C.length;g++)H.push(re(C[g],D,L,G));return H}}function Nn(C,D,L,G=!0){const H=D?D.vnode:null;if(D){let g=D.parent;const y=D.proxy,b=`https://vuejs.org/error-reference/#runtime-${L}`;for(;g;){const m=g.ec;if(m){for(let _=0;_<m.length;_++)if(m[_](C,y,b)===!1)return}g=g.parent}const w=D.appContext.config.errorHandler;if(w){Te(),Me(w,null,10,[C,y,b]),Ae();return}}Va(C,L,H,G)}function Va(C,D,L,G=!0){console.error(C)}let dn=!1,pi=!1;const Ut=[];let ue=0;const qe=[];let Ie=null,je=0;const Zo=Promise.resolve();let ji=null;function ja(C){const D=ji||Zo;return C?D.then(this?C.bind(this):C):D}function Fa(C){let D=ue+1,L=Ut.length;for(;D<L;){const G=D+L>>>1,H=Ut[G],g=un(H);g<C||g===C&&H.pre?D=G+1:L=G}return D}function Fi(C){(!Ut.length||!Ut.includes(C,dn&&C.allowRecurse?ue+1:ue))&&(C.id==null?Ut.push(C):Ut.splice(Fa(C.id),0,C),Qo())}function Qo(){!dn&&!pi&&(pi=!0,ji=Zo.then(er))}function Ra(C){const D=Ut.indexOf(C);D>ue&&Ut.splice(D,1)}function La(C){kt(C)?qe.push(...C):(!Ie||!Ie.includes(C,C.allowRecurse?je+1:je))&&qe.push(C),Qo()}function so(C,D,L=dn?ue+1:0){for(;L<Ut.length;L++){const G=Ut[L];if(G&&G.pre){if(C&&G.id!==C.uid)continue;Ut.splice(L,1),L--,G()}}}function tr(C){if(qe.length){const D=[...new Set(qe)].sort((L,G)=>un(L)-un(G));if(qe.length=0,Ie){Ie.push(...D);return}for(Ie=D,je=0;je<Ie.length;je++){const L=Ie[je];L.active!==!1&&L()}Ie=null,je=0}}const un=C=>C.id==null?1/0:C.id,Na=(C,D)=>{const L=un(C)-un(D);if(L===0){if(C.pre&&!D.pre)return-1;if(D.pre&&!C.pre)return 1}return L};function er(C){pi=!1,dn=!0,Ut.sort(Na);const D=Jt;try{for(ue=0;ue<Ut.length;ue++){const L=Ut[ue];L&&L.active!==!1&&Me(L,null,14)}}finally{ue=0,Ut.length=0,tr(),dn=!1,ji=null,(Ut.length||qe.length)&&er()}}function Ba(C,D,...L){if(C.isUnmounted)return;const G=C.vnode.props||$t;let H=L;const g=D.startsWith("update:"),y=g&&D.slice(7);if(y&&y in G){const _=`${y==="modelValue"?"model":y}Modifiers`,{number:h,trim:d}=G[_]||$t;d&&(H=L.map(p=>Gt(p)?p.trim():p)),h&&(H=L.map(ea))}let b,w=G[b=Qn(D)]||G[b=Qn(he(D))];!w&&g&&(w=G[b=Qn(Xe(D))]),w&&re(w,C,6,H);const m=G[b+"Once"];if(m){if(!C.emitted)C.emitted={};else if(C.emitted[b])return;C.emitted[b]=!0,re(m,C,6,H)}}function nr(C,D,L=!1){const G=D.emitsCache,H=G.get(C);if(H!==void 0)return H;const g=C.emits;let y={},b=!1;if(!St(C)){const w=m=>{const _=nr(m,D,!0);_&&(b=!0,Wt(y,_))};!L&&D.mixins.length&&D.mixins.forEach(w),C.extends&&w(C.extends),C.mixins&&C.mixins.forEach(w)}return!g&&!b?(Nt(C)&&G.set(C,null),null):(kt(g)?g.forEach(w=>y[w]=null):Wt(y,g),Nt(C)&&G.set(C,y),y)}function Bn(C,D){return!C||!Vn(D)?!1:(D=D.slice(2).replace(/Once$/,""),Pt(C,D[0].toLowerCase()+D.slice(1))||Pt(C,Xe(D))||Pt(C,D))}let ie=null,ir=null;function An(C){const D=ie;return ie=C,ir=C&&C.type.__scopeId||null,D}function za(C,D=ie,L){if(!D||C._n)return C;const G=(...H)=>{G._d&&bo(-1);const g=An(D);let y;try{y=C(...H)}finally{An(g),G._d&&bo(1)}return y};return G._n=!0,G._c=!0,G._d=!0,G}function ni(C){const{type:D,vnode:L,proxy:G,withProxy:H,propsOptions:[g],slots:y,attrs:b,emit:w,render:m,renderCache:_,props:h,data:d,setupState:p,ctx:u,inheritAttrs:s}=C,l=An(C);let r,a;try{if(L.shapeFlag&4){const n=H||G,e=n;r=de(m.call(e,n,_,h,p,d,u)),a=b}else{const n=D;r=de(n.length>1?n(h,{attrs:b,slots:y,emit:w}):n(h,null)),a=D.props?b:Wa(b)}}catch(n){cn.length=0,Nn(n,C,1),r=De(hn)}let i=r;if(a&&s!==!1){const n=Object.keys(a),{shapeFlag:e}=i;n.length&&e&7&&(g&&n.some(wi)&&(a=Ga(a,g)),i=Ye(i,a,!1,!0))}return L.dirs&&(i=Ye(i,null,!1,!0),i.dirs=i.dirs?i.dirs.concat(L.dirs):L.dirs),L.transition&&(i.transition=L.transition),r=i,An(l),r}const Wa=C=>{let D;for(const L in C)(L==="class"||L==="style"||Vn(L))&&((D||(D={}))[L]=C[L]);return D},Ga=(C,D)=>{const L={};for(const G in C)(!wi(G)||!(G.slice(9)in D))&&(L[G]=C[G]);return L};function Ua(C,D,L){const{props:G,children:H,component:g}=C,{props:y,children:b,patchFlag:w}=D,m=g.emitsOptions;if(D.dirs||D.transition)return!0;if(L&&w>=0){if(w&1024)return!0;if(w&16)return G?lo(G,y,m):!!y;if(w&8){const _=D.dynamicProps;for(let h=0;h<_.length;h++){const d=_[h];if(y[d]!==G[d]&&!Bn(m,d))return!0}}}else return(H||b)&&(!b||!b.$stable)?!0:G===y?!1:G?y?lo(G,y,m):!0:!!y;return!1}function lo(C,D,L){const G=Object.keys(D);if(G.length!==Object.keys(C).length)return!0;for(let H=0;H<G.length;H++){const g=G[H];if(D[g]!==C[g]&&!Bn(L,g))return!0}return!1}function qa({vnode:C,parent:D},L){for(;D;){const G=D.subTree;if(G.suspense&&G.suspense.activeBranch===C&&(G.el=C.el),G===C)(C=D.vnode).el=L,D=D.parent;else break}}const or="components";function Ya(C,D){return Ka(or,C,!0,D)||C}const Xa=Symbol.for("v-ndc");function Ka(C,D,L=!0,G=!1){const H=ie||qt;if(H){const g=H.type;if(C===or){const b=Xs(g,!1);if(b&&(b===D||b===he(D)||b===Rn(he(D))))return g}const y=co(H[C]||g[C],D)||co(H.appContext[C],D);return!y&&G?g:y}}function co(C,D){return C&&(C[D]||C[he(D)]||C[Rn(he(D))])}const Ja=C=>C.__isSuspense;function Za(C,D){D&&D.pendingBranch?kt(C)?D.effects.push(...C):D.effects.push(C):La(C)}function zn(C,D,L=qt,G=!1){if(L){const H=L[C]||(L[C]=[]),g=D.__weh||(D.__weh=(...y)=>{Te();const b=gn(L),w=re(D,L,C,y);return b(),Ae(),w});return G?H.unshift(g):H.push(g),g}}const be=C=>(D,L=qt)=>{(!Gn||C==="sp")&&zn(C,(...G)=>D(...G),L)},Qa=be("bm"),ts=be("m"),es=be("bu"),ns=be("u"),is=be("bum"),rr=be("um"),os=be("sp"),rs=be("rtg"),as=be("rtc");function ss(C,D=qt){zn("ec",C,D)}function $e(C,D,L,G){const H=C.dirs,g=D&&D.dirs;for(let y=0;y<H.length;y++){const b=H[y];g&&(b.oldValue=g[y].value);let w=b.dir[G];w&&(Te(),re(w,L,8,[C.el,b,C,D]),Ae())}}const On=C=>!!C.type.__asyncLoader,gi=C=>C?Ir(C)?Bi(C):gi(C.parent):null,sn=Wt(Object.create(null),{$:C=>C,$el:C=>C.vnode.el,$data:C=>C.data,$props:C=>C.props,$attrs:C=>C.attrs,$slots:C=>C.slots,$refs:C=>C.refs,$parent:C=>gi(C.parent),$root:C=>gi(C.root),$emit:C=>C.emit,$options:C=>Ri(C),$forceUpdate:C=>C.f||(C.f=()=>{C.effect.dirty=!0,Fi(C.update)}),$nextTick:C=>C.n||(C.n=ja.bind(C.proxy)),$watch:C=>Ps.bind(C)}),ii=(C,D)=>C!==$t&&!C.__isScriptSetup&&Pt(C,D),ls={get({_:C},D){if(D==="__v_skip")return!0;const{ctx:L,setupState:G,data:H,props:g,accessCache:y,type:b,appContext:w}=C;let m;if(D[0]!=="$"){const p=y[D];if(p!==void 0)switch(p){case 1:return G[D];case 2:return H[D];case 4:return L[D];case 3:return g[D]}else{if(ii(G,D))return y[D]=1,G[D];if(H!==$t&&Pt(H,D))return y[D]=2,H[D];if((m=C.propsOptions[0])&&Pt(m,D))return y[D]=3,g[D];if(L!==$t&&Pt(L,D))return y[D]=4,L[D];vi&&(y[D]=0)}}const _=sn[D];let h,d;if(_)return D==="$attrs"&&Kt(C.attrs,"get",""),_(C);if((h=b.__cssModules)&&(h=h[D]))return h;if(L!==$t&&Pt(L,D))return y[D]=4,L[D];if(d=w.config.globalProperties,Pt(d,D))return d[D]},set({_:C},D,L){const{data:G,setupState:H,ctx:g}=C;return ii(H,D)?(H[D]=L,!0):G!==$t&&Pt(G,D)?(G[D]=L,!0):Pt(C.props,D)||D[0]==="$"&&D.slice(1)in C?!1:(g[D]=L,!0)},has({_:{data:C,setupState:D,accessCache:L,ctx:G,appContext:H,propsOptions:g}},y){let b;return!!L[y]||C!==$t&&Pt(C,y)||ii(D,y)||(b=g[0])&&Pt(b,y)||Pt(G,y)||Pt(sn,y)||Pt(H.config.globalProperties,y)},defineProperty(C,D,L){return L.get!=null?C._.accessCache[D]=0:Pt(L,"value")&&this.set(C,D,L.value,null),Reflect.defineProperty(C,D,L)}};function uo(C){return kt(C)?C.reduce((D,L)=>(D[L]=null,D),{}):C}let vi=!0;function cs(C){const D=Ri(C),L=C.proxy,G=C.ctx;vi=!1,D.beforeCreate&&ho(D.beforeCreate,C,"bc");const{data:H,computed:g,methods:y,watch:b,provide:w,inject:m,created:_,beforeMount:h,mounted:d,beforeUpdate:p,updated:u,activated:s,deactivated:l,beforeDestroy:r,beforeUnmount:a,destroyed:i,unmounted:n,render:e,renderTracked:t,renderTriggered:o,errorCaptured:c,serverPrefetch:f,expose:v,inheritAttrs:x,components:k,directives:S,filters:O}=D;if(m&&ds(m,G,null),y)for(const j in y){const $=y[j];St($)&&(G[j]=$.bind(L))}if(H){const j=H.call(L,L);Nt(j)&&(C.data=Ai(j))}if(vi=!0,g)for(const j in g){const $=g[j],I=St($)?$.bind(L,L):St($.get)?$.get.bind(L,L):Jt,F=!St($)&&St($.set)?$.set.bind(L):Jt,E=Js({get:I,set:F});Object.defineProperty(G,j,{enumerable:!0,configurable:!0,get:()=>E.value,set:V=>E.value=V})}if(b)for(const j in b)ar(b[j],G,L,j);if(w){const j=St(w)?w.call(L):w;Reflect.ownKeys(j).forEach($=>{vs($,j[$])})}_&&ho(_,C,"c");function T(j,$){kt($)?$.forEach(I=>j(I.bind(L))):$&&j($.bind(L))}if(T(Qa,h),T(ts,d),T(es,p),T(ns,u),T(Ms,s),T(Ds,l),T(ss,c),T(as,t),T(rs,o),T(is,a),T(rr,n),T(os,f),kt(v))if(v.length){const j=C.exposed||(C.exposed={});v.forEach($=>{Object.defineProperty(j,$,{get:()=>L[$],set:I=>L[$]=I})})}else C.exposed||(C.exposed={});e&&C.render===Jt&&(C.render=e),x!=null&&(C.inheritAttrs=x),k&&(C.components=k),S&&(C.directives=S)}function ds(C,D,L=Jt){kt(C)&&(C=_i(C));for(const G in C){const H=C[G];let g;Nt(H)?"default"in H?g=Pn(H.from||G,H.default,!0):g=Pn(H.from||G):g=Pn(H),Zt(g)?Object.defineProperty(D,G,{enumerable:!0,configurable:!0,get:()=>g.value,set:y=>g.value=y}):D[G]=g}}function ho(C,D,L){re(kt(C)?C.map(G=>G.bind(D.proxy)):C.bind(D.proxy),D,L)}function ar(C,D,L,G){const H=G.includes(".")?yr(L,G):()=>L[G];if(Gt(C)){const g=D[C];St(g)&&ri(H,g)}else if(St(C))ri(H,C.bind(L));else if(Nt(C))if(kt(C))C.forEach(g=>ar(g,D,L,G));else{const g=St(C.handler)?C.handler.bind(L):D[C.handler];St(g)&&ri(H,g,C)}}function Ri(C){const D=C.type,{mixins:L,extends:G}=D,{mixins:H,optionsCache:g,config:{optionMergeStrategies:y}}=C.appContext,b=g.get(D);let w;return b?w=b:!H.length&&!L&&!G?w=D:(w={},H.length&&H.forEach(m=>Hn(w,m,y,!0)),Hn(w,D,y)),Nt(D)&&g.set(D,w),w}function Hn(C,D,L,G=!1){const{mixins:H,extends:g}=D;g&&Hn(C,g,L,!0),H&&H.forEach(y=>Hn(C,y,L,!0));for(const y in D)if(!(G&&y==="expose")){const b=us[y]||L&&L[y];C[y]=b?b(C[y],D[y]):D[y]}return C}const us={data:fo,props:po,emits:po,methods:nn,computed:nn,beforeCreate:Yt,created:Yt,beforeMount:Yt,mounted:Yt,beforeUpdate:Yt,updated:Yt,beforeDestroy:Yt,beforeUnmount:Yt,destroyed:Yt,unmounted:Yt,activated:Yt,deactivated:Yt,errorCaptured:Yt,serverPrefetch:Yt,components:nn,directives:nn,watch:fs,provide:fo,inject:hs};function fo(C,D){return D?C?function(){return Wt(St(C)?C.call(this,this):C,St(D)?D.call(this,this):D)}:D:C}function hs(C,D){return nn(_i(C),_i(D))}function _i(C){if(kt(C)){const D={};for(let L=0;L<C.length;L++)D[C[L]]=C[L];return D}return C}function Yt(C,D){return C?[...new Set([].concat(C,D))]:D}function nn(C,D){return C?Wt(Object.create(null),C,D):D}function po(C,D){return C?kt(C)&&kt(D)?[...new Set([...C,...D])]:Wt(Object.create(null),uo(C),uo(D!=null?D:{})):D}function fs(C,D){if(!C)return D;if(!D)return C;const L=Wt(Object.create(null),C);for(const G in D)L[G]=Yt(C[G],D[G]);return L}function sr(){return{app:null,config:{isNativeTag:qr,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ps=0;function gs(C,D){return function(G,H=null){St(G)||(G=Wt({},G)),H!=null&&!Nt(H)&&(H=null);const g=sr(),y=new WeakSet;let b=!1;const w=g.app={_uid:ps++,_component:G,_props:H,_container:null,_context:g,_instance:null,version:Zs,get config(){return g.config},set config(m){},use(m,..._){return y.has(m)||(m&&St(m.install)?(y.add(m),m.install(w,..._)):St(m)&&(y.add(m),m(w,..._))),w},mixin(m){return g.mixins.includes(m)||g.mixins.push(m),w},component(m,_){return _?(g.components[m]=_,w):g.components[m]},directive(m,_){return _?(g.directives[m]=_,w):g.directives[m]},mount(m,_,h){if(!b){const d=De(G,H);return d.appContext=g,h===!0?h="svg":h===!1&&(h=void 0),_&&D?D(d,m):C(d,m,h),b=!0,w._container=m,m.__vue_app__=w,Bi(d.component)}},unmount(){b&&(C(null,w._container),delete w._container.__vue_app__)},provide(m,_){return g.provides[m]=_,w},runWithContext(m){const _=ln;ln=w;try{return m()}finally{ln=_}}};return w}}let ln=null;function vs(C,D){if(qt){let L=qt.provides;const G=qt.parent&&qt.parent.provides;G===L&&(L=qt.provides=Object.create(G)),L[C]=D}}function Pn(C,D,L=!1){const G=qt||ie;if(G||ln){const H=G?G.parent==null?G.vnode.appContext&&G.vnode.appContext.provides:G.parent.provides:ln._context.provides;if(H&&C in H)return H[C];if(arguments.length>1)return L&&St(D)?D.call(G&&G.proxy):D}}const lr={},cr=()=>Object.create(lr),dr=C=>Object.getPrototypeOf(C)===lr;function _s(C,D,L,G=!1){const H={},g=cr();C.propsDefaults=Object.create(null),ur(C,D,H,g);for(const y in C.propsOptions[0])y in H||(H[y]=void 0);L?C.props=G?H:Ma(H):C.type.props?C.props=H:C.props=g,C.attrs=g}function ms(C,D,L,G){const{props:H,attrs:g,vnode:{patchFlag:y}}=C,b=At(H),[w]=C.propsOptions;let m=!1;if((G||y>0)&&!(y&16)){if(y&8){const _=C.vnode.dynamicProps;for(let h=0;h<_.length;h++){let d=_[h];if(Bn(C.emitsOptions,d))continue;const p=D[d];if(w)if(Pt(g,d))p!==g[d]&&(g[d]=p,m=!0);else{const u=he(d);H[u]=mi(w,b,u,p,C,!1)}else p!==g[d]&&(g[d]=p,m=!0)}}}else{ur(C,D,H,g)&&(m=!0);let _;for(const h in b)(!D||!Pt(D,h)&&((_=Xe(h))===h||!Pt(D,_)))&&(w?L&&(L[h]!==void 0||L[_]!==void 0)&&(H[h]=mi(w,b,h,void 0,C,!0)):delete H[h]);if(g!==b)for(const h in g)(!D||!Pt(D,h)&&!0)&&(delete g[h],m=!0)}m&&ye(C.attrs,"set","")}function ur(C,D,L,G){const[H,g]=C.propsOptions;let y=!1,b;if(D)for(let w in D){if(rn(w))continue;const m=D[w];let _;H&&Pt(H,_=he(w))?!g||!g.includes(_)?L[_]=m:(b||(b={}))[_]=m:Bn(C.emitsOptions,w)||(!(w in G)||m!==G[w])&&(G[w]=m,y=!0)}if(g){const w=At(L),m=b||$t;for(let _=0;_<g.length;_++){const h=g[_];L[h]=mi(H,w,h,m[h],C,!Pt(m,h))}}return y}function mi(C,D,L,G,H,g){const y=C[L];if(y!=null){const b=Pt(y,"default");if(b&&G===void 0){const w=y.default;if(y.type!==Function&&!y.skipFactory&&St(w)){const{propsDefaults:m}=H;if(L in m)G=m[L];else{const _=gn(H);G=m[L]=w.call(null,D),_()}}else G=w}y[0]&&(g&&!b?G=!1:y[1]&&(G===""||G===Xe(L))&&(G=!0))}return G}function hr(C,D,L=!1){const G=D.propsCache,H=G.get(C);if(H)return H;const g=C.props,y={},b=[];let w=!1;if(!St(C)){const _=h=>{w=!0;const[d,p]=hr(h,D,!0);Wt(y,d),p&&b.push(...p)};!L&&D.mixins.length&&D.mixins.forEach(_),C.extends&&_(C.extends),C.mixins&&C.mixins.forEach(_)}if(!g&&!w)return Nt(C)&&G.set(C,Ue),Ue;if(kt(g))for(let _=0;_<g.length;_++){const h=he(g[_]);go(h)&&(y[h]=$t)}else if(g)for(const _ in g){const h=he(_);if(go(h)){const d=g[_],p=y[h]=kt(d)||St(d)?{type:d}:Wt({},d);if(p){const u=mo(Boolean,p.type),s=mo(String,p.type);p[0]=u>-1,p[1]=s<0||u<s,(u>-1||Pt(p,"default"))&&b.push(h)}}}const m=[y,b];return Nt(C)&&G.set(C,m),m}function go(C){return C[0]!=="$"&&!rn(C)}function vo(C){return C===null?"null":typeof C=="function"?C.name||"":typeof C=="object"&&C.constructor&&C.constructor.name||""}function _o(C,D){return vo(C)===vo(D)}function mo(C,D){return kt(D)?D.findIndex(L=>_o(L,C)):St(D)&&_o(D,C)?0:-1}const fr=C=>C[0]==="_"||C==="$stable",Li=C=>kt(C)?C.map(de):[de(C)],ys=(C,D,L)=>{if(D._n)return D;const G=za((...H)=>Li(D(...H)),L);return G._c=!1,G},pr=(C,D,L)=>{const G=C._ctx;for(const H in C){if(fr(H))continue;const g=C[H];if(St(g))D[H]=ys(H,g,G);else if(g!=null){const y=Li(g);D[H]=()=>y}}},gr=(C,D)=>{const L=Li(D);C.slots.default=()=>L},bs=(C,D)=>{const L=C.slots=cr();if(C.vnode.shapeFlag&32){const G=D._;G?(Wt(L,D),$o(L,"_",G,!0)):pr(D,L)}else D&&gr(C,D)},xs=(C,D,L)=>{const{vnode:G,slots:H}=C;let g=!0,y=$t;if(G.shapeFlag&32){const b=D._;b?L&&b===1?g=!1:(Wt(H,D),!L&&b===1&&delete H._):(g=!D.$stable,pr(D,H)),y=D}else D&&(gr(C,D),y={default:1});if(g)for(const b in H)!fr(b)&&y[b]==null&&delete H[b]};function yi(C,D,L,G,H=!1){if(kt(C)){C.forEach((d,p)=>yi(d,D&&(kt(D)?D[p]:D),L,G,H));return}if(On(G)&&!H)return;const g=G.shapeFlag&4?Bi(G.component):G.el,y=H?null:g,{i:b,r:w}=C,m=D&&D.r,_=b.refs===$t?b.refs={}:b.refs,h=b.setupState;if(m!=null&&m!==w&&(Gt(m)?(_[m]=null,Pt(h,m)&&(h[m]=null)):Zt(m)&&(m.value=null)),St(w))Me(w,b,12,[y,_]);else{const d=Gt(w),p=Zt(w);if(d||p){const u=()=>{if(C.f){const s=d?Pt(h,w)?h[w]:_[w]:w.value;H?kt(s)&&Ei(s,g):kt(s)?s.includes(g)||s.push(g):d?(_[w]=[g],Pt(h,w)&&(h[w]=_[w])):(w.value=[g],C.k&&(_[C.k]=w.value))}else d?(_[w]=y,Pt(h,w)&&(h[w]=y)):p&&(w.value=y,C.k&&(_[C.k]=y))};y?(u.id=-1,Xt(u,L)):u()}}}function ws(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(ki().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Xt=Za;function Es(C){return Cs(C)}function Cs(C,D){ws();const L=ki();L.__VUE__=!0;const{insert:G,remove:H,patchProp:g,createElement:y,createText:b,createComment:w,setText:m,setElementText:_,parentNode:h,nextSibling:d,setScopeId:p=Jt,insertStaticContent:u}=C,s=(B,K,J,tt=null,nt=null,rt=null,lt=void 0,ct=null,ut=!!K.dynamicChildren)=>{if(B===K)return;B&&!en(B,K)&&(tt=A(B),V(B,nt,rt,!0),B=null),K.patchFlag===-2&&(ut=!1,K.dynamicChildren=null);const{type:at,ref:ht,shapeFlag:pt}=K;switch(at){case Wn:l(B,K,J,tt);break;case hn:r(B,K,J,tt);break;case ai:B==null&&a(K,J,tt,lt);break;case me:k(B,K,J,tt,nt,rt,lt,ct,ut);break;default:pt&1?e(B,K,J,tt,nt,rt,lt,ct,ut):pt&6?S(B,K,J,tt,nt,rt,lt,ct,ut):(pt&64||pt&128)&&at.process(B,K,J,tt,nt,rt,lt,ct,ut,W)}ht!=null&&nt&&yi(ht,B&&B.ref,rt,K||B,!K)},l=(B,K,J,tt)=>{if(B==null)G(K.el=b(K.children),J,tt);else{const nt=K.el=B.el;K.children!==B.children&&m(nt,K.children)}},r=(B,K,J,tt)=>{B==null?G(K.el=w(K.children||""),J,tt):K.el=B.el},a=(B,K,J,tt)=>{[B.el,B.anchor]=u(B.children,K,J,tt,B.el,B.anchor)},i=({el:B,anchor:K},J,tt)=>{let nt;for(;B&&B!==K;)nt=d(B),G(B,J,tt),B=nt;G(K,J,tt)},n=({el:B,anchor:K})=>{let J;for(;B&&B!==K;)J=d(B),H(B),B=J;H(K)},e=(B,K,J,tt,nt,rt,lt,ct,ut)=>{K.type==="svg"?lt="svg":K.type==="math"&&(lt="mathml"),B==null?t(K,J,tt,nt,rt,lt,ct,ut):f(B,K,nt,rt,lt,ct,ut)},t=(B,K,J,tt,nt,rt,lt,ct)=>{let ut,at;const{props:ht,shapeFlag:pt,transition:gt,dirs:vt}=B;if(ut=B.el=y(B.type,rt,ht&&ht.is,ht),pt&8?_(ut,B.children):pt&16&&c(B.children,ut,null,tt,nt,oi(B,rt),lt,ct),vt&&$e(B,null,tt,"created"),o(ut,B,B.scopeId,lt,tt),ht){for(const N in ht)N!=="value"&&!rn(N)&&g(ut,N,null,ht[N],rt,B.children,tt,nt,U);"value"in ht&&g(ut,"value",null,ht.value,rt),(at=ht.onVnodeBeforeMount)&&ce(at,tt,B)}vt&&$e(B,null,tt,"beforeMount");const _t=ks(nt,gt);_t&&gt.beforeEnter(ut),G(ut,K,J),((at=ht&&ht.onVnodeMounted)||_t||vt)&&Xt(()=>{at&&ce(at,tt,B),_t&&gt.enter(ut),vt&&$e(B,null,tt,"mounted")},nt)},o=(B,K,J,tt,nt)=>{if(J&&p(B,J),tt)for(let rt=0;rt<tt.length;rt++)p(B,tt[rt]);if(nt){let rt=nt.subTree;if(K===rt){const lt=nt.vnode;o(B,lt,lt.scopeId,lt.slotScopeIds,nt.parent)}}},c=(B,K,J,tt,nt,rt,lt,ct,ut=0)=>{for(let at=ut;at<B.length;at++){const ht=B[at]=ct?Oe(B[at]):de(B[at]);s(null,ht,K,J,tt,nt,rt,lt,ct)}},f=(B,K,J,tt,nt,rt,lt)=>{const ct=K.el=B.el;let{patchFlag:ut,dynamicChildren:at,dirs:ht}=K;ut|=B.patchFlag&16;const pt=B.props||$t,gt=K.props||$t;let vt;if(J&&Ve(J,!1),(vt=gt.onVnodeBeforeUpdate)&&ce(vt,J,K,B),ht&&$e(K,B,J,"beforeUpdate"),J&&Ve(J,!0),at?v(B.dynamicChildren,at,ct,J,tt,oi(K,nt),rt):lt||$(B,K,ct,null,J,tt,oi(K,nt),rt,!1),ut>0){if(ut&16)x(ct,K,pt,gt,J,tt,nt);else if(ut&2&&pt.class!==gt.class&&g(ct,"class",null,gt.class,nt),ut&4&&g(ct,"style",pt.style,gt.style,nt),ut&8){const _t=K.dynamicProps;for(let N=0;N<_t.length;N++){const dt=_t[N],bt=pt[dt],xt=gt[dt];(xt!==bt||dt==="value")&&g(ct,dt,bt,xt,nt,B.children,J,tt,U)}}ut&1&&B.children!==K.children&&_(ct,K.children)}else!lt&&at==null&&x(ct,K,pt,gt,J,tt,nt);((vt=gt.onVnodeUpdated)||ht)&&Xt(()=>{vt&&ce(vt,J,K,B),ht&&$e(K,B,J,"updated")},tt)},v=(B,K,J,tt,nt,rt,lt)=>{for(let ct=0;ct<K.length;ct++){const ut=B[ct],at=K[ct],ht=ut.el&&(ut.type===me||!en(ut,at)||ut.shapeFlag&70)?h(ut.el):J;s(ut,at,ht,null,tt,nt,rt,lt,!0)}},x=(B,K,J,tt,nt,rt,lt)=>{if(J!==tt){if(J!==$t)for(const ct in J)!rn(ct)&&!(ct in tt)&&g(B,ct,J[ct],null,lt,K.children,nt,rt,U);for(const ct in tt){if(rn(ct))continue;const ut=tt[ct],at=J[ct];ut!==at&&ct!=="value"&&g(B,ct,at,ut,lt,K.children,nt,rt,U)}"value"in tt&&g(B,"value",J.value,tt.value,lt)}},k=(B,K,J,tt,nt,rt,lt,ct,ut)=>{const at=K.el=B?B.el:b(""),ht=K.anchor=B?B.anchor:b("");let{patchFlag:pt,dynamicChildren:gt,slotScopeIds:vt}=K;vt&&(ct=ct?ct.concat(vt):vt),B==null?(G(at,J,tt),G(ht,J,tt),c(K.children||[],J,ht,nt,rt,lt,ct,ut)):pt>0&&pt&64&&gt&&B.dynamicChildren?(v(B.dynamicChildren,gt,J,nt,rt,lt,ct),(K.key!=null||nt&&K===nt.subTree)&&vr(B,K,!0)):$(B,K,J,ht,nt,rt,lt,ct,ut)},S=(B,K,J,tt,nt,rt,lt,ct,ut)=>{K.slotScopeIds=ct,B==null?K.shapeFlag&512?nt.ctx.activate(K,J,tt,lt,ut):O(K,J,tt,nt,rt,lt,ut):P(B,K,ut)},O=(B,K,J,tt,nt,rt,lt)=>{const ct=B.component=Ws(B,tt,nt);if(br(B)&&(ct.ctx.renderer=W),Gs(ct),ct.asyncDep){if(nt&&nt.registerDep(ct,T,lt),!B.el){const ut=ct.subTree=De(hn);r(null,ut,K,J)}}else T(ct,B,K,J,nt,rt,lt)},P=(B,K,J)=>{const tt=K.component=B.component;if(Ua(B,K,J))if(tt.asyncDep&&!tt.asyncResolved){j(tt,K,J);return}else tt.next=K,Ra(tt.update),tt.effect.dirty=!0,tt.update();else K.el=B.el,tt.vnode=K},T=(B,K,J,tt,nt,rt,lt)=>{const ct=()=>{if(B.isMounted){let{next:ht,bu:pt,u:gt,parent:vt,vnode:_t}=B;{const Dt=_r(B);if(Dt){ht&&(ht.el=_t.el,j(B,ht,lt)),Dt.asyncDep.then(()=>{B.isUnmounted||ct()});return}}let N=ht,dt;Ve(B,!1),ht?(ht.el=_t.el,j(B,ht,lt)):ht=_t,pt&&ti(pt),(dt=ht.props&&ht.props.onVnodeBeforeUpdate)&&ce(dt,vt,ht,_t),Ve(B,!0);const bt=ni(B),xt=B.subTree;B.subTree=bt,s(xt,bt,h(xt.el),A(xt),B,nt,rt),ht.el=bt.el,N===null&&qa(B,bt.el),gt&&Xt(gt,nt),(dt=ht.props&&ht.props.onVnodeUpdated)&&Xt(()=>ce(dt,vt,ht,_t),nt)}else{let ht;const{el:pt,props:gt}=K,{bm:vt,m:_t,parent:N}=B,dt=On(K);if(Ve(B,!1),vt&&ti(vt),!dt&&(ht=gt&&gt.onVnodeBeforeMount)&&ce(ht,N,K),Ve(B,!0),pt&&Z){const bt=()=>{B.subTree=ni(B),Z(pt,B.subTree,B,nt,null)};dt?K.type.__asyncLoader().then(()=>!B.isUnmounted&&bt()):bt()}else{const bt=B.subTree=ni(B);s(null,bt,J,tt,B,nt,rt),K.el=bt.el}if(_t&&Xt(_t,nt),!dt&&(ht=gt&&gt.onVnodeMounted)){const bt=K;Xt(()=>ce(ht,N,bt),nt)}(K.shapeFlag&256||N&&On(N.vnode)&&N.vnode.shapeFlag&256)&&B.a&&Xt(B.a,nt),B.isMounted=!0,K=J=tt=null}},ut=B.effect=new Oi(ct,Jt,()=>Fi(at),B.scope),at=B.update=()=>{ut.dirty&&ut.run()};at.id=B.uid,Ve(B,!0),at()},j=(B,K,J)=>{K.component=B;const tt=B.vnode.props;B.vnode=K,B.next=null,ms(B,K.props,tt,J),xs(B,K.children,J),Te(),so(B),Ae()},$=(B,K,J,tt,nt,rt,lt,ct,ut=!1)=>{const at=B&&B.children,ht=B?B.shapeFlag:0,pt=K.children,{patchFlag:gt,shapeFlag:vt}=K;if(gt>0){if(gt&128){F(at,pt,J,tt,nt,rt,lt,ct,ut);return}else if(gt&256){I(at,pt,J,tt,nt,rt,lt,ct,ut);return}}vt&8?(ht&16&&U(at,nt,rt),pt!==at&&_(J,pt)):ht&16?vt&16?F(at,pt,J,tt,nt,rt,lt,ct,ut):U(at,nt,rt,!0):(ht&8&&_(J,""),vt&16&&c(pt,J,tt,nt,rt,lt,ct,ut))},I=(B,K,J,tt,nt,rt,lt,ct,ut)=>{B=B||Ue,K=K||Ue;const at=B.length,ht=K.length,pt=Math.min(at,ht);let gt;for(gt=0;gt<pt;gt++){const vt=K[gt]=ut?Oe(K[gt]):de(K[gt]);s(B[gt],vt,J,null,nt,rt,lt,ct,ut)}at>ht?U(B,nt,rt,!0,!1,pt):c(K,J,tt,nt,rt,lt,ct,ut,pt)},F=(B,K,J,tt,nt,rt,lt,ct,ut)=>{let at=0;const ht=K.length;let pt=B.length-1,gt=ht-1;for(;at<=pt&&at<=gt;){const vt=B[at],_t=K[at]=ut?Oe(K[at]):de(K[at]);if(en(vt,_t))s(vt,_t,J,null,nt,rt,lt,ct,ut);else break;at++}for(;at<=pt&&at<=gt;){const vt=B[pt],_t=K[gt]=ut?Oe(K[gt]):de(K[gt]);if(en(vt,_t))s(vt,_t,J,null,nt,rt,lt,ct,ut);else break;pt--,gt--}if(at>pt){if(at<=gt){const vt=gt+1,_t=vt<ht?K[vt].el:tt;for(;at<=gt;)s(null,K[at]=ut?Oe(K[at]):de(K[at]),J,_t,nt,rt,lt,ct,ut),at++}}else if(at>gt)for(;at<=pt;)V(B[at],nt,rt,!0),at++;else{const vt=at,_t=at,N=new Map;for(at=_t;at<=gt;at++){const wt=K[at]=ut?Oe(K[at]):de(K[at]);wt.key!=null&&N.set(wt.key,at)}let dt,bt=0;const xt=gt-_t+1;let Dt=!1,Mt=0;const Ct=new Array(xt);for(at=0;at<xt;at++)Ct[at]=0;for(at=vt;at<=pt;at++){const wt=B[at];if(bt>=xt){V(wt,nt,rt,!0);continue}let Ft;if(wt.key!=null)Ft=N.get(wt.key);else for(dt=_t;dt<=gt;dt++)if(Ct[dt-_t]===0&&en(wt,K[dt])){Ft=dt;break}Ft===void 0?V(wt,nt,rt,!0):(Ct[Ft-_t]=at+1,Ft>=Mt?Mt=Ft:Dt=!0,s(wt,K[Ft],J,null,nt,rt,lt,ct,ut),bt++)}const It=Dt?Ss(Ct):Ue;for(dt=It.length-1,at=xt-1;at>=0;at--){const wt=_t+at,Ft=K[wt],Rt=wt+1<ht?K[wt+1].el:tt;Ct[at]===0?s(null,Ft,J,Rt,nt,rt,lt,ct,ut):Dt&&(dt<0||at!==It[dt]?E(Ft,J,Rt,2):dt--)}}},E=(B,K,J,tt,nt=null)=>{const{el:rt,type:lt,transition:ct,children:ut,shapeFlag:at}=B;if(at&6){E(B.component.subTree,K,J,tt);return}if(at&128){B.suspense.move(K,J,tt);return}if(at&64){lt.move(B,K,J,W);return}if(lt===me){G(rt,K,J);for(let pt=0;pt<ut.length;pt++)E(ut[pt],K,J,tt);G(B.anchor,K,J);return}if(lt===ai){i(B,K,J);return}if(tt!==2&&at&1&&ct)if(tt===0)ct.beforeEnter(rt),G(rt,K,J),Xt(()=>ct.enter(rt),nt);else{const{leave:pt,delayLeave:gt,afterLeave:vt}=ct,_t=()=>G(rt,K,J),N=()=>{pt(rt,()=>{_t(),vt&&vt()})};gt?gt(rt,_t,N):N()}else G(rt,K,J)},V=(B,K,J,tt=!1,nt=!1)=>{const{type:rt,props:lt,ref:ct,children:ut,dynamicChildren:at,shapeFlag:ht,patchFlag:pt,dirs:gt,memoIndex:vt}=B;if(ct!=null&&yi(ct,null,J,B,!0),vt!=null&&(K.renderCache[vt]=void 0),ht&256){K.ctx.deactivate(B);return}const _t=ht&1&&gt,N=!On(B);let dt;if(N&&(dt=lt&&lt.onVnodeBeforeUnmount)&&ce(dt,K,B),ht&6)Y(B.component,J,tt);else{if(ht&128){B.suspense.unmount(J,tt);return}_t&&$e(B,null,K,"beforeUnmount"),ht&64?B.type.remove(B,K,J,nt,W,tt):at&&(rt!==me||pt>0&&pt&64)?U(at,K,J,!1,!0):(rt===me&&pt&384||!nt&&ht&16)&&U(ut,K,J),tt&&z(B)}(N&&(dt=lt&&lt.onVnodeUnmounted)||_t)&&Xt(()=>{dt&&ce(dt,K,B),_t&&$e(B,null,K,"unmounted")},J)},z=B=>{const{type:K,el:J,anchor:tt,transition:nt}=B;if(K===me){X(J,tt);return}if(K===ai){n(B);return}const rt=()=>{H(J),nt&&!nt.persisted&&nt.afterLeave&&nt.afterLeave()};if(B.shapeFlag&1&&nt&&!nt.persisted){const{leave:lt,delayLeave:ct}=nt,ut=()=>lt(J,rt);ct?ct(B.el,rt,ut):ut()}else rt()},X=(B,K)=>{let J;for(;B!==K;)J=d(B),H(B),B=J;H(K)},Y=(B,K,J)=>{const{bum:tt,scope:nt,update:rt,subTree:lt,um:ct,m:ut,a:at}=B;yo(ut),yo(at),tt&&ti(tt),nt.stop(),rt&&(rt.active=!1,V(lt,B,K,J)),ct&&Xt(ct,K),Xt(()=>{B.isUnmounted=!0},K),K&&K.pendingBranch&&!K.isUnmounted&&B.asyncDep&&!B.asyncResolved&&B.suspenseId===K.pendingId&&(K.deps--,K.deps===0&&K.resolve())},U=(B,K,J,tt=!1,nt=!1,rt=0)=>{for(let lt=rt;lt<B.length;lt++)V(B[lt],K,J,tt,nt)},A=B=>B.shapeFlag&6?A(B.component.subTree):B.shapeFlag&128?B.suspense.next():d(B.anchor||B.el);let M=!1;const R=(B,K,J)=>{B==null?K._vnode&&V(K._vnode,null,null,!0):s(K._vnode||null,B,K,null,null,null,J),M||(M=!0,so(),tr(),M=!1),K._vnode=B},W={p:s,um:V,m:E,r:z,mt:O,mc:c,pc:$,pbc:v,n:A,o:C};let Q,Z;return D&&([Q,Z]=D(W)),{render:R,hydrate:Q,createApp:gs(R,Q)}}function oi({type:C,props:D},L){return L==="svg"&&C==="foreignObject"||L==="mathml"&&C==="annotation-xml"&&D&&D.encoding&&D.encoding.includes("html")?void 0:L}function Ve({effect:C,update:D},L){C.allowRecurse=D.allowRecurse=L}function ks(C,D){return(!C||C&&!C.pendingBranch)&&D&&!D.persisted}function vr(C,D,L=!1){const G=C.children,H=D.children;if(kt(G)&&kt(H))for(let g=0;g<G.length;g++){const y=G[g];let b=H[g];b.shapeFlag&1&&!b.dynamicChildren&&((b.patchFlag<=0||b.patchFlag===32)&&(b=H[g]=Oe(H[g]),b.el=y.el),!L&&b.patchFlag!==-2&&vr(y,b)),b.type===Wn&&(b.el=y.el)}}function Ss(C){const D=C.slice(),L=[0];let G,H,g,y,b;const w=C.length;for(G=0;G<w;G++){const m=C[G];if(m!==0){if(H=L[L.length-1],C[H]<m){D[G]=H,L.push(G);continue}for(g=0,y=L.length-1;g<y;)b=g+y>>1,C[L[b]]<m?g=b+1:y=b;m<C[L[g]]&&(g>0&&(D[G]=L[g-1]),L[g]=G)}}for(g=L.length,y=L[g-1];g-- >0;)L[g]=y,y=D[y];return L}function _r(C){const D=C.subTree.component;if(D)return D.asyncDep&&!D.asyncResolved?D:_r(D)}function yo(C){if(C)for(let D=0;D<C.length;D++)C[D].active=!1}const Is=Symbol.for("v-scx"),Os=()=>Pn(Is),In={};function ri(C,D,L){return mr(C,D,L)}function mr(C,D,{immediate:L,deep:G,flush:H,once:g,onTrack:y,onTrigger:b}=$t){if(D&&g){const t=D;D=(...o)=>{t(...o),e()}}const w=qt,m=t=>G===!0?t:Fe(t,G===!1?1:void 0);let _,h=!1,d=!1;if(Zt(C)?(_=()=>C.value,h=fi(C)):an(C)?(_=()=>m(C),h=!0):kt(C)?(d=!0,h=C.some(t=>an(t)||fi(t)),_=()=>C.map(t=>{if(Zt(t))return t.value;if(an(t))return m(t);if(St(t))return Me(t,w,2)})):St(C)?D?_=()=>Me(C,w,2):_=()=>(p&&p(),re(C,w,3,[u])):_=Jt,D&&G){const t=_;_=()=>Fe(t())}let p,u=t=>{p=i.onStop=()=>{Me(t,w,4),p=i.onStop=void 0}},s;if(Gn)if(u=Jt,D?L&&re(D,w,3,[_(),d?[]:void 0,u]):_(),H==="sync"){const t=Os();s=t.__watcherHandles||(t.__watcherHandles=[])}else return Jt;let l=d?new Array(C.length).fill(In):In;const r=()=>{if(!(!i.active||!i.dirty))if(D){const t=i.run();(G||h||(d?t.some((o,c)=>Ne(o,l[c])):Ne(t,l)))&&(p&&p(),re(D,w,3,[t,l===In?void 0:d&&l[0]===In?[]:l,u]),l=t)}else i.run()};r.allowRecurse=!!D;let a;H==="sync"?a=r:H==="post"?a=()=>Xt(r,w&&w.suspense):(r.pre=!0,w&&(r.id=w.uid),a=()=>Fi(r));const i=new Oi(_,Jt,a),n=da(),e=()=>{i.stop(),n&&Ei(n.effects,i)};return D?L?r():l=i.run():H==="post"?Xt(i.run.bind(i),w&&w.suspense):i.run(),s&&s.push(e),e}function Ps(C,D,L){const G=this.proxy,H=Gt(C)?C.includes(".")?yr(G,C):()=>G[C]:C.bind(G,G);let g;St(D)?g=D:(g=D.handler,L=D);const y=gn(this),b=mr(H,g.bind(G),L);return y(),b}function yr(C,D){const L=D.split(".");return()=>{let G=C;for(let H=0;H<L.length&&G;H++)G=G[L[H]];return G}}function Fe(C,D=1/0,L){if(D<=0||!Nt(C)||C.__v_skip||(L=L||new Set,L.has(C)))return C;if(L.add(C),D--,Zt(C))Fe(C.value,D,L);else if(kt(C))for(let G=0;G<C.length;G++)Fe(C[G],D,L);else if(Xr(C)||on(C))C.forEach(G=>{Fe(G,D,L)});else if(Zr(C)){for(const G in C)Fe(C[G],D,L);for(const G of Object.getOwnPropertySymbols(C))Object.prototype.propertyIsEnumerable.call(C,G)&&Fe(C[G],D,L)}return C}const br=C=>C.type.__isKeepAlive;function Ms(C,D){xr(C,"a",D)}function Ds(C,D){xr(C,"da",D)}function xr(C,D,L=qt){const G=C.__wdc||(C.__wdc=()=>{let H=L;for(;H;){if(H.isDeactivated)return;H=H.parent}return C()});if(zn(D,G,L),L){let H=L.parent;for(;H&&H.parent;)br(H.parent.vnode)&&Ts(G,D,L,H),H=H.parent}}function Ts(C,D,L,G){const H=zn(D,C,G,!0);rr(()=>{Ei(G[D],H)},L)}function wr(C,D){C.shapeFlag&6&&C.component?wr(C.component.subTree,D):C.shapeFlag&128?(C.ssContent.transition=D.clone(C.ssContent),C.ssFallback.transition=D.clone(C.ssFallback)):C.transition=D}const As=C=>C.__isTeleport,me=Symbol.for("v-fgt"),Wn=Symbol.for("v-txt"),hn=Symbol.for("v-cmt"),ai=Symbol.for("v-stc"),cn=[];let oe=null;function Er(C=!1){cn.push(oe=C?null:[])}function Hs(){cn.pop(),oe=cn[cn.length-1]||null}let fn=1;function bo(C){fn+=C}function Cr(C){return C.dynamicChildren=fn>0?oe||Ue:null,Hs(),fn>0&&oe&&oe.push(C),C}function $s(C,D,L,G,H,g){return Cr(Sr(C,D,L,G,H,g,!0))}function Vs(C,D,L,G,H){return Cr(De(C,D,L,G,H,!0))}function js(C){return C?C.__v_isVNode===!0:!1}function en(C,D){return C.type===D.type&&C.key===D.key}const kr=({key:C})=>C!=null?C:null,Mn=({ref:C,ref_key:D,ref_for:L})=>(typeof C=="number"&&(C=""+C),C!=null?Gt(C)||Zt(C)||St(C)?{i:ie,r:C,k:D,f:!!L}:C:null);function Sr(C,D=null,L=null,G=0,H=null,g=C===me?0:1,y=!1,b=!1){const w={__v_isVNode:!0,__v_skip:!0,type:C,props:D,key:D&&kr(D),ref:D&&Mn(D),scopeId:ir,slotScopeIds:null,children:L,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:G,dynamicProps:H,dynamicChildren:null,appContext:null,ctx:ie};return b?(Ni(w,L),g&128&&C.normalize(w)):L&&(w.shapeFlag|=Gt(L)?8:16),fn>0&&!y&&oe&&(w.patchFlag>0||g&6)&&w.patchFlag!==32&&oe.push(w),w}const De=Fs;function Fs(C,D=null,L=null,G=0,H=null,g=!1){if((!C||C===Xa)&&(C=hn),js(C)){const b=Ye(C,D,!0);return L&&Ni(b,L),fn>0&&!g&&oe&&(b.shapeFlag&6?oe[oe.indexOf(C)]=b:oe.push(b)),b.patchFlag=-2,b}if(Ks(C)&&(C=C.__vccOpts),D){D=Rs(D);let{class:b,style:w}=D;b&&!Gt(b)&&(D.class=Ii(b)),Nt(w)&&(Xo(w)&&!kt(w)&&(w=Wt({},w)),D.style=Si(w))}const y=Gt(C)?1:Ja(C)?128:As(C)?64:Nt(C)?4:St(C)?2:0;return Sr(C,D,L,G,H,y,g,!0)}function Rs(C){return C?Xo(C)||dr(C)?Wt({},C):C:null}function Ye(C,D,L=!1,G=!1){const{props:H,ref:g,patchFlag:y,children:b,transition:w}=C,m=D?Ns(H||{},D):H,_={__v_isVNode:!0,__v_skip:!0,type:C.type,props:m,key:m&&kr(m),ref:D&&D.ref?L&&g?kt(g)?g.concat(Mn(D)):[g,Mn(D)]:Mn(D):g,scopeId:C.scopeId,slotScopeIds:C.slotScopeIds,children:b,target:C.target,targetAnchor:C.targetAnchor,staticCount:C.staticCount,shapeFlag:C.shapeFlag,patchFlag:D&&C.type!==me?y===-1?16:y|16:y,dynamicProps:C.dynamicProps,dynamicChildren:C.dynamicChildren,appContext:C.appContext,dirs:C.dirs,transition:w,component:C.component,suspense:C.suspense,ssContent:C.ssContent&&Ye(C.ssContent),ssFallback:C.ssFallback&&Ye(C.ssFallback),el:C.el,anchor:C.anchor,ctx:C.ctx,ce:C.ce};return w&&G&&wr(_,w.clone(_)),_}function Ls(C=" ",D=0){return De(Wn,null,C,D)}function de(C){return C==null||typeof C=="boolean"?De(hn):kt(C)?De(me,null,C.slice()):typeof C=="object"?Oe(C):De(Wn,null,String(C))}function Oe(C){return C.el===null&&C.patchFlag!==-1||C.memo?C:Ye(C)}function Ni(C,D){let L=0;const{shapeFlag:G}=C;if(D==null)D=null;else if(kt(D))L=16;else if(typeof D=="object")if(G&65){const H=D.default;H&&(H._c&&(H._d=!1),Ni(C,H()),H._c&&(H._d=!0));return}else{L=32;const H=D._;!H&&!dr(D)?D._ctx=ie:H===3&&ie&&(ie.slots._===1?D._=1:(D._=2,C.patchFlag|=1024))}else St(D)?(D={default:D,_ctx:ie},L=32):(D=String(D),G&64?(L=16,D=[Ls(D)]):L=8);C.children=D,C.shapeFlag|=L}function Ns(...C){const D={};for(let L=0;L<C.length;L++){const G=C[L];for(const H in G)if(H==="class")D.class!==G.class&&(D.class=Ii([D.class,G.class]));else if(H==="style")D.style=Si([D.style,G.style]);else if(Vn(H)){const g=D[H],y=G[H];y&&g!==y&&!(kt(g)&&g.includes(y))&&(D[H]=g?[].concat(g,y):y)}else H!==""&&(D[H]=G[H])}return D}function ce(C,D,L,G=null){re(C,D,7,[L,G])}const Bs=sr();let zs=0;function Ws(C,D,L){const G=C.type,H=(D?D.appContext:C.appContext)||Bs,g={uid:zs++,vnode:C,type:G,parent:D,appContext:H,root:null,next:null,subTree:null,effect:null,update:null,scope:new la(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:D?D.provides:Object.create(H.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hr(G,H),emitsOptions:nr(G,H),emit:null,emitted:null,propsDefaults:$t,inheritAttrs:G.inheritAttrs,ctx:$t,data:$t,props:$t,attrs:$t,slots:$t,refs:$t,setupState:$t,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:L,suspenseId:L?L.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=D?D.root:g,g.emit=Ba.bind(null,g),C.ce&&C.ce(g),g}let qt=null,$n,bi;{const C=ki(),D=(L,G)=>{let H;return(H=C[L])||(H=C[L]=[]),H.push(G),g=>{H.length>1?H.forEach(y=>y(g)):H[0](g)}};$n=D("__VUE_INSTANCE_SETTERS__",L=>qt=L),bi=D("__VUE_SSR_SETTERS__",L=>Gn=L)}const gn=C=>{const D=qt;return $n(C),C.scope.on(),()=>{C.scope.off(),$n(D)}},xo=()=>{qt&&qt.scope.off(),$n(null)};function Ir(C){return C.vnode.shapeFlag&4}let Gn=!1;function Gs(C,D=!1){D&&bi(D);const{props:L,children:G}=C.vnode,H=Ir(C);_s(C,L,H,D),bs(C,G);const g=H?Us(C,D):void 0;return D&&bi(!1),g}function Us(C,D){const L=C.type;C.accessCache=Object.create(null),C.proxy=new Proxy(C.ctx,ls);const{setup:G}=L;if(G){const H=C.setupContext=G.length>1?Ys(C):null,g=gn(C);Te();const y=Me(G,C,0,[C.props,H]);if(Ae(),g(),Ho(y)){if(y.then(xo,xo),D)return y.then(b=>{wo(C,b,D)}).catch(b=>{Nn(b,C,0)});C.asyncDep=y}else wo(C,y,D)}else Or(C,D)}function wo(C,D,L){St(D)?C.type.__ssrInlineRender?C.ssrRender=D:C.render=D:Nt(D)&&(C.setupState=Jo(D)),Or(C,L)}let Eo;function Or(C,D,L){const G=C.type;if(!C.render){if(!D&&Eo&&!G.render){const H=G.template||Ri(C).template;if(H){const{isCustomElement:g,compilerOptions:y}=C.appContext.config,{delimiters:b,compilerOptions:w}=G,m=Wt(Wt({isCustomElement:g,delimiters:b},y),w);G.render=Eo(H,m)}}C.render=G.render||Jt}{const H=gn(C);Te();try{cs(C)}finally{Ae(),H()}}}const qs={get(C,D){return Kt(C,"get",""),C[D]}};function Ys(C){const D=L=>{C.exposed=L||{}};return{attrs:new Proxy(C.attrs,qs),slots:C.slots,emit:C.emit,expose:D}}function Bi(C){return C.exposed?C.exposeProxy||(C.exposeProxy=new Proxy(Jo(Da(C.exposed)),{get(D,L){if(L in D)return D[L];if(L in sn)return sn[L](C)},has(D,L){return L in D||L in sn}})):C.proxy}function Xs(C,D=!0){return St(C)?C.displayName||C.name:C.name||D&&C.__name}function Ks(C){return St(C)&&"__vccOpts"in C}const Js=(C,D)=>Ta(C,D,Gn),Zs="3.4.29";/**
* @vue/runtime-dom v3.4.29
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Qs="http://www.w3.org/2000/svg",tl="http://www.w3.org/1998/Math/MathML",_e=typeof document<"u"?document:null,Co=_e&&_e.createElement("template"),el={insert:(C,D,L)=>{D.insertBefore(C,L||null)},remove:C=>{const D=C.parentNode;D&&D.removeChild(C)},createElement:(C,D,L,G)=>{const H=D==="svg"?_e.createElementNS(Qs,C):D==="mathml"?_e.createElementNS(tl,C):L?_e.createElement(C,{is:L}):_e.createElement(C);return C==="select"&&G&&G.multiple!=null&&H.setAttribute("multiple",G.multiple),H},createText:C=>_e.createTextNode(C),createComment:C=>_e.createComment(C),setText:(C,D)=>{C.nodeValue=D},setElementText:(C,D)=>{C.textContent=D},parentNode:C=>C.parentNode,nextSibling:C=>C.nextSibling,querySelector:C=>_e.querySelector(C),setScopeId(C,D){C.setAttribute(D,"")},insertStaticContent(C,D,L,G,H,g){const y=L?L.previousSibling:D.lastChild;if(H&&(H===g||H.nextSibling))for(;D.insertBefore(H.cloneNode(!0),L),!(H===g||!(H=H.nextSibling)););else{Co.innerHTML=G==="svg"?`<svg>${C}</svg>`:G==="mathml"?`<math>${C}</math>`:C;const b=Co.content;if(G==="svg"||G==="mathml"){const w=b.firstChild;for(;w.firstChild;)b.appendChild(w.firstChild);b.removeChild(w)}D.insertBefore(b,L)}return[y?y.nextSibling:D.firstChild,L?L.previousSibling:D.lastChild]}},nl=Symbol("_vtc");function il(C,D,L){const G=C[nl];G&&(D=(D?[D,...G]:[...G]).join(" ")),D==null?C.removeAttribute("class"):L?C.setAttribute("class",D):C.className=D}const ko=Symbol("_vod"),ol=Symbol("_vsh"),rl=Symbol(""),al=/(^|;)\s*display\s*:/;function sl(C,D,L){const G=C.style,H=Gt(L);let g=!1;if(L&&!H){if(D)if(Gt(D))for(const y of D.split(";")){const b=y.slice(0,y.indexOf(":")).trim();L[b]==null&&Dn(G,b,"")}else for(const y in D)L[y]==null&&Dn(G,y,"");for(const y in L)y==="display"&&(g=!0),Dn(G,y,L[y])}else if(H){if(D!==L){const y=G[rl];y&&(L+=";"+y),G.cssText=L,g=al.test(L)}}else D&&C.removeAttribute("style");ko in C&&(C[ko]=g?G.display:"",C[ol]&&(G.display="none"))}const So=/\s*!important$/;function Dn(C,D,L){if(kt(L))L.forEach(G=>Dn(C,D,G));else if(L==null&&(L=""),D.startsWith("--"))C.setProperty(D,L);else{const G=ll(C,D);So.test(L)?C.setProperty(Xe(G),L.replace(So,""),"important"):C[G]=L}}const Io=["Webkit","Moz","ms"],si={};function ll(C,D){const L=si[D];if(L)return L;let G=he(D);if(G!=="filter"&&G in C)return si[D]=G;G=Rn(G);for(let H=0;H<Io.length;H++){const g=Io[H]+G;if(g in C)return si[D]=g}return D}const Oo="http://www.w3.org/1999/xlink";function Po(C,D,L,G,H,g=sa(D)){G&&D.startsWith("xlink:")?L==null?C.removeAttributeNS(Oo,D.slice(6,D.length)):C.setAttributeNS(Oo,D,L):L==null||g&&!Vo(L)?C.removeAttribute(D):C.setAttribute(D,g?"":String(L))}function cl(C,D,L,G,H,g,y){if(D==="innerHTML"||D==="textContent"){G&&y(G,H,g),C[D]=L==null?"":L;return}const b=C.tagName;if(D==="value"&&b!=="PROGRESS"&&!b.includes("-")){const m=b==="OPTION"?C.getAttribute("value")||"":C.value,_=L==null?"":String(L);(m!==_||!("_value"in C))&&(C.value=_),L==null&&C.removeAttribute(D),C._value=L;return}let w=!1;if(L===""||L==null){const m=typeof C[D];m==="boolean"?L=Vo(L):L==null&&m==="string"?(L="",w=!0):m==="number"&&(L=0,w=!0)}try{C[D]=L}catch{}w&&C.removeAttribute(D)}function dl(C,D,L,G){C.addEventListener(D,L,G)}function ul(C,D,L,G){C.removeEventListener(D,L,G)}const Mo=Symbol("_vei");function hl(C,D,L,G,H=null){const g=C[Mo]||(C[Mo]={}),y=g[D];if(G&&y)y.value=G;else{const[b,w]=fl(D);if(G){const m=g[D]=vl(G,H);dl(C,b,m,w)}else y&&(ul(C,b,y,w),g[D]=void 0)}}const Do=/(?:Once|Passive|Capture)$/;function fl(C){let D;if(Do.test(C)){D={};let G;for(;G=C.match(Do);)C=C.slice(0,C.length-G[0].length),D[G[0].toLowerCase()]=!0}return[C[2]===":"?C.slice(3):Xe(C.slice(2)),D]}let li=0;const pl=Promise.resolve(),gl=()=>li||(pl.then(()=>li=0),li=Date.now());function vl(C,D){const L=G=>{if(!G._vts)G._vts=Date.now();else if(G._vts<=L.attached)return;re(_l(G,L.value),D,5,[G])};return L.value=C,L.attached=gl(),L}function _l(C,D){if(kt(D)){const L=C.stopImmediatePropagation;return C.stopImmediatePropagation=()=>{L.call(C),C._stopped=!0},D.map(G=>H=>!H._stopped&&G&&G(H))}else return D}const To=C=>C.charCodeAt(0)===111&&C.charCodeAt(1)===110&&C.charCodeAt(2)>96&&C.charCodeAt(2)<123,ml=(C,D,L,G,H,g,y,b,w)=>{const m=H==="svg";D==="class"?il(C,G,m):D==="style"?sl(C,L,G):Vn(D)?wi(D)||hl(C,D,L,G,y):(D[0]==="."?(D=D.slice(1),!0):D[0]==="^"?(D=D.slice(1),!1):yl(C,D,G,m))?(cl(C,D,G,g,y,b,w),(D==="value"||D==="checked"||D==="selected")&&Po(C,D,G,m,y,D!=="value")):(D==="true-value"?C._trueValue=G:D==="false-value"&&(C._falseValue=G),Po(C,D,G,m))};function yl(C,D,L,G){if(G)return!!(D==="innerHTML"||D==="textContent"||D in C&&To(D)&&St(L));if(D==="spellcheck"||D==="draggable"||D==="translate"||D==="form"||D==="list"&&C.tagName==="INPUT"||D==="type"&&C.tagName==="TEXTAREA")return!1;if(D==="width"||D==="height"){const H=C.tagName;if(H==="IMG"||H==="VIDEO"||H==="CANVAS"||H==="SOURCE")return!1}return To(D)&&Gt(L)?!1:D in C}const bl=Wt({patchProp:ml},el);let Ao;function xl(){return Ao||(Ao=Es(bl))}const wl=(...C)=>{const D=xl().createApp(...C),{mount:L}=D;return D.mount=G=>{const H=Cl(G);if(!H)return;const g=D._component;!St(g)&&!g.render&&!g.template&&(g.template=H.innerHTML),H.innerHTML="";const y=L(H,!1,El(H));return H instanceof Element&&(H.removeAttribute("v-cloak"),H.setAttribute("data-v-app","")),y},D};function El(C){if(C instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&C instanceof MathMLElement)return"mathml"}function Cl(C){return Gt(C)?document.querySelector(C):C}var Pr={exports:{}};/*
@license

dhtmlxDiagram v.6.0.1 Evaluation

This software is covered by DHTMLX Evaluation License and purposed only for evaluation.
Contact sales@dhtmlx.com to get Commercial or Enterprise license.
Usage without proper license is prohibited.

(c) XB Software.

*/(function(C,D){if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),function(H,g){C.exports=g()}(window,function(){return function(H){var g={};function y(b){if(g[b])return g[b].exports;var w=g[b]={i:b,l:!1,exports:{}};return H[b].call(w.exports,w,w.exports,y),w.l=!0,w.exports}return y.m=H,y.c=g,y.d=function(b,w,m){y.o(b,w)||Object.defineProperty(b,w,{enumerable:!0,get:m})},y.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},y.t=function(b,w){if(1&w&&(b=y(b)),8&w||4&w&&typeof b=="object"&&b&&b.__esModule)return b;var m=Object.create(null);if(y.r(m),Object.defineProperty(m,"default",{enumerable:!0,value:b}),2&w&&typeof b!="string")for(var _ in b)y.d(m,_,function(h){return b[h]}.bind(null,_));return m},y.n=function(b){var w=b&&b.__esModule?function(){return b.default}:function(){return b};return y.d(w,"a",w),w},y.o=function(b,w){return Object.prototype.hasOwnProperty.call(b,w)},y.p="/codebase/",y(y.s=114)}([function(H,g,y){(function(b){Object.defineProperty(g,"__esModule",{value:!0}),g.setTheme=g.awaitRedraw=g.resizeHandler=g.jsonToVDOM=g.xmlToJson=g.resizer=g.disableHelp=g.KEYED_LIST=g.inject=g.create=g.view=g.sv=g.el=void 0;var w=y(125),m=y(2);g.el=w.defineElement,g.sv=w.defineSvgElement,g.view=w.defineView,g.create=w.createView,g.inject=w.injectView,g.KEYED_LIST=w.KEYED_LIST;var _=["animate","animateMotion","animateTransform","circle","clipPath","color-profile","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tspan","unknown","use","view"];function h(d){var p=window.ResizeObserver,u=function(s){var l=s.el.offsetHeight,r=s.el.offsetWidth;d(r,l)};return p?(0,g.el)("div.dhx-resize-observer",{_hooks:{didInsert:function(s){new p(function(){return u(s)}).observe(s.el)}}}):(0,g.el)("iframe.dhx-resize-observer",{_hooks:{didInsert:function(s){s.el.contentWindow.onresize=function(){return u(s)},u(s)}}})}g.disableHelp=function(){w.DEVMODE.mutations=!1,w.DEVMODE.warnings=!1,w.DEVMODE.verbose=!1,w.DEVMODE.UNKEYED_INPUT=!1},g.resizer=h,g.xmlToJson=function d(p){var u={};if(p.nodeType===1){if(p.attributes.length>0){u["@attributes"]={};for(var s=0;s<p.attributes.length;s++){var l=p.attributes.item(s);u["@attributes"][l.nodeName]=l.nodeValue}}}else p.nodeType===3&&(u=p.nodeValue);if(p.hasChildNodes())for(var r=0;r<p.childNodes.length;r++){var a=p.childNodes.item(r),i=a.nodeName;if(u[i]===void 0)u[i]=d(a);else{if(u[i].push===void 0){var n=u[i];u[i]=[],u[i].push(n)}u[i].push(d(a))}}return u},g.jsonToVDOM=function d(p){var u,s,l=Object.keys(p)[0],r=p[l];Array.isArray(r["#text"])&&(r["#text"]=r["#text"].join("").trim());var a=typeof r["#text"]=="string"?[r["#text"]]:[];for(var i in r)if(r.hasOwnProperty(i)&&i!=="@attributes"&&i!=="#text")if(Array.isArray(r[i]))for(var n in r[i])r[i].hasOwnProperty(n)&&a.push(d(((u={})[i]=r[i][n],u)));else a.push(d(((s={})[i]=r[i],s)));return _.includes(l)?(0,g.sv)(l,r["@attributes"]?r["@attributes"]:{},a):(0,g.el)(l,r["@attributes"]?r["@attributes"]:{},a)},g.resizeHandler=function(d,p){return(0,g.create)({render:function(){return h(p)}}).mount(d)},g.awaitRedraw=function(){return new b(function(d){requestAnimationFrame(function(){d()})})},g.setTheme=function(d,p){d===void 0&&(d="light");var u="data-dhx-theme";p||document.querySelectorAll("[".concat(u,"]")).forEach(function(s){return s.removeAttribute(u)}),p=p||document.documentElement,(0,m.toNode)(p).setAttribute(u,d)}}).call(this,y(17))},function(H,g,y){(function(b){var w=this&&this.__assign||function(){return w=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},w.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.blobToBase64=g.isMacintosh=g.getTextLines=g.getCloneObject=g.rgbToHex=g.isObject=g.getStringWidth=g.getMinArrayNumber=g.getMaxArrayNumber=g.isEmptyObj=g.isType=g.compare=g.debounce=g.downloadFile=g.isNumeric=g.range=g.isId=g.isDefined=g.wrapBox=g.unwrapBox=g.detectWidgetClick=g.singleOuterClick=g.isExistValue=g.findIndex=g.naturalSort=g.copy=g.extend=g.uid=void 0;var m=y(2),_=new Date().valueOf();g.uid=function(){return"u"+_++},g.extend=function h(d,p,u){if(u===void 0&&(u=!0),p)for(var s in p){var l=p[s],r=d[s];l===void 0?delete d[s]:!u||typeof r!="object"||r instanceof Date||r instanceof Array?d[s]=l:h(r,l)}return d},g.copy=function(h,d){var p={};for(var u in h)d&&u.startsWith("$")||(p[u]=h[u]);return p},g.naturalSort=function(h){return h.sort(function(d,p){return typeof d=="string"?d.localeCompare(p):d-p})},g.findIndex=function(h,d){for(var p=h.length,u=0;u<p;u++)if(d(h[u]))return u;return-1},g.isExistValue=function(h,d){var p=d.toString(),u=h.toString();return!(p.length>u.length)&&u.toLowerCase().includes(p.toLowerCase())},g.singleOuterClick=function(h){var d=function(p){h(p)&&document.removeEventListener("click",d)};document.addEventListener("click",d)},g.detectWidgetClick=function(h,d){var p=function(u){return d((0,m.locate)(u,"data-dhx-widget-id")===h)};return document.addEventListener("click",p),function(){return document.removeEventListener("click",p)}},g.unwrapBox=function(h){return Array.isArray(h)?h[0]:h},g.wrapBox=function(h){return Array.isArray(h)?h:[h]},g.isDefined=function(h){return h!=null},g.isId=function(h){return typeof h=="number"||typeof h=="string"&&h!==""},g.range=function(h,d){if(h>d)return[];for(var p=[];h<=d;)p.push(h++);return p},g.isNumeric=function(h){return!isNaN(h-parseFloat(h))},g.downloadFile=function(h,d,p){p===void 0&&(p="text/plain");var u=new Blob([h],{type:p});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(u,d);else{var s=document.createElement("a"),l=URL.createObjectURL(u);s.href=l,s.download=d,document.body.appendChild(s),s.click(),setTimeout(function(){document.body.removeChild(s),window.URL.revokeObjectURL(l)},0)}},g.debounce=function(h,d,p){var u;return function(){for(var s=this,l=[],r=0;r<arguments.length;r++)l[r]=arguments[r];var a=p&&!u;clearTimeout(u),u=setTimeout(function(){u=null,p||h.apply(s,l)},d),a&&h.apply(this,l)}},g.compare=function h(d,p){for(var u in d){if(d.hasOwnProperty(u)!==p.hasOwnProperty(u))return!1;switch(typeof d[u]){case"object":if(!h(d[u],p[u]))return!1;break;case"function":if(p[u]===void 0||u!=="compare"&&d[u].toString()!==p[u].toString())return!1;break;default:if(d[u]!==p[u])return!1}}for(var u in p)if(!d.hasOwnProperty(u))return!1;return!0},g.isType=function(h){return((Object.prototype.toString.call(h).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},g.isEmptyObj=function(h){for(var d in h)return!1;return!0},g.getMaxArrayNumber=function(h){if(h.length){for(var d=-1/0,p=0,u=h.length;p<u;p++)h[p]>d&&(d=h[p]);return d}},g.getMinArrayNumber=function(h){if(h.length){for(var d=1/0,p=0,u=h.length;p<u;p++)h[p]<d&&(d=h[p]);return d}},g.getStringWidth=function(h,d){d=w({font:"normal 14px Roboto",lineHeight:20},d);var p=document.createElement("canvas"),u=p.getContext("2d");d.font&&(u.font=d.font);var s=u.measureText(h).width;return(0,m.isIE)()||p.remove(),s},g.isObject=function(h){return h!==null&&typeof h=="object"&&!(h instanceof Date)},g.rgbToHex=function(h){if(h.substr(0,1)==="#")return h;if(h.substr(0,3)==="rgb"){var d=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(h),p=parseInt(d[2],10).toString(16).padStart(2,"0"),u=parseInt(d[3],10).toString(16).padStart(2,"0"),s=parseInt(d[4],10).toString(16).padStart(2,"0");return"#".concat(p).concat(u).concat(s)}},g.getCloneObject=function h(d){if(!d)return d;var p=Array.isArray(d)?[]:{};for(var u in d){var s=d[u];s instanceof Date?p[u]=new Date(s):p[u]=typeof s=="object"?h(s):s}return p},g.getTextLines=function(h,d,p){for(var u=d.split(" "),s="",l="",r=[],a=0;a<u.length;a++)l+="".concat(u[a]," "),h.measureText(l.trimEnd()).width>p&&a>0?(r.push(s),s="".concat(u[a]," "),l="".concat(u[a]," ")):s+="".concat(u[a]," "),a===u.length-1&&r.push(s);return r},g.isMacintosh=function(){return navigator.userAgent.indexOf("Mac")>-1},g.blobToBase64=function(h){return new b(function(d,p){var u=new FileReader;u.onloadend=function(){d(u.result)},u.readAsDataURL(h)})}}).call(this,y(17))},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},b.apply(this,arguments)};function w(r,a,i){for(a===void 0&&(a="data-dhx-id"),i===void 0&&(i="target"),r instanceof Event&&(r=r[i]);r;){if(r.getAttribute&&r.getAttribute(a))return r;r=r.parentNode}}Object.defineProperty(g,"__esModule",{value:!0}),g.getPageLinksCss=g.getPageInlineCss=g.getLabelStyle=g.getStrSize=g.fitPosition=g.calculatePosition=g.getRealPosition=g.isFirefox=g.isSafari=g.isIE=g.getScrollbarHeight=g.getScrollbarWidth=g.getBox=g.locateNodeByClassName=g.locate=g.locateNode=g.eventHandler=g.toNode=void 0,g.toNode=function(r){var a;return typeof r=="string"?document.getElementById(r)||document.querySelector("[data-cell-id=".concat(r,"]"))||document.querySelector(r)||((a=document.querySelector("[data-dhx-root-id=".concat(r,"]")))===null||a===void 0?void 0:a.parentElement)||document.body:r||document.body},g.eventHandler=function(r,a,i){var n=Object.keys(a);return function(e){var t=r(e);if(t!==void 0){var o=e.target;t:for(;o;){var c=o.getAttribute&&o.getAttribute("class")||"";if(c.length){for(var f=c.split(" "),v=0;v<n.length;v++)if(f.includes(n[v])){if(a[n[v]](e,t)===!1||e.cancelBubble)return!1;break t}}o=o.parentNode}}return typeof i=="function"&&i(e),!0}},g.locateNode=w,g.locate=function(r,a){a===void 0&&(a="data-dhx-id");var i=w(r,a);return i?i.getAttribute(a):""},g.locateNodeByClassName=function(r,a){for(r instanceof Event&&(r=r.target);r;){if(a){if(r.classList&&r.classList.contains(a))return r}else if(r.getAttribute&&r.getAttribute("data-dhx-id"))return r;r=r.parentNode}},g.getBox=function(r){var a=r.getBoundingClientRect(),i=document.body,n=window.pageYOffset||i.scrollTop,e=window.pageXOffset||i.scrollLeft;return{top:a.top+n,left:a.left+e,right:i.offsetWidth-a.right,bottom:i.offsetHeight-a.bottom,width:a.right-a.left,height:a.bottom-a.top}};var m=-1;g.getScrollbarWidth=function(){if(m>-1)return m;var r=document.createElement("div");return document.body.appendChild(r),r.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",m=r.offsetWidth-r.clientWidth,document.body.removeChild(r),m};var _=-1;function h(r){var a=r.getBoundingClientRect();return{left:a.left+window.pageXOffset,right:a.right+window.pageXOffset,top:a.top+window.pageYOffset,bottom:a.bottom+window.pageYOffset}}function d(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function p(r,a){var i,n,e=d(),t=e.rightBorder,o=e.bottomBorder-r.bottom-a.height,c=r.top-a.height;if(a.mode==="bottom"?o>=0?n=r.bottom:c>=0&&(n=c):c>=0?n=c:o>=0&&(n=r.bottom),o<0&&c<0){if(a.auto)return u(r,b(b({},a),{mode:"right",auto:!1}));n=o>c?r.bottom:c}if(a.centering)i=function(x,k,S){var O=(k-(x.right-x.left))/2,P=x.left-O,T=x.right+O;return P>=0&&T<=S?P:P<0?0:S-k}(r,a.width,t);else{var f=t-r.left-a.width,v=r.right-a.width;i=f>=0?r.left:v>=0?v:v>f?r.left:v}return{left:i,top:n}}function u(r,a){var i,n,e=d(),t=e.rightBorder,o=e.bottomBorder,c=t-r.right-a.width,f=r.left-a.width;if(a.mode==="right"?c>=0?i=r.right:f>=0&&(i=f):f>=0?i=f:c>=0&&(i=r.right),f<0&&c<0){if(a.auto)return p(r,b(b({},a),{mode:"bottom",auto:!1}));i=f>c?f:r.right}if(a.centering)n=function(k,S,O){var P=(S-(k.bottom-k.top))/2,T=k.top-P,j=k.bottom+P;return T>=0&&j<=O?T:T<0?0:O-S}(r,a.height,o);else{var v=r.bottom-a.height,x=o-r.top-a.height;n=x>=0?r.top:v>0||v>x?v:r.top}return{left:i,top:n}}function s(r,a){var i=a.mode==="bottom"||a.mode==="top"?p(r,a):u(r,a),n=i.left,e=i.top;return{left:Math.round(n)+"px",top:Math.round(e)+"px",minWidth:Math.round(a.width)+"px",position:"absolute"}}g.getScrollbarHeight=function(){if(_>-1)return _;var r=document.createElement("div");return document.body.appendChild(r),r.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",_=r.offsetHeight-r.clientHeight,document.body.removeChild(r),_},g.isIE=function(){var r=window.navigator.userAgent;return r.includes("MSIE ")||r.includes("Trident/")},g.isSafari=function(){var r=function(n){return n.test(window.navigator.userAgent)},a=r(/Chrome/),i=r(/Firefox/);return!a&&!i&&r(/Safari/)},g.isFirefox=function(){var r=function(n){return n.test(window.navigator.userAgent)},a=r(/Chrome/),i=r(/Safari/);return!a&&!i&&r(/Firefox/)},g.getRealPosition=h,g.calculatePosition=s,g.fitPosition=function(r,a){return s(h(r),a)},g.getStrSize=function(r,a){a=b({fontSize:"14px",fontFamily:"Arial",lineHeight:"14px",fontWeight:"normal",fontStyle:"normal"},a);var i=document.createElement("span"),n=a.fontSize,e=a.fontFamily,t=a.lineHeight,o=a.fontWeight,c=a.fontStyle,f=a.strokeWidth;i.style.fontSize=n,i.style.fontFamily=e,i.style.lineHeight=t,i.style.fontWeight=o,i.style.fontStyle=c,i.style.display="inline-flex",i.innerText=r,document.body.appendChild(i);var v=i.offsetWidth,x=i.clientHeight;return document.body.removeChild(i),{width:v+parseFloat(f||0),height:x+parseFloat(f||0)}};var l=function(r){return r.href&&r.ownerNode.outerHTML.indexOf(window.location.origin)===-1&&(r.ownerNode.outerHTML.indexOf("http")!==-1||r.ownerNode.outerHTML.indexOf("https")!==-1||r.ownerNode.outerHTML.indexOf('href="//')!==-1)};g.getLabelStyle=function(r){var a=r.helpMessage,i=r.type,n=r.labelWidth,e=r.label,t=n&&n.toString().startsWith("0"),o=i!=="text"&&r.required;return!!(a||o||!(!e||e&&t)||n&&!t)&&{style:(e||n)&&!t&&{width:n,"max-width":"100%"},label:e&&t?null:e}},g.getPageInlineCss=function(){for(var r=[],a=0;a<document.styleSheets.length;a++){var i=document.styleSheets[a];if(!l(i))for(var n=("cssRules"in i)&&i.cssRules.length?i.cssRules:i.rules,e=0;e<n.length;e++){var t=n[e];"cssText"in t?r.push(t.cssText):r.push("".concat(t.selectorText,` {
`).concat(t.style.cssText,`
}
`))}}return r.join(`
`)},g.getPageLinksCss=function(r){var a=[];if(r)r.forEach(function(e){return a.push('<link href="'.concat(e,'" rel="stylesheet"/>'))});else for(var i=0;i<document.styleSheets.length;i++){var n=document.styleSheets[i];l(n)&&a.push('<link href="'.concat(n.href,'" rel="stylesheet"/>'))}return a.join(`
`)}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.EventsMixin=g.EventSystem=void 0;var b=function(){function w(m){this.events={},this.context=m||this}return w.prototype.on=function(m,_,h){var d=m.toLowerCase();this.events[d]=this.events[d]||[],this.events[d].push({callback:_,context:h||this.context})},w.prototype.detach=function(m,_){var h=m.toLowerCase(),d=this.events[h];if(_&&d&&d.length)for(var p=d.length-1;p>=0;p--)d[p].context===_&&d.splice(p,1);else this.events[h]=[]},w.prototype.fire=function(m,_){_===void 0&&(_=[]);var h=m.toLowerCase();return!this.events[h]||!this.events[h].map(function(d){return d.callback.apply(d.context,_)}).includes(!1)},w.prototype.clear=function(){this.events={}},w}();g.EventSystem=b,g.EventsMixin=function(w){var m=new b(w=w||{});w.detachEvent=m.detach.bind(m),w.attachEvent=m.on.bind(m),w.callEvent=m.fire.bind(m)}},function(H,g,y){var b,w,m,_;Object.defineProperty(g,"__esModule",{value:!0}),g.ItemEvent=g.ValidationStatus=g.FormEvents=g.ClearMethod=void 0,function(h){h.value="value",h.validation="validation"}(b||(g.ClearMethod=b={})),function(h){h.beforeChange="beforeChange",h.change="change",h.click="click",h.focus="focus",h.blur="blur",h.keydown="keydown",h.beforeShow="beforeShow",h.afterShow="afterShow",h.beforeHide="beforeHide",h.afterHide="afterHide",h.afterValidate="afterValidate",h.beforeValidate="beforeValidate",h.beforeChangeProperties="beforeChangeProperties",h.afterChangeProperties="afterChangeProperties",h.beforeSend="beforesend",h.afterSend="aftersend",h.buttonClick="buttonClick",h.validationFail="validationfail"}(w||(g.FormEvents=w={})),function(h){h[h.pre=0]="pre",h[h.error=1]="error",h[h.success=2]="success"}(m||(g.ValidationStatus=m={})),function(h){h.click="click",h.beforeChange="beforeChange",h.change="change",h.input="input",h.focus="focus",h.blur="blur",h.keydown="keydown",h.beforeChangeOptions="beforeChangeOptions",h.changeOptions="changeOptions",h.beforeShow="beforeShow",h.afterShow="afterShow",h.beforeHide="beforeHide",h.afterHide="afterHide",h.beforeValidate="beforeValidate",h.afterValidate="afterValidate",h.beforeUploadFile="beforeUploadFile",h.uploadFile="uploadfile",h.uploadBegin="uploadBegin",h.uploadComplete="uploadComplete",h.uploadFail="uploadFail",h.uploadProgress="uploadProgress",h.beforeChangeProperties="beforeChangeProperties",h.afterChangeProperties="afterChangeProperties"}(_||(g.ItemEvent=_={}))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.toViewLike=g.View=void 0;var b=y(1),w=y(2),m=function(){function _(h,d){var p;this.config=d||{},this._uid=(p=this.config.rootId)!==null&&p!==void 0?p:(0,b.uid)()}return _.prototype.mount=function(h,d){d&&(this._view=d),h&&this._view&&this._view.mount&&(this._container=(0,w.toNode)(h),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},_.prototype.unmount=function(){var h=this.getRootView();h&&h.node&&(h.unmount(),this._view=null)},_.prototype.getRootView=function(){return this._view},_.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},_.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},_}();g.View=m,g.toViewLike=function(_){return{getRootView:function(){return _},paint:function(){return _.node&&_.redraw()},mount:function(h){return _.mount(h)}}}},function(H,g,y){var b,w=this&&this.__rest||function(s,l){var r={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&l.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(a=Object.getOwnPropertySymbols(s);i<a.length;i++)l.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(s,a[i])&&(r[a[i]]=s[a[i]])}return r};Object.defineProperty(g,"__esModule",{value:!0}),g.setAttacments=g.widgetConfig=g.baseProps=g.isVerify=g.isTimeFormat=g.baseInputValidate=g.validateInput=g.isBlock=g.validateTemplate=g.getValidationMessage=g.getFormItemCss=void 0;var m=y(4),_=y(41),h=y(1);g.getFormItemCss=function(s,l,r){var a;r===void 0&&(r=!1);var i=s.labelPosition,n=s.required,e=s.disabled,t=s.hiddenLabel,o=s.$validationStatus,c=(a={},a[m.ValidationStatus.pre]="",a[m.ValidationStatus.error]=" dhx_form-group--state_error",a[m.ValidationStatus.success]=" dhx_form-group--state_success",a)[o]||"",f=i==="left"?" dhx_form-group--inline":"",v=e?" dhx_form-group--disabled":"",x=t?" dhx_form-group--label_sr":"";return l?f+(r?"":c)+(n?" dhx_form-group--required":"")+v+x:f+v+x};var d=((b={})[_.Validation.validAlphaNumeric]=/^[a-zA-Z0-9_]+$/,b[_.Validation.validEmail]=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,b[_.Validation.validInteger]=/^-?\d+$/,b[_.Validation.validIPv4]=/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4}\b/,b[_.Validation.validNumeric]=/^-?\d+(\.\d+)?$/,b);function p(s){return s.type!=="fieldset"&&(Boolean(s.rows)||Boolean(s.cols))}g.getValidationMessage=function(s){var l;return(l={undefined:s.preMessage},l[m.ValidationStatus.pre]=s.preMessage,l[m.ValidationStatus.error]=s.errorMessage,l[m.ValidationStatus.success]=s.successMessage,l)[s.$validationStatus]||""},g.validateTemplate=function(s,l){return!d[s]||d[s].test(l)},g.isBlock=p,g.validateInput=function(s,l){var r=!0;if(typeof l=="function")r=l(s);else{var a=d[l];a&&(r=a.test(s.toString()))}return r},g.baseInputValidate=function(s,l){var r=s!=null?s:"";if(l.required&&!String(r).trim())return!1;var a=function(i,n,e){var t=(0,h.isDefined)(n),o=(0,h.isDefined)(e);return t&&o?Number(n)<=Number(e)&&Number(n)<=i&&Number(e)>=i:t?Number(n)<=i:!o||Number(e)>=i};return l.inputType==="number"?a(Number(r),l.min,l.max):a(String(r).length,l.minlength,l.maxlength)},g.isTimeFormat=function(s,l){return l===12?/(^0?([1-9][0-2]?):[0-5][0-9]?([AP][M]?)$)/i.test(s):/(^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$)/i.test(s)},g.isVerify=function(s){return["required","validation","minlength","maxlength","min","max"].some(function(l){switch(l){case"required":return!!s[l];case"validation":return typeof s[l]=="function"||s[l]==="email"||s[l]==="integer"||s[l]==="numeric"||s[l]==="alphanumeric"||s[l]==="IPv4";case"minlength":case"maxlength":return typeof s[l]=="number"||typeof s[l]=="string";case"min":case"max":return(typeof s[l]=="number"||typeof s[l]=="string")&&s.inputType==="number"}})},g.baseProps=["width","height","padding","css"];function u(s,l,r){s===void 0&&(s=[]);for(var a=[],i=0;i<s.length;i++){var n=s[i];n.type&&(l[n.name].parent=r,a.push(l[n.name])),p(n)&&a.push.apply(a,u(n.rows||n.cols,l,r))}return a}g.widgetConfig=function(s){return s.width,s.type,s.id,s.name,s.hidden,s.editable,s.css,s.required,s.helpMessage,s.preMessage,s.successMessage,s.errorMessage,s.label,s.labelWidth,s.labelPosition,s.hiddenLabel,s.validation,s.icon,w(s,["width","type","id","name","hidden","editable","css","required","helpMessage","preMessage","successMessage","errorMessage","label","labelWidth","labelPosition","hiddenLabel","validation","icon"])},g.setAttacments=function(s,l){var r;for(var a in s){var i=s[a];i.config.type==="fieldset"?(i.setAttachments(u(i.config.rows||i.config.cols,s,i)),i.setCell(l.getCell(a))):(r=l.getCell(a))===null||r===void 0||r.attach(i)}}},function(H,g,y){var b,w,m,_,h;Object.defineProperty(g,"__esModule",{value:!0}),g.Split=g.GridSelectionEvents=g.GridSystemEvents=g.GridEvents=g.HeaderFilterEvent=void 0,function(d){d.change="change"}(b||(g.HeaderFilterEvent=b={})),function(d){d.scroll="scroll",d.expand="expand",d.filterChange="filterChange",d.beforeFilter="beforeFilter",d.beforeResizeStart="beforeResizeStart",d.resize="resize",d.afterResizeEnd="afterResizeEnd",d.cellClick="cellClick",d.cellRightClick="cellRightClick",d.cellMouseOver="cellMouseOver",d.cellMouseDown="cellMouseDown",d.cellDblClick="cellDblClick",d.headerCellClick="headerCellClick",d.footerCellClick="footerCellClick",d.headerCellMouseOver="headerCellMouseOver",d.footerCellMouseOver="footerCellMouseOver",d.headerCellMouseDown="headerCellMouseDown",d.footerCellMouseDown="footerCellMouseDown",d.headerCellDblClick="headerCellDblClick",d.footerCellDblClick="footerCellDblClick",d.headerCellRightClick="headerCellRightClick",d.footerCellRightClick="footerCellRightClick",d.beforeEditStart="beforeEditStart",d.afterEditStart="afterEditStart",d.beforeEditEnd="beforeEditEnd",d.afterEditEnd="afterEditEnd",d.beforeKeyDown="beforeKeyDown",d.afterKeyDown="afterKeyDown",d.beforeColumnHide="beforeColumnHide",d.afterColumnHide="afterColumnHide",d.beforeColumnShow="beforeColumnShow",d.afterColumnShow="afterColumnShow",d.beforeRowHide="beforeRowHide",d.afterRowHide="afterRowHide",d.beforeRowShow="beforeRowShow",d.afterRowShow="afterRowShow",d.beforeRowDrag="beforeRowDrag",d.dragRowStart="dragRowStart",d.dragRowOut="dragRowOut",d.dragRowIn="dragRowIn",d.canRowDrop="canRowDrop",d.cancelRowDrop="cancelRowDrop",d.beforeRowDrop="beforeRowDrop",d.afterRowDrop="afterRowDrop",d.afterRowDrag="afterRowDrag",d.beforeColumnDrag="beforeColumnDrag",d.dragColumnStart="dragColumnStart",d.dragColumnOut="dragColumnOut",d.dragColumnIn="dragColumnIn",d.canColumnDrop="canColumnDrop",d.cancelColumnDrop="cancelColumnDrop",d.beforeColumnDrop="beforeColumnDrop",d.afterColumnDrop="afterColumnDrop",d.afterColumnDrag="afterColumnDrag",d.beforeRowResize="beforeRowResize",d.afterRowResize="afterRowResize",d.beforeSort="beforeSort",d.afterSort="afterSort"}(w||(g.GridEvents=w={})),function(d){d.cellTouchMove="cellTouchMove",d.cellTouchEnd="cellTouchEnd",d.headerCellTouchMove="headerCellTouchMove",d.headerCellTouchEnd="headerCellTouchEnd"}(m||(g.GridSystemEvents=m={})),function(d){d.beforeUnSelect="beforeUnSelect",d.afterUnSelect="afterUnSelect",d.beforeSelect="beforeSelect",d.afterSelect="afterSelect"}(_||(g.GridSelectionEvents=_={})),function(d){d.left="leftSplit",d.right="rightSplit",d.top="topSplit",d.bottom="bottomSplit"}(h||(g.Split=h={}))},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(22),g),w(y(68),g),w(y(135),g),w(y(136),g),w(y(32),g),w(y(171),g),w(y(23),g),w(y(71),g),w(y(70),g),w(y(172),g),w(y(69),g),w(y(47),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(l,r){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},b(l,r)},function(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=l}b(l,r),l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}),m=this&&this.__assign||function(){return m=Object.assign||function(l){for(var r,a=1,i=arguments.length;a<i;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n]);return l},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Label=void 0;var _=y(0),h=y(2),d=y(5),p=y(11),u=y(4),s=function(l){function r(a,i){i===void 0&&(i={});var n=l.call(this,a,i)||this;return n._handlers=m({showHelper:function(e){e.preventDefault(),e.stopPropagation(),n._helper.show(e.target,{mode:n.config.labelPosition==="left"?"bottom":"right",theme:e.target})},hideHelper:function(e){e.preventDefault(),e.stopPropagation(),n._helper.hide()}},n._getHandlers()),n.mount(a,(0,_.create)({render:function(){return n.config&&n._draw()}})),n}return w(r,l),r.prototype.setValidationStatus=function(a){a===void 0&&(a="pre"),this.config.$validationStatus=u.ValidationStatus[a]},r.prototype._destructor=function(){this._helper&&this._helper.destructor(),this.config=this._handlers=this._helper=null,this.unmount()},r.prototype._getHandlers=function(){return{}},r.prototype._init=function(){},r.prototype._draw=function(){return this._drawLabel()},r.prototype._drawLabel=function(){var a=this.config,i=a.id,n=a.helpMessage,e=a.required;this.config.helpMessage&&(this._helper||(this._helper=new p.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var t=(0,h.getLabelStyle)(this.config);return t&&(0,_.el)("".concat(this.config.type.includes("group")?"legend":"label",".dhx_label"),{for:i||this._uid,class:n?"dhx_label--with-help":"",style:t.style},n?[(t.label||e)&&(0,_.el)("span.dhx_label__holder",t.label),(0,_.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper,id:"dhx_label__help_".concat(i||this._uid)})]:t.label)},r}(d.View);g.Label=s},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0});var b=y(12),w=y(43);g.default={type:"input",key:"text",$handler:function(m){var _=m.id,h=m.value,d=m.editor,p=m.key,u=m.control;this.inputType==="number"&&(h=h||this.value),d.diagram.data.update(_,(0,w.getModifiedObject)(p,h,Array.isArray(p)&&d.diagram.data.getItem(_)||{})),u.setValue(h)},$setValue:function(m){var _=m.control,h=m.value;h!==""||typeof _.clear!="function"?_.setValue(h):_.clear()},$layout:function(m){return(0,b.default)(m,{type:"input"})}}},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(150),g),w(y(76),g)},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)},w=this&&this.__rest||function(m,_){var h={};for(var d in m)Object.prototype.hasOwnProperty.call(m,d)&&_.indexOf(d)<0&&(h[d]=m[d]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var p=0;for(d=Object.getOwnPropertySymbols(m);p<d.length;p++)_.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(m,d[p])&&(h[d[p]]=m[d[p]])}return h};Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(m,_){if(m.wrap&&m.label){var h=m.label,d=m.labelAlignment,p=m.padding,u=m.align,s=m.width,l=m.height,r=m.disabled,a=m.hidden,i=(m.labelWidth,m.helpMessage,m.compact),n=w(m,["label","labelAlignment","padding","align","width","height","disabled","hidden","labelWidth","helpMessage","compact"]),e=m.css||"";return m.label&&!m.compact||(e+=" dhx_form-fieldset--compact"),{type:"fieldset",label:h,labelAlignment:d,css:e,padding:p,align:u,width:s,height:l,disabled:r,hidden:a,compact:i,rows:[b(b({},n),_)]}}return b(b({},m),_)}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(w){for(var m,_=1,h=arguments.length;_<h;_++)for(var d in m=arguments[_])Object.prototype.hasOwnProperty.call(m,d)&&(w[d]=m[d]);return w},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.default={type:"fieldset",compact:!1,$layout:function(w){var m=w.css||"";return w.label&&!w.compact||(m+=" dhx_form-fieldset--compact"),b(b({},w),{type:"fieldset",css:m})}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.KeyManager=void 0;var b=y(31),w=y(2);function m(d){for(var p=d.toLowerCase().match(/\w+/g),u=0,s="",l=0;l<p.length;l++){var r=p[l];r==="ctrl"?u+=4:r==="shift"?u+=2:r==="alt"?u+=1:s=r}return u+s}var _={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"},h=function(){function d(p){var u=this;this._keysStorage={},this._initHandler=function(s){var l;if(s.which>=48&&s.which<=57||s.which>=65&&s.which<=90)l=String.fromCharCode(s.which);else{var r=s.which===32?s.code:s.key;l=(0,w.isIE)()&&_[r]||r}var a=u._keysStorage[(s.ctrlKey||s.metaKey?4:0)+(s.shiftKey?2:0)+(s.altKey?1:0)+(l&&l.toLowerCase())];if(a)for(var i=0;i<a.length;i++){if(u._beforeCall&&u._beforeCall(s,b.focusManager.getFocusId())===!1)return;a[i].handler(s)}},p&&(this._beforeCall=p),document.addEventListener("keydown",this._initHandler)}return d.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},d.prototype.addHotKey=function(p,u){var s=m(p);this._keysStorage[s]||(this._keysStorage[s]=[]),this._keysStorage[s].push({handler:u})},d.prototype.removeHotKey=function(p,u){var s=this;if(p)if(p&&u){var l=m(p),r=function(i){return i.toString().replace(/\n/g,"").replace(/\s/g,"")};this._keysStorage[l].forEach(function(i,n){r(i.handler)===r(u)&&(delete s._keysStorage[l][n],s._keysStorage[l]=s._keysStorage[l].filter(function(e){return e}))})}else{var a=m(p);delete this._keysStorage[a]}else this._keysStorage={}},d.prototype.exist=function(p){var u=m(p);return!!this._keysStorage[u]},d.prototype.getKeyStorageLength=function(){return Object.keys(this._keysStorage).length},d}();g.KeyManager=h},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.scrollFixedColsAndRows=g.getTotalHeight=g.getTotalWidth=g.isHtmlEnable=g.isTooltip=g.isContentTooltip=g.showTooltip=g.isAutoWidth=g.isSortable=g.isRowEmpty=g.isCssSupport=g.removeHTMLTags=g.getStyleByClass=g.transpose=void 0;var b=y(1),w=y(2),m=y(21);g.transpose=function(_,h){for(var d=[],p=0;p<_.length;p++)for(var u=_[p],s=0;s<u.length;s++){d[s]=d[s]||[];var l=h?h(u[s]):u[s];d[s].push(l)}return d},g.getStyleByClass=function(_,h,d,p){p===void 0&&(p=document.body);var u,s,l,r=p.querySelector("."+h.trim().replace(/\s/g,".")),a=(u=r,typeof(s='<div class="'.concat(_,'"></div>'))=="string"?(u.insertAdjacentHTML("beforeend",s),u.lastChild):(u.appendChild(s),s)),i=window.getComputedStyle(a),n="rgba(0, 0, 0, 0)";if(i.backgroundColor===n){var e=window.getComputedStyle(r);l=e.backgroundColor===n?d.background:(0,b.rgbToHex)(e.backgroundColor)}else l=(0,b.rgbToHex)(i.backgroundColor);var t={color:i.color==="rgb(0, 0, 0)"?d.color:(0,b.rgbToHex)(i.color),background:l,fontSize:Math.round(parseFloat(i.fontSize)),bold:["bold","700","600","500"].includes(i.fontWeight)};return r.removeChild(a),(0,b.compare)(t,d)?null:t},g.removeHTMLTags=function(_){return typeof _!="string"&&typeof _!="number"&&typeof _!="boolean"?"":"".concat(_==null?"":_).replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},g.isCssSupport=function(_,h){try{return CSS.supports(_,h)}catch{var d=document.createElement("div");return d.style[_]=h,d.style[_]===h}},g.isRowEmpty=function(_){if(_)return Object.keys(_).reduce(function(h,d){return d==="id"||d.startsWith("$")?h:h&&_[d]!==void 0&&_[d]!==""?void 0:h},!0)},g.isSortable=function(_,h){return h.sortable!==!1&&_.sortable||h.sortable},g.isAutoWidth=function(_,h){if(h)return h.autoWidth!==!1&&_.autoWidth||h.autoWidth;var d=!1;return _.columns.map(function(p){(p.autoWidth!==!1&&_.autoWidth||p.autoWidth)&&(d=!0)}),d},g.showTooltip=function(_){var h=_.node,d=_.value,p=_.htmlEnable,u=p!==void 0&&p;h&&(0,m.tooltip)(d.toString(),{css:"dhx_grid_tooltip",node:h,htmlEnable:u})},g.isContentTooltip=function(_,h,d,p){for(var u=!1,s=p==="header"?_.headerTooltip:_.footerTooltip,l=[_.tooltip,s,h.tooltip,d==null?void 0:d.tooltip],r=0;r<l.length;r++)typeof l[r]=="boolean"&&(u=l[r]);return u},g.isTooltip=function(_,h){return h.tooltip!==!1&&_.tooltip||h.tooltip},g.isHtmlEnable=function(_,h,d){var p,u;return!!((u=(p=d==null?void 0:d.htmlEnable)!==null&&p!==void 0?p:h.htmlEnable)!==null&&u!==void 0?u:_.htmlEnable)},g.getTotalWidth=function(_){return _.reduce(function(h,d){return h+(d.$width||0)},0)},g.getTotalHeight=function(_){return _.reduce(function(h,d){return h+(d.$height||0)},0)},g.scrollFixedColsAndRows=function(_){var h=(0,w.locateNode)(_,"data-dhx-widget-id").querySelector(".dhx_grid-body"),d=_.deltaY,p=_.shiftKey?[d,0]:[0,d];h==null||h.scrollBy.apply(h,p)}},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(49),g),w(y(147),g),w(y(50),g)},function(H,g,y){(function(b,w){(function(){b=typeof window<"u"?window:this;var m=1,_={},h=!1;function d(u){b.setImmediate?w(u):b.importScripts?setTimeout(u):(m++,_[m]=u,b.postMessage(m,"*"))}function p(u){if(typeof u!="function"&&u!=null||typeof this!="object"||this&&this.then)throw TypeError();var s,l,r=this,a=0,i=0,n=[];r.promise=r,r.resolve=function(c){return s=r.fn,l=r.er,a||(i=c,a=1,d(o)),r},r.reject=function(c){return s=r.fn,l=r.er,a||(i=c,a=2,d(o)),r},r._d=1,r.then=function(c,f){if(this._d!=1)throw TypeError();var v=new p;return v.fn=c,v.er=f,a==3?v.resolve(i):a==4?v.reject(i):n.push(v),v},r.catch=function(c){return r.then(null,c)};var e=function(c){a=c||4,n.map(function(f){a==3&&f.resolve(i)||f.reject(i)})};try{typeof u=="function"&&u(r.resolve,r.reject)}catch(c){r.reject(c)}return r;function t(c,f,v,x){if(a==2)return x();if(typeof i!="object"&&typeof i!="function"||typeof c!="function")x();else try{var k=0;c.call(i,function(S){k++||(i=S,f())},function(S){k++||(i=S,v())})}catch(S){i=S,v()}}function o(){var c;try{c=i&&i.then}catch(f){return i=f,a=2,o()}t(c,function(){a=1,o()},function(){a=2,o()},function(){try{a==1&&typeof s=="function"?i=s(i):a==2&&typeof l=="function"&&(i=l(i),a=1)}catch(f){return i=f,e()}i==r?(i=TypeError(),e()):t(c,function(){e(3)},e,function(){e(a==1&&3)})})}}b.setImmediate||b.addEventListener("message",function(u){if(u.source==b)if(h)d(_[u.data]);else{h=!0;try{_[u.data]()}catch{}delete _[u.data],h=!1}}),p.resolve=function(u){if(this._d!=1)throw TypeError();return u instanceof p?u:new p(function(s){s(u)})},p.reject=function(u){if(this._d!=1)throw TypeError();return new p(function(s,l){l(u)})},p.all=function(u){if(this._d!=1)throw TypeError();if(!(u instanceof Array))return p.reject(TypeError());var s=new p;return function l(r,a){if(a)return s.resolve(a);if(r)return s.reject(r);u.reduce(function(i,n){return n&&n.then?i+1:i},0)==0&&s.resolve(u),u.map(function(i,n){i&&i.then&&i.then(function(e){return u[n]=e,l(),e},l)})}(),s},p.race=function(u){if(this._d!=1)throw TypeError();if(!(u instanceof Array))return p.reject(TypeError());if(u.length==0)return new p;var s=new p;return function l(r,a){if(a)return s.resolve(a);if(r)return s.reject(r);u.reduce(function(i,n){return n&&n.then?i+1:i},0)==0&&s.resolve(u),u.map(function(i,n){i&&i.then&&i.then(function(e){l(null,e)},l)})}(),s},p._d=1,H.exports=p})()}).call(this,y(44),y(120).setImmediate)},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},b.apply(this,arguments)},w=this&&this.__spreadArray||function(s,l,r){if(r||arguments.length===2)for(var a,i=0,n=l.length;i<n;i++)!a&&i in l||(a||(a=Array.prototype.slice.call(l,0,i)),a[i]=l[i]);return s.concat(a||Array.prototype.slice.call(l))};Object.defineProperty(g,"__esModule",{value:!0}),g.getEditorValue=g.getValueForNumberColumn=g.getEditorOptions=g.toFormat=g.getMaxColsWidth=g.getTreeCellWidthOffset=g.getCalculatedRowHeight=g.getMaxRowHeight=g.getUnique=g.calculatePositions=g.countColumns=g.measureTextHeight=g.normalizeArray=void 0;var m=y(1),_=y(15),h=y(24);g.normalizeArray=function(s,l){s[l]&&(typeof s[l]=="string"?s[l]=[{text:"".concat(s[l])}]:s[l]=s[l].map(function(r){return typeof r=="string"&&(r={text:r}),r}))},g.measureTextHeight=function(s){var l=s.text,r=l===void 0?"":l,a=s.width,i=a===void 0?0:a,n=s.lineHeight,e=n===void 0?20:n,t=s.font,o=t===void 0?"14px Arial":t,c=s.htmlEnable,f=c!==void 0&&c,v=document.createElement("canvas"),x=v.getContext("2d",{alpha:!1});x.font=o;var k=[],S=[];f&&(r=(0,_.removeHTMLTags)(r));var O=Math.ceil(x.measureText(r).width/i);O>1&&(O=(0,m.getTextLines)(x,r,i).length),S.push(O),k.push(r.split(`
`).length);var P=Math.max((0,m.getMaxArrayNumber)(k),(0,m.getMaxArrayNumber)(S));return v.remove(),P*e},g.countColumns=function(s,l){var r=0,a=0,i=0,n=!1,e=0,t=!1;return l.forEach(function(o){if(r=Math.max(r,o.header.length),i+=o.$width,o.footer&&(a=Math.max(a,o.footer.length),t||(t=!0)),!n){for(var c=0,f=o.header;c<f.length;c++)if(f[c].colspan)return void(n=!0)}}),l.forEach(function(o){if(t&&(o.footer=o.footer||[]),o.header.length<r)for(var c=0;c<r;c++)o.header[c]=o.header[c]||{text:""};if(o.footer){if(o.footer.length<a)for(c=0;c<a;c++)o.footer[c]=o.footer[c]||{text:""};for(c=0;c<o.footer.length;c++)o.footer[c].id||(o.footer[c].id=(0,m.uid)())}o.header=o.header.map(function(f){return typeof f!="object"&&(f={text:f}),f.css=f.css||"",f.text||f.css.includes("dhx_cell-empty")||(f.css+=" dhx_cell-empty"),f.id||(f.id=(0,m.uid)()),f}),o.header[0].text===""&&e++}),s.$totalWidth=i,s.$colspans=n,s.$footer=t,e},g.calculatePositions=function(s,l,r,a,i){for(var n,e,t,o=a.columns||[],c=o.length,f=i||[],v=f.length,x=a.leftSplit?a.columns.slice(0,a.leftSplit).filter(function(N){return!N.hidden}).length:0,k=(n=a.topSplit)!==null&&n!==void 0?n:0,S=(e=a.rightSplit)!==null&&e!==void 0?e:0,O=(t=a.bottomSplit)!==null&&t!==void 0?t:0,P=0,T=0,j=r.left,$=a.$totalWidth/c,I=0;I<c;I++){var F=o[I];if(F.hidden)T++;else{if(!((j-=F.$width)+$/2>0))break;P++}}var E=0,V=0,z=r.top,X=a.$totalHeight/v;for(I=0;I<v;I++)if((nt=f[I]).hidden)V++;else{if(!((z-=nt.$height)+X/2>0))break;E++}for(var Y=0,U=0,A=-1/0,M=1/0,R=P+T,W=0;W<c;W++){var Q=o[W];W>=R&&Y<s&&!Q.hidden&&(Y+=Q.$width,U++),Q.$width>A&&(A=Q.$width),Q.$width<M&&(M=Q.$width)}var Z=0,B=0,K=-1/0,J=1/0,tt=E+V;for(W=0;W<v;W++){var nt=f[W];W>=tt&&Z<l&&!nt.hidden&&(Z+=nt.$height,B++),nt.$height>K&&(K=nt.$height),nt.$height<J&&(J=nt.$height)}J=J<a.rowHeight?J:a.rowHeight;var rt=Math.round(A/M),lt=Math.round(K/J),ct=P-rt>=x?P-rt:x,ut=P+U+rt,at=(a.leftSplit||0)-x,ht=o.length-S-at,pt=ut<ht?ut:ht,gt=E-lt>=k?E-lt:k,vt=E+B+lt,_t=f.length-O;return{xStart:ct,xEnd:pt,yStart:gt,yEnd:vt<_t?vt:_t}},g.getUnique=function(s,l,r){var a=s.map(function(i){return i[l]});return r&&a.forEach(function(i,n){typeof i=="string"&&i.includes(", ")&&(i.split(", ").forEach(function(e){return a.push(e)}),delete a[n])}),a.filter(function(i,n,e){return e.indexOf(i)===n&&(0,m.isDefined)(i)}).sort()},g.getMaxRowHeight=function(s,l,r){var a,i;r===void 0&&(r={font:"14px Arial",lineHeight:20});var n=document.createElement("canvas"),e=n.getContext("2d",{alpha:!1});e.font=r.font;for(var t={},o=l.length,c=0;c<o;c++)l[c].template?t[l[c].id]={width:l[c].$width-24||0,htmlEnable:l[c].htmlEnable,template:l[c].template,cols:l[c]}:t[l[c].id]={width:l[c].$width-24||0,htmlEnable:l[c].htmlEnable,cols:l[c]};for(var f=[],v=[],x=0,k=Object.entries(s);x<k.length;x++){var S=k[x],O=S[0],P=S[1];if(t[O]&&O!=="id"&&O!=="height"&&!O.startsWith("$")&&(typeof P=="string"||typeof P=="number"||P instanceof Date||Array.isArray(P))){var T=t[O].cols;P=T.editorType==="combobox"||T.editorType==="multiselect"?p(P,T,s):P;var j="";if(!((a=t[O])===null||a===void 0)&&a.template){var $=t[O].template(P,s,t[O].cols);j=t[O].htmlEnable?(0,_.removeHTMLTags)($):$}else j=typeof P=="string"?t[O].htmlEnable?(0,_.removeHTMLTags)(P):P:P.toString();var I=Math.ceil(e.measureText(j).width/t[O].width);I>1&&(I=(0,m.getTextLines)(e,j,(i=t[O])===null||i===void 0?void 0:i.width).length),v.push(I),f.push(j.split(`
`).length)}}var F=Math.max((0,m.getMaxArrayNumber)(f),(0,m.getMaxArrayNumber)(v));return n.remove(),F*r.lineHeight+8},g.getCalculatedRowHeight=function(s,l){var r=(l=b({rowHeight:40,padding:12},l)).rowHeight<40?s:s+2*l.padding;return s<l.rowHeight?l.rowHeight:r},g.getTreeCellWidthOffset=function(s){return 20+20*s.$level-(s.$items?20:0)};function d(s,l){return w(w([],(typeof s.options=="function"?s.options(s,l):s.options)||[],!0),s.$customOptions||[],!0)}function p(s,l,r){var a=d(l,r);return l.editorType==="multiselect"&&typeof s=="string"?s.split(",").map(function(i){return u(i.trim(),a)}).join(", "):u(s,a)}function u(s,l){var r=l.find(function(a){return a instanceof Object&&a.id==s});return r?r.value:s}g.getMaxColsWidth=function(s,l,r,a){if(r===void 0&&(r={font:"normal 14.4px Arial"}),s.length&&l.length){var i=document.createElement("canvas"),n=i.getContext("2d",{alpha:!1});n.font=r.font;for(var e={},t=l.length,o=0;o<t;o++){var c=l[o],f=c.template,v=c.htmlEnable,x=c.format,k=c.id,S=c.type;e[k]=f&&a==="data"?{width:20,htmlEnable:!!v,template:f,cols:c,type:S}:{width:20,htmlEnable:!!v,format:S==="date"?x||"%M %d %Y":x,cols:c,type:S}}var O=s.length;for(o=0;o<O;o++)for(var P=0,T=Object.entries(s[o]);P<T.length;P++){var j=T[P],$=j[0],I=j[1],F=e[$];if(F&&$!=="id"&&$!=="height"&&!$.startsWith("$")&&(typeof I=="string"||typeof I=="number"||I instanceof Date||Array.isArray(I))){f=F.template;var E=F.cols,V=(x=F.format,S=F.type,v=F.htmlEnable,F.width);I=E.editorType==="combobox"||E.editorType==="multiselect"?p(I,E,s[o]):I;var z=void 0;if(typeof f=="function"){var X=f(I,s[o],E);z=v?(0,_.removeHTMLTags)(X):X}else z=v?(0,_.removeHTMLTags)(I):I.toString();var Y=x&&S==="date"&&new Date(z);Y!=null&&Y.valueOf()&&(z=(0,h.getFormattedDate)(x,Y));var U=n.measureText(z).width;U>V&&(e[$].width=U)}}i.remove();for(var A={},M=0,R=Object.entries(e);M<R.length;M++){var W=R[M];$=W[0],I=W[1],A[$]=Math.ceil(I.width)}return A}},g.toFormat=function(s,l,r){if(typeof s=="boolean"||!s&&typeof s!="number")return s;var a=function(i){var n,e,t,o=r.replace(/#+/g,"#").split("#").filter(function(S){return S}),c=r.match(/0/g)&&r.match(/0/g).length;s=(i==="percent"?100*Number(s):s).toString();var f=Math.trunc(Number(s));if(c){var v=s.split(".")[1]||"0";t=o.find(function(S){return S.includes("0")}).replace(/0+/g,""),e=Number("0."+v).toFixed(c),Number(e)>=1&&f++,e=e.toString().split(".")[1].padEnd(c,"0")}var x="".concat(s<0&&Math.abs(f)===0?"-":"").concat(f),k=o.find(function(S){return!S.includes("0")});return n=k?x.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1".concat(k)):x,n+=(t||"")+(e||""),i==="percent"?"".concat(n,"%"):n};switch(l){case"number":return r&&!isNaN(Number(s))?a(l):s;case"percent":return r||(r="#"),isNaN(Number(s))?s:a(l);case"date":return r||(r="%M %d %Y"),typeof s=="string"?s=(0,h.getFormattedDate)(r,(0,h.stringToDate)(s,r)):typeof s=="object"&&(s=(0,h.getFormattedDate)(r,s)),s;default:return s}},g.getEditorOptions=d,g.getValueForNumberColumn=function(s,l){return!(0,m.isDefined)(l)||l===""||typeof l=="number"||["select","combobox","multiselect"].includes(s.editorType)?l:typeof l=="string"?parseFloat(l):NaN},g.getEditorValue=u},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.getTextStyle=g.getSwimlaneContainerStyle=g.getSwimlaneBackGround=g.getGroupContainerStyle=g.getMenuIcon=g.getExpandIcon=g.getShapeCss=g.getTextTemplate=g.getHeaderTpl=g.getCircleTpl=void 0;var b=y(0);g.getCircleTpl=function(w,m){if(!w.$count&&w.open!==!1||!w.$connection)return null;var _=w.dir==="vertical",h=w.open===!1,d=w.width/2,p=w.height/2,u={x:_?0:d,y:_?p:w.height},s="";return Array.isArray(w.dir)?(w.dir[m]==="verticalLeft"&&(u.x=0,u.y=p,s+="icon-left ",h=w.openDir.left===!1),w.dir[m]==="verticalRight"&&(u.x=w.width,u.y=p,s+="icon-right ",h=w.openDir.right===!1)):(w.dir==="verticalLeft"&&(u.x=0,u.y=p),w.dir==="verticalRight"&&(u.x=w.width,u.y=p)),(0,b.el)("div",{class:"dhx_diagram_toggle-icon "+(h?"dhx_diagram_toggle-icon--expand ":"dhx_diagram_toggle-icon--collapse "),style:{position:"absolute",top:u.y,left:u.x}},[(0,b.el)("div.dhx_diagram_toggle-icon__wrapper",{style:{background:w.$expandColor}},[(0,b.el)("i.dxi",{class:"".concat(h?"dxi-plus ":"dxi-minus ").concat(s)})])])},g.getHeaderTpl=function(w){var m=w.width,_=w.headerColor||"#20b6e2";return(0,b.el)("div",{class:"dhx_item_header",style:{height:4,width:m,top:0,left:0,position:"absolute",background:_}})},g.getTextTemplate=function(w,m){var _=w.width,h=w.height;return typeof w.text=="string"||typeof w.title=="string"?(0,b.el)("div.dhx_diagram_shape__content",{style:{width:_,height:h,top:0,left:0,overflow:"hidden",transform:"translate(0 0)",position:"absolute"}},[].concat(m)):null},g.getShapeCss=function(w){return{width:w.width,height:w.height,display:"flex",color:w.fontColor,"flex-direction":"column","justify-content":{bottom:"flex-end",top:"flex-start",center:"center"}[w.textVerticalAlign],"text-align":w.textAlign,"line-height":w.lineHeight,"font-size":w.fontSize,"font-style":w.fontStyle||"normal","font-weight":w.fontWeight||"normal","word-break":"break-word","white-space":"pre-wrap"}},g.getExpandIcon=function(w){var m,_,h=w.open,d=w.color;switch(w.position){case"top":m="dxi-chevron-up",_="dxi-chevron-down";break;case"bottom":m="dxi-chevron-down",_="dxi-chevron-up";break;case"right":m="dxi-chevron-right",_="dxi-chevron-left";break;case"left":m="dxi-chevron-left",_="dxi-chevron-right"}var p=h?"dxi ".concat(_," dhx_diagram_toggle-icon dhx_diagram_toggle-icon--collapse"):"dxi ".concat(m," dhx_diagram_toggle-icon dhx_diagram_toggle-icon--expand");return(0,b.el)("div.dhx_diagram_icon",[(0,b.el)("i",{class:p,style:{color:d}})])},g.getMenuIcon=function(w){var m=w.dir,_=w.color,h=m==="cols"?"dxi dxi-dots-vertical":"dxi dxi-dots-horizontal";return(0,b.el)("div.dhx_diagram_icon.dhx_diagram_menu_icon",[(0,b.el)("i",{class:h,style:{color:_}})])},g.getGroupContainerStyle=function(w,m){var _,h=w.$width,d=w.$height,p=w.$captureArea,u=w.$group,s=w.$selected,l=w.type,r=w.style,a=r.borderStyle,i=r.strokeWidth,n=r.stroke,e=r.overFill,t=r.partiallyFill,o=r.fill,c=u||s?s&&l!=="$sgroup"?2:1:0;switch(p){case"over":_=e;break;case"partially":_=t;break;default:_=o}return{position:"absolute",background:_,outline:"".concat(i,"px ").concat(a," ").concat(n),outlineOffset:-i,width:h,height:d,top:m.y,left:m.x,zIndex:c}},g.getSwimlaneBackGround=function(w,m){var _,h=w.$width,d=w.$height,p=w.$captureArea,u=w.style,s=u.overFill,l=u.partiallyFill,r=u.fill;switch(p){case"over":_=s;break;case"partially":_=l;break;default:_=r}return{position:"absolute",background:_,width:h,height:d,top:m.y,left:m.x,zIndex:-1}},g.getSwimlaneContainerStyle=function(w,m){var _=w.$width,h=w.$height,d=w.$group,p=w.$selected,u=w.type,s=w.style,l=s.borderStyle,r=s.strokeWidth,a=s.stroke,i=d||p?p&&u!=="$sgroup"?2:1:0;return{position:"absolute",outline:"".concat(r,"px ").concat(l," ").concat(a),outlineOffset:-r,width:_,height:h,top:m.y,left:m.x,zIndex:i}},g.getTextStyle=function(w){var m=w.lineHeight,_=w.textAlign,h=w.textVerticalAlign,d=w.fontSize,p=w.fontColor,u=w.fontStyle,s=w.fontWeight,l=w.container,r=l.width,a=l.height,i={center:"center",left:"flex-start",right:"flex-end",bottom:"flex-end",top:"flex-start"};return{"justify-content":i[_],"align-items":i[h],fontStyle:u||"normal",fontWeight:s||"500",lineHeight:"".concat(parseInt(m),"px"),fontSize:d,color:p,width:typeof r=="number"?"".concat(r-4-20,"px"):r,height:typeof a=="number"?"".concat(a-4-20,"px"):a}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.INPUT_PADDING_RIGHT_8=g.INPUT_PADDING_RIGHT_4=g.INPUT_WIDTH_50=void 0,g.INPUT_WIDTH_50="50%",g.INPUT_PADDING_RIGHT_4="0 4px 0 0",g.INPUT_PADDING_RIGHT_8="0 8px 0 0"},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(127),g),w(y(128),g),w(y(129),g),w(y(67),g),w(y(46),g)},function(H,g,y){var b,w,m,_;Object.defineProperty(g,"__esModule",{value:!0}),g.DataDriver=g.DragEvents=g.DataEvents=g.TreeFilterType=void 0,function(h){h.all="all",h.level="level",h.leafs="leafs"}(b||(g.TreeFilterType=b={})),function(h){h.afterAdd="afteradd",h.beforeAdd="beforeadd",h.removeAll="removeall",h.beforeRemove="beforeremove",h.afterRemove="afterremove",h.change="change",h.filter="filter",h.dataRequest="dataRequest",h.load="load",h.loadError="loaderror",h.beforeLazyLoad="beforelazyload",h.afterLazyLoad="afterlazyload",h.beforeItemLoad="beforeItemLoad",h.afterItemLoad="afterItemLoad"}(w||(g.DataEvents=w={})),function(h){h.beforeDrag="beforeDrag",h.dragStart="dragStart",h.dragOut="dragOut",h.dragIn="dragIn",h.canDrop="canDrop",h.cancelDrop="cancelDrop",h.beforeDrop="beforeDrop",h.afterDrop="afterDrop",h.afterDrag="afterDrag"}(m||(g.DragEvents=m={})),function(h){h.json="json",h.csv="csv",h.xml="xml"}(_||(g.DataDriver=_={}))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.isOnlyPermanentFilters=g.hasJsonOrArrayStructure=g.isTreeCollection=g.copyWithoutInner=g.toDataDriver=g.toProxy=g.dhxError=g.dhxWarning=g.isDebug=g.findByConf=g.naturalCompare=g.isEqualObj=void 0;var b=y(1),w=y(32),m=y(69);g.isEqualObj=function(_,h){for(var d in _)if(_[d]!==h[d]||Array.isArray(_[d]))return!1;return!0},g.naturalCompare=function(_,h){if(isNaN(_)||isNaN(h)){var d=[],p=[];for(_.replace(/(\d+)|(\D+)/g,function(r,a,i){d.push([a||1/0,i||""])}),h.replace(/(\d+)|(\D+)/g,function(r,a,i){p.push([a||1/0,i||""])});d.length&&p.length;){var u=d.shift(),s=p.shift(),l=u[0]-s[0]||u[1].localeCompare(s[1]);if(l)return l}return d.length-p.length}return _-h},g.findByConf=function(_,h){if(typeof h=="function"){if(h.call(this,_))return _}else if(h.by&&h.match&&_[h.by]===h.match)return _},g.isDebug=function(){var _=window.dhx;if(_!==void 0)return _.debug!==void 0&&_.debug},g.dhxWarning=function(_){console.warn(_)},g.dhxError=function(_){throw new Error(_)},g.toProxy=function(_){var h=typeof _;return h==="string"?new w.DataProxy(_):h==="object"?_:void 0},g.toDataDriver=function(_){if(typeof _=="string"){var h=window.dhx,d=h&&h.dataDrivers||m.dataDrivers;if(d[_])return new d[_];console.warn("Incorrect data driver type:",_),console.warn("Available types:",JSON.stringify(Object.keys(d)))}else if(typeof _=="object")return _},g.copyWithoutInner=function(_,h){var d={};for(var p in _)p.startsWith("$")||h&&h[p]||(d[p]=_[p]);return d},g.isTreeCollection=function(_){return Boolean(_.getRoot)},g.hasJsonOrArrayStructure=function(_){if(typeof _=="object")return!0;if(typeof _!="string")return!1;try{var h=JSON.parse(_);return Object.prototype.toString.call(h)==="[object Object]"||Array.isArray(h)}catch{return!1}},g.isOnlyPermanentFilters=function(_){return!(!_||(0,b.isEmptyObj)(_))&&Object.keys(_).every(function(h){var d;return(d=_[h].config)===null||d===void 0?void 0:d.permanent})}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.DateHelper=g.stringToDate=g.getFormattedDate=g.locale=void 0;var b=y(1),w=y(1);g.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var m,_={"%d":function(s){var l=s.getDate();return l<10?"0"+l:l},"%j":function(s){return s.getDate()},"%l":function(s){return g.locale.days[s.getDay()]},"%D":function(s){return g.locale.daysShort[s.getDay()]},"%m":function(s){var l=s.getMonth()+1;return l<10?"0"+l:l},"%n":function(s){return s.getMonth()+1},"%M":function(s){return g.locale.monthsShort[s.getMonth()]},"%F":function(s){return g.locale.months[s.getMonth()]},"%y":function(s){return s.getFullYear().toString().slice(2)},"%Y":function(s){return s.getFullYear()},"%h":function(s){var l=s.getHours()%12;return l===0&&(l=12),l<10?"0"+l:l},"%g":function(s){var l=s.getHours()%12;return l===0&&(l=12),l},"%H":function(s){var l=s.getHours();return l<10?"0"+l:l},"%G":function(s){return s.getHours()},"%i":function(s){var l=s.getMinutes();return l<10?"0"+l:l},"%s":function(s){var l=s.getSeconds();return l<10?"0"+l:l},"%a":function(s){return s.getHours()>=12?"pm":"am"},"%A":function(s){return s.getHours()>=12?"PM":"AM"},"%u":function(s){return s.getMilliseconds()}},h={"%d":function(s,l,r,a){var i=/(^([0-9][0-9])$)/i.test(l);if(a)return i;i?s.setDate(Number(l)):s.setDate(Number(1))},"%j":function(s,l,r,a){var i=/(^([0-9]?[0-9])$)/i.test(l);if(a)return i;i?s.setDate(Number(l)):s.setDate(Number(1))},"%m":function(s,l,r,a){var i=/(^([0-9][0-9])$)/i.test(l);if(a)return i;i?s.setMonth(Number(l)-1):s.setMonth(Number(0)),i&&s.getMonth()!==Number(l)-1&&s.setMonth(Number(l)-1)},"%n":function(s,l,r,a){var i=/(^([0-9]?[0-9])$)/i.test(l);if(a)return i;i?s.setMonth(Number(l)-1):s.setMonth(Number(0)),i&&s.getMonth()!==Number(l)-1&&s.setMonth(Number(l)-1)},"%M":function(s,l,r,a){var i=(0,w.findIndex)(g.locale.monthsShort,function(n){return n===l});if(a)return i!==-1;i===-1?s.setMonth(0):s.setMonth(i),i!==-1&&s.getMonth()!==i&&s.setMonth(i)},"%F":function(s,l,r,a){var i=(0,w.findIndex)(g.locale.months,function(n){return n===l});if(a)return i!==-1;i===-1?s.setMonth(0):s.setMonth(i),i!==-1&&s.getMonth()!==i&&s.setMonth(i)},"%y":function(s,l,r,a){var i=/(^([0-9][0-9])$)/i.test(l);if(a)return i;i?s.setFullYear(Number("20"+l)):s.setFullYear(Number("2000"))},"%Y":function(s,l,r,a){var i=/(^([0-9][0-9][0-9][0-9])$)/i.test(l);if(a)return i;i?s.setFullYear(Number(l)):s.setFullYear(Number("2000"))},"%h":function(s,l,r,a){var i=/(^0[1-9]|1[0-2]$)/i.test(l);if(a)return i;i&&(r==="am"||r==="pm")||r==="AM"||r==="PM"?s.setHours(Number(l)):s.setHours(Number(0))},"%g":function(s,l,r,a){var i=/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(l);if(a)return i;i&&(r==="am"||r==="pm")||r==="AM"||r==="PM"?s.setHours(Number(l)):s.setHours(Number(0))},"%H":function(s,l,r,a){var i=/(^[0-2][0-9]$)/i.test(l);if(a)return i;i?s.setHours(Number(l)):s.setHours(Number(0))},"%G":function(s,l,r,a){var i=/(^[1-9][0-9]?$)/i.test(l);if(a)return i;i?s.setHours(Number(l)):s.setHours(Number(0))},"%i":function(s,l,r,a){var i=/(^([0-5][0-9])$)/i.test(l);if(a)return i;i?s.setMinutes(Number(l)):s.setMinutes(Number(0))},"%s":function(s,l,r,a){var i=/(^([0-5][0-9])$)/i.test(l);if(a)return i;i?s.setSeconds(Number(l)):s.setSeconds(Number(0))},"%u":function(s,l,r,a){var i=/(^([0-9][0-9][0-9])$)/i.test(l);if(a)return i;i?s.setMilliseconds(Number(l)):s.setMilliseconds(Number(0))},"%a":function(s,l,r,a){if(a)return l==="pm"||l==="am";l==="pm"&&s.setHours(s.getHours()+12)},"%A":function(s,l,r,a){if(a)return l==="PM"||l==="AM";l==="PM"&&s.setHours(s.getHours()+12)}};function d(s){for(var l=[],r="",a=0;a<s.length;a++)s[a]==="%"?(r.length>0&&(l.push({type:m.separator,value:r}),r=""),l.push({type:m.datePart,value:s[a]+s[a+1]}),a++):r+=s[a];return r.length>0&&l.push({type:m.separator,value:r}),l}(function(s){s[s.separator=0]="separator",s[s.datePart=1]="datePart"})(m||(m={})),g.getFormattedDate=function(s,l){return d(s).reduce(function(r,a){return a.type===m.separator?r+a.value:_[a.value]?r+_[a.value](l):r},"")};var p={"%Y":1,"%y":1,"%M":2,"%F":2,"%m":2,"%n":2};function u(s,l,r){if(typeof s=="string"){l=l.replace(/([a-z])(%a)/i,function(){for(var P=[],T=0;T<arguments.length;T++)P[T]=arguments[T];return s=s.replace(/(am|pm)/i," $&"),P[1]+" "+P[2]});for(var a,i=d(l),n=new Array(2),e=0,t=null,o="Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html",c=function(P){var T=p[P.formatter];T?n[T-1]=P:(P.formatter!=="%A"&&P.formatter!=="%a"||(a=P.value),n.push(P))},f=0;f<i.length;f++)if(i[f].type===m.separator){var v=s.indexOf(i[f].value,e);if(v===-1){if(r)return!1;throw new Error(o)}t&&(c({formatter:t,value:s.slice(e,v)}),t=null),e=v+i[f].value.length}else if(i[f].type===m.datePart){if(i[f+1]&&i[f+1].type!==m.separator){if(r)return!1;throw new Error(o)}t=i[f].value}t&&c({formatter:t,value:s.slice(e)});for(var x=new Date(0),k=0,S=n;k<S.length;k++){var O=S[k];if(O&&h[O.formatter]){if(r&&!h[O.formatter](x,O.value,a,r))return!1;h[O.formatter](x,O.value,a)}}return!!r||x}}g.stringToDate=u,g.DateHelper=function(){function s(){}return s.copy=function(l){return new Date(l)},s.fromYear=function(l){return new Date(l,0,1)},s.fromYearAndMonth=function(l,r){return new Date(l,r,1)},s.weekStart=function(l,r){var a=(l.getDay()+7-r)%7;return new Date(l.getFullYear(),l.getMonth(),l.getDate()-a)},s.monthStart=function(l){return new Date(l.getFullYear(),l.getMonth(),1)},s.yearStart=function(l){return new Date(l.getFullYear(),0,1)},s.dayStart=function(l){return new Date(l.getFullYear(),l.getMonth(),l.getDate())},s.addDay=function(l,r){return r===void 0&&(r=1),new Date(l.getFullYear(),l.getMonth(),l.getDate()+r)},s.addMonth=function(l,r){return r===void 0&&(r=1),new Date(l.getFullYear(),l.getMonth()+r)},s.addYear=function(l,r){return r===void 0&&(r=1),new Date(l.getFullYear()+r,l.getMonth())},s.withHoursAndMinutes=function(l,r,a,i){return i===void 0||!i&&r===12||i&&r!==12?new Date(l.getFullYear(),l.getMonth(),l.getDate(),r,a):i&&r===12?new Date(l.getFullYear(),l.getMonth(),l.getDate(),0,a):new Date(l.getFullYear(),l.getMonth(),l.getDate(),r+12,a)},s.setMonth=function(l,r){l.setMonth(r)},s.setYear=function(l,r){l.setFullYear(r)},s.mergeHoursAndMinutes=function(l,r){return new Date(l.getFullYear(),l.getMonth(),l.getDate(),r.getHours(),r.getMinutes())},s.isWeekEnd=function(l){return l.getDay()===0||l.getDay()===6},s.getTwelweYears=function(l){var r=l.getFullYear(),a=r-r%12;return(0,b.range)(a,a+11)},s.getDayOrdinal=function(l){return(l.valueOf()-s.yearStart(l).valueOf())/864e5},s.getWeekNumber=function(l){var r=l.getDay()===4?l:s.addDay(l,4-l.getDay()),a=s.getDayOrdinal(r);return Math.trunc(a/7)+1},s.isSameDay=function(l,r){return l.getFullYear()===r.getFullYear()&&l.getMonth()===r.getMonth()&&l.getDate()===r.getDate()},s.toDateObject=function(l,r){return typeof l=="string"?u(l,r):new Date(l)},s.nullTimestampDate=new Date(0),s}()},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(f){for(var v,x=1,k=arguments.length;x<k;x++)for(var S in v=arguments[x])Object.prototype.hasOwnProperty.call(v,S)&&(f[S]=v[S]);return f},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.proRender=g.render=g.applyAutoWidth=g.getElementSizes=g.getRenderConfig=g.getCurrFixedCols=g.calcScrollBarWidth=g.BORDERS=void 0;var w=y(0),m=y(2),_=y(18),h=y(15),d=y(7),p=y(33),u=y(87),s=y(88),l=y(1);function r(f,v,x){var k,S;v===void 0&&(v=!1);var O=f.$totalHeight+f.$headerHeight+f.$footerHeight+g.BORDERS>((k=x==null?void 0:x.height)!==null&&k!==void 0?k:f.$height),P=!O||v?0:(0,m.getScrollbarWidth)(),T=f.$totalWidth+g.BORDERS+P>((S=x==null?void 0:x.width)!==null&&S!==void 0?S:f.$width);return{x:!T||v?0:(0,m.getScrollbarWidth)(),y:P,xState:T,yState:O}}function a(f,v){return f[v]?(v===d.Split.left?f.columns.slice(0,f.leftSplit):f.columns.slice(-f.rightSplit)).filter(function(x){return!x.hidden}):[]}function i(f,v,x,k){var S=x===void 0?[0,0]:x,O=S[0],P=S[1],T=f[0],j=f[1],$=v[0],I=v[1];return $<=T&&T<=I||$<=j&&j<=I||T<=$&&I<=j||T<O||P&&j>=k-P}function n(f,v,x){var k=f.config,S=k.spans,O=S===void 0?[]:S,P=k.columns,T=k.leftSplit,j=T===void 0?0:T,$=k.topSplit,I=$===void 0?0:$,F=k.rightSplit,E=F===void 0?0:F,V=k.bottomSplit,z=V===void 0?0:V,X=P.filter(function(Q){return!Q.hidden}),Y=(0,_.calculatePositions)(x.width,x.height,f._scroll,k,v),U=X.slice(Y.xStart,Y.xEnd),A=v.slice(Y.yStart,Y.yEnd),M=O.filter(function(Q){var Z;if(!(!((Z=Q.$renderFrom)===null||Z===void 0)&&Z.length))return!1;var B=i(Q.$rowsVisibility,[Y.yStart,Y.yEnd],[I,z],v.length),K=i(Q.$colsVisibility,[Y.xStart,Y.xEnd],[j,E],P.length);return B&&K}),R={left:a(k,d.Split.left),right:a(k,d.Split.right)},W={top:v.slice(0,k.topSplit||0),bottom:k.bottomSplit?v.slice(-k.bottomSplit):[]};return b(b({},k),{data:v,columns:k.columns,scroll:f._scroll,$positions:Y,headerHeight:k.$headerHeight,footerHeight:k.$footerHeight,firstColId:X[0]&&X[0].id,events:f.events,_events:f._events,filteredColumns:X,currentColumns:U,currentRows:A,currentSpans:M,fixedColumns:R,fixedRows:W,sortBy:f._sortBy,sortDir:f._sortDir,content:f.content,gridId:f._uid,$renderFrom:"render"})}function e(f){if(f&&(f.tagName||(f=f._parent._container),f)){var v=f.currentStyle||window.getComputedStyle(f),x=parseFloat(v.paddingLeft)+parseFloat(v.paddingRight)||0,k=parseFloat(v.paddingTop)+parseFloat(v.paddingBottom)||0;return{width:f.clientWidth-x,height:f.clientHeight-k}}}function t(f,v){var x,k=(0,p.getCells)(f),S=f.filteredColumns,O=f.$resizing,P=f.$totalHeight,T=f.$totalWidth,j=f.leftSplit,$=f.data,I=f.$positions,F=(0,p.getSpans)(f);if(O){var E=(0,l.findIndex)(S,function(U){return U.id===O}),V=(0,h.getTotalWidth)(S.slice(0,E))+S[E].$width;x=(0,w.el)(".dhx_grid-resize-line",{style:{top:0,left:V,height:P}})}var z=f.selection?f.selection.toHTML():null;z=typeof z=="string"?(0,w.el)("div.dhx_selection",{".innerHTML":z}):z;var X,Y=I;return(0,w.el)(".dhx_data-wrap",{style:{height:P,width:T,"padding-left":v.x,"padding-top":v.y},role:"presentation"},[(0,w.el)(".dhx_grid_data".concat(j?".dhx_grid_fixed_left":""),b(b({_flags:w.KEYED_LIST},(0,p.getHandlers)(Y.yStart,Y.xStart,f)),(X=$.length,{role:"rowgroup","aria-rowcount":X})),k),(0,w.el)(".dhx_span-spans",b({role:"presentation"},(0,p.getHandlers)(Y.yStart,Y.xStart,f)),F),(0,w.el)(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[z,x])])}function o(f,v,x){var k=x.height-g.BORDERS;return k=v?k:k-f.headerHeight,f.$footer?v?k:k-f.footerHeight:k}function c(f,v,x,k,S){x===void 0&&(x=!0),k===void 0&&(k=!1),S===void 0&&(S=!1);var O=!S&&f.$totalHeight>=v.height-f.$headerHeight?(0,m.getScrollbarWidth)():0,P=v.width-g.BORDERS-O,T=f.columns.filter(function(E){return!E.hidden}),j=T.filter(function(E){return!E.width&&!E.$fixed&&(0,h.isAutoWidth)(f,E)}),$=(0,h.getTotalWidth)(T.filter(function(E){return E.width||E.$fixed||!(0,h.isAutoWidth)(f,E)})),I=j.reduce(function(E,V){return E+(V.gravity||1)},0);if(P<f.$totalWidth){var F=j.reduce(function(E,V){return E+(V.maxWidth||V.$width)},0);j.length&&j.forEach(function(E){var V=0,z=(V=x?Math.abs(P-F)*((E.gravity||1)/I):Math.abs(P-$)*((E.gravity||1)/I))<E.minWidth||E.minWidth<E.$width,X=V>E.maxWidth;z||X?z?($+=E.$width-V,E.$fixed=!0):X&&(E.$width=E.maxWidth,E.$fixed=!0):E.$width=V,E.$width<20&&(E.$width=20)})}else j.forEach(function(E){var V=Math.abs(P-$)*((E.gravity||1)/I),z=V<E.minWidth||E.minWidth<E.$width,X=V>E.maxWidth;z||X?z?($+=E.$width-V,k&&(E.$fixed=!0)):X&&(E.$width=E.maxWidth,k&&(E.$fixed=!0)):E.$width=V,E.$width<20&&(E.$width=20),!x&&E.$fixed&&delete E.$fixed});x&&c(f,v,!1,k,S)}g.BORDERS=2,g.calcScrollBarWidth=r,g.getCurrFixedCols=a,g.getRenderConfig=n,g.getElementSizes=e,g.applyAutoWidth=c,g.render=function(f,v,x,k,S){if(v._container||(v.config.$width=1,v.config.$height=1),f&&f.node&&f.node.parent&&f.node.parent.el){var O=e(f.node.parent.el);v.config.$width=O.width,v.config.$height=O.height}var P=v.config;if(!P)return(0,w.el)("div");if(!P.columns.length)return(0,w.el)(".dhx_grid",{"data-dhx-widget-id":S,"data-dhx-root-id":P.rootParent,role:"empty-grid"});var T=v.data.getRawData(0,-1,null,2);P.columns.reduce(function(nt,rt){return rt.hidden?nt:rt.hidden},!0)?P.$totalHeight=0:P.$totalHeight=T.reduce(function(nt,rt){return nt+(rt.$height||0)},0);var j=e(v._container),$={width:(P.$width?P.$width:P.width&&typeof P.width=="number"?P.width:j==null?void 0:j.width)||0,height:(P.$height?P.$height:P.height&&typeof P.height=="number"?P.height:j==null?void 0:j.height)||0};(0,h.isAutoWidth)(P)&&(c(P,$),P.$totalWidth=(0,h.getTotalWidth)(P.columns.filter(function(nt){return!nt.hidden}))),P.$width=$.width,P.$height=$.height;var I=n(v,T,$);I.selection=k,I.datacollection=v.data;var F=(0,p.getShifts)(I);I.$scrollBarWidth=r(I);var E,V,z,X,Y=(0,h.isCssSupport)("position","sticky"),U=o(I,Y,$),A={wrapper:$,sticky:Y,shifts:F,gridBodyHeight:U},M=(0,s.getFixedRows)(I,b(b({},A),{name:"header",position:"top"})),R=I.$footer?(0,s.getFixedRows)(I,b(b({},A),{name:"footer",position:"bottom"})):null,W=I.$totalWidth+g.BORDERS<$.width?"dhx_grid-less-width":"",Q=I.$totalHeight+g.BORDERS<$.height?"dhx_grid-less-height":"",Z=I.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",B=P.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"";if(!f.node){var K=v.getScrollState(),J=K.x,tt=K.y;(0,w.awaitRedraw)().then(function(){v.scroll(J,tt)})}return(0,w.el)(".dhx_grid.dhx_widget",b({class:(I.css||"")+(Y?"":" dhx_grid_border")+(P.multiselection?" dhx_no-select--pointer":""),"data-dhx-widget-id":S,"data-dhx-root-id":P.rootParent},(E=I.data,V=P.columns,z=I.editable,X=I.multiselection,{role:"grid","aria-rowcount":E.length,"aria-colcount":V.filter(function(nt){return!nt.hidden}).length,"aria-readonly":z?"false":"true","aria-multiselectable":X?"true":"false"})),[(0,w.resizer)(function(nt){return(0,h.isAutoWidth)(v.config)&&nt&&(P.$totalWidth=0,c(P,$,!0,!0)),v.paint()}),(0,w.el)(".dhx_grid-content",{style:b({},$),onclick:x.onclick,onmouseover:x.onmouseover,class:"".concat(W," ").concat(Q," ").concat(Z," ").concat(B).trim(),role:"presentation"},[Y?null:M,(0,w.el)(".dhx_grid-body",{style:{height:U,width:$.width-g.BORDERS},onscroll:x.onscroll,_ref:"grid_body",role:"presentation"},[(0,w.el)("div",{},[Y?M:null,t(I,F),Y?R:null])]),(0,u.getFixedColsHeader)(I,A,d.Split.left),(0,u.getFixedColsHeader)(I,A,d.Split.right),(0,u.getFixedCols)(I,A,d.Split.left),(0,u.getFixedCols)(I,A,d.Split.right),(0,s.getFixedDataRows)(I,A,d.Split.top),(0,s.getFixedDataRows)(I,A,d.Split.bottom),Y?null:R])])},g.proRender=function(f,v,x,k,S){var O,P;v._container||(v.config.$width=1,v.config.$height=1),f&&f.node&&f.node.parent&&f.node.parent.el&&(P=e(f.node.parent.el),v.config.$width=P.width,v.config.$height=P.height);var T=v.config;if(!T)return(0,w.el)("div");if(!T.columns.length)return(0,w.el)(".dhx_grid",{"data-dhx-widget-id":S,"data-dhx-root-id":T.rootParent,role:"empty-grid"});var j,$,I,F=v.data.getRawData(0,-1,null,2);T.columns.reduce(function(rt,lt){return lt.hidden?rt:lt.hidden},!0)?T.$totalHeight=0:T.$totalHeight=F.reduce(function(rt,lt){return rt+(lt.$height||0)},0);var E=e(v._container);v.config.height==="auto"&&(I=function(rt,lt,ct){var ut,at,ht=rt._container,pt=lt.$headerHeight+(lt.$footerHeight&&lt.$footerHeight+1)+lt.$totalHeight+g.BORDERS;if(ht){var gt=window.getComputedStyle(ht),vt=gt.minHeight,_t=gt.maxHeight;return pt<=parseFloat(vt)?parseFloat(vt):pt>=parseFloat(_t)?parseFloat(_t):pt+r(lt,!!(!((ut=rt.scrollView)===null||ut===void 0)&&ut.config.enable),ct).x}return pt+(ct?r(lt,!!(!((at=rt.scrollView)===null||at===void 0)&&at.config.enable),ct).x:0)}(v,T,P||E)),j=T.$width?T.$width:T.width&&typeof T.width=="number"?T.width:E==null?void 0:E.width,$=T.$height?T.$height:T.height&&typeof T.height=="number"?T.height:E==null?void 0:E.height;var V={width:j||0,height:(v.config.height==="auto"?I:$)||0};(0,h.isAutoWidth)(T)&&(c(T,V,!0,!1,v.scrollView&&v.scrollView.config.enable),T.$totalWidth=(0,h.getTotalWidth)(T.columns.filter(function(rt){return!rt.hidden}))),T.$width=V.width,T.$height=V.height;var z=n(v,F,V);z.selection=k,z.datacollection=v.data;var X=(0,p.getShifts)(z);z.$scrollBarWidth=r(z,!!(!((O=v.scrollView)===null||O===void 0)&&O.config.enable));var Y=(0,h.isCssSupport)("position","sticky"),U=o(z,Y,V),A={wrapper:V,sticky:Y,shifts:X,gridBodyHeight:U},M=(0,s.getFixedRows)(z,b(b({},A),{name:"header",position:"top"})),R=z.$footer?(0,s.getFixedRows)(z,b(b({},A),{name:"footer",position:"bottom"})):null,W=z.$totalWidth+g.BORDERS<V.width?"dhx_grid-less-width":"",Q=z.$totalHeight+g.BORDERS<V.height?"dhx_grid-less-height":"",Z=z.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",B=T.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"";if(!f.node){var K=v.getScrollState(),J=K.x,tt=K.y;(0,w.awaitRedraw)().then(function(){v.scroll(J,tt)})}var nt=(0,w.el)("div",{},[Y?M:null,t(z,X),Y?R:null]);return(0,w.el)(".dhx_grid.dhx_widget",{class:(z.css||"")+(Y?"":" dhx_grid_border")+(T.multiselection?" dhx_no-select--pointer":""),style:{height:I!=null?I:null},"data-dhx-widget-id":S,"data-dhx-root-id":T.rootParent,role:"grid","aria-rowcount":z.data.length,"aria-colcount":T.columns.filter(function(rt){return!rt.hidden}).length},[(0,w.resizer)(function(rt){return(0,h.isAutoWidth)(v.config)&&rt&&(T.$totalWidth=0,c(T,V,!0,!0)),v.paint()}),(0,w.el)(".dhx_grid-content",{style:b({},V),onclick:x.onclick,onmouseover:x.onmouseover,class:"".concat(W," ").concat(Q," ").concat(Z," ").concat(B).trim(),role:"presentation"},[Y?null:M,(0,w.el)(".dhx_grid-body",{style:{height:U,width:V.width-g.BORDERS},onscroll:x.onscroll,_ref:"grid_body",role:"presentation"},[v.scrollView&&v.scrollView.config.enable?v.scrollView.render([nt]):nt]),(0,u.getFixedColsHeader)(z,A,d.Split.left),(0,u.getFixedColsHeader)(z,A,d.Split.right),(0,u.getFixedCols)(z,A,d.Split.left),(0,u.getFixedCols)(z,A,d.Split.right),(0,s.getFixedDataRows)(z,A,d.Split.top),(0,s.getFixedDataRows)(z,A,d.Split.bottom),Y?null:R])])}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.normalizeCell=g.getReducedColspan=g.getHeight=g.getWidth=void 0,g.getWidth=function(b,w,m){return b.slice(m,m+(w||1)).filter(function(_){return!_.hidden}).reduce(function(_,h){return _+h.$width},0)},g.getHeight=function(b,w,m){var _=b.filter(function(h){return!h.hidden});return w?_.reduce(function(h,d,p){var u=d.$height;return h+=p>=m&&p<m+w?u:0},0):_[m].$height},g.getReducedColspan=function(b,w,m){var _=b.findIndex(function(h){return h.id===w});return b.slice(_,_+(m||1)).filter(function(h){return!h.hidden}).length},g.normalizeCell=function(b,w){if(b){var m=b.row,_=b.column,h=w.getSpan(m.id,_.id);return h?{row:m.id===h.row?m:w.data.getItem(h.row),column:_.id===h.column?_:w.config.columns.find(function(d){return d.id===h.column})}:b}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.DiagramEvents=g.DataEvents=g.SelectionEvents=void 0;var b=y(35);Object.defineProperty(g,"SelectionEvents",{enumerable:!0,get:function(){return b.SelectionEvents}});var w,m=y(8);Object.defineProperty(g,"DataEvents",{enumerable:!0,get:function(){return m.DataEvents}}),function(_){_.scroll="scroll",_.beforeRender="beforerender",_.emptyAreaClick="emptyAreaClick",_.emptyAreaDblClick="emptyAreaDblClick",_.emptyAreaMouseDown="emptyAreaMouseDown",_.beforeSubmenuOpen="beforeSubmenuOpen",_.afterSubmenuOpen="afterSubmenuOpen",_.beforeCollapse="beforeCollapse",_.afterCollapse="afterCollapse",_.beforeExpand="beforeExpand",_.afterExpand="afterExpand",_.shapeMouseDown="shapeMouseDown",_.shapeClick="shapeClick",_.shapeDblClick="shapeDblClick",_.shapeIconClick="shapeIconClick",_.lineMouseDown="lineMouseDown",_.lineClick="lineClick",_.lineDblClick="lineDblClick",_.lineTitleMouseDown="lineTitleMouseDown",_.lineTitleClick="lineTitleClick",_.lineTitleDblClick="lineTitleDblClick",_.groupMouseDown="groupMouseDown",_.groupClick="groupClick",_.groupDblClick="groupDblClick",_.groupHeaderClick="groupHeaderClick",_.groupHeaderDblClick="groupHeaderDblClick",_.itemMouseDown="itemMouseDown",_.itemClick="itemClick",_.itemDblClick="itemDblClick",_.itemMouseOver="itemMouseOver",_.itemMouseOut="itemMouseOut",_.shapeHover="shapeHover"}(w||(g.DiagramEvents=w={}))},function(H,g,y){var b,w=this&&this.__extends||(b=function(_,h){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var u in p)Object.prototype.hasOwnProperty.call(p,u)&&(d[u]=p[u])},b(_,h)},function(_,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function d(){this.constructor=_}b(_,h),_.prototype=h===null?Object.create(h):(d.prototype=h.prototype,new d)});Object.defineProperty(g,"__esModule",{value:!0}),g.BaseShape=void 0;var m=function(_){function h(d,p){var u=_.call(this,d,p)||this;return d.width&&(d.width=parseFloat(d.width)),d.height&&(d.height=parseFloat(d.height)),d.x&&(d.x=parseFloat(d.x)),d.y&&(d.y=parseFloat(d.y)),d.strokeWidth&&(d.strokeWidth=parseFloat(d.strokeWidth)),u}return w(h,_),h.prototype.getBaseType=function(){return"shape"},h.prototype.getCenter=function(){var d=this.config;return{x:Math.abs(d.width/2),y:Math.abs(d.height/2)}},h.prototype.getPoint=function(d,p){var u=this.config;if(u.angle){var s=u.x+u.width/2,l=u.y+u.height/2,r=u.angle*(Math.PI/180);return{x:(d-s)*Math.cos(r)-(p-l)*Math.sin(r)+s,y:(d-s)*Math.sin(r)+(p-l)*Math.cos(r)+l}}return{x:d,y:p}},h}(y(54).BaseItem);g.BaseShape=m},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(d,p,u,s){s===void 0&&(s=u);var l=Object.getOwnPropertyDescriptor(p,u);l&&!("get"in l?!p.__esModule:l.writable||l.configurable)||(l={enumerable:!0,get:function(){return p[u]}}),Object.defineProperty(d,s,l)}:function(d,p,u,s){s===void 0&&(s=u),d[s]=p[u]}),w=this&&this.__exportStar||function(d,p){for(var u in d)u==="default"||Object.prototype.hasOwnProperty.call(p,u)||b(p,d,u)};Object.defineProperty(g,"__esModule",{value:!0}),g.shapes=g.locale=g.ShapesCollection=void 0,w(y(63),g);var m=y(91);Object.defineProperty(g,"ShapesCollection",{enumerable:!0,get:function(){return m.ShapesCollection}});var _=y(57);Object.defineProperty(g,"locale",{enumerable:!0,get:function(){return _.default}}),w(y(27),g);var h=y(53);Object.defineProperty(g,"shapes",{enumerable:!0,get:function(){return h.shapes}}),w(y(90),g),w(y(55),g)},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(130),g),w(y(173),g),w(y(38),g)},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.focusManager=void 0;var b=y(2),w=function(){function m(){var _=this;this._initHandler=function(h){return _._activeWidgetId=(0,b.locate)(h,"data-dhx-widget-id")},this._removeFocusClass=function(h){var d=document.body.classList;d.contains("utilityfocus")&&d.remove("utilityfocus")},this._addFocusClass=function(h){var d=document.body.classList;h.code==="Tab"?d.contains("utilityfocus")||d.add("utilityfocus"):d.contains("utilityfocus")&&d.remove("utilityfocus")},document.addEventListener("focusin",this._initHandler),document.addEventListener("pointerdown",this._initHandler),document.addEventListener("mousedown",this._removeFocusClass),document.addEventListener("keydown",this._addFocusClass)}return m.prototype.getFocusId=function(){return this._activeWidgetId},m.prototype.setFocusId=function(_){this._activeWidgetId=_},m}();g.focusManager=new w},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.DataProxy=void 0;var b=y(47),w=function(){function m(_,h){h===void 0&&(h={}),this.url=this._url=_,this.config=h}return m.prototype.updateUrl=function(_,h){for(var d in h===void 0&&(h={}),this._url=this.url=_||this._url,this.url+=this.url.includes("?")?"&":"?",h)this.config[d]=h[d],this.url+="".concat(d,"=").concat(encodeURIComponent(h[d]),"&");this.url=this.url.slice(0,-1)},m.prototype.load=function(){return b.ajax.get(this.url,void 0,this.config)},m.prototype.save=function(_,h){switch(h){case"delete":return b.ajax.delete(this.url,_,this.config);case"update":return b.ajax.put(this.url,_,this.config);default:return b.ajax.post(this.url,_,this.config)}},m}();g.DataProxy=w},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(e){for(var t,o=1,c=arguments.length;o<c;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.normalizeSpan=g.getShifts=g.getSpans=g.getCells=g.getTreeCell=g.getHandlers=void 0;var w=y(1),m=y(0),_=y(26),h=y(15),d=y(7),p=y(140),u=y(2),s=y(18),l=y(25);function r(e,t,o,c,f){t=(0,u.locateNodeByClassName)(f.target,"dhx_grid-fixed-cols-wrap")?0:t;var v=(0,u.locateNodeByClassName)(f.target,"dhx_grid-cell"),x=(0,u.locateNodeByClassName)(f.target,"dhx_span-cell");if((v||x)&&c){var k=v?v.parentNode:x,S=(v||x).getAttribute("data-dhx-col-id"),O=o.filteredColumns.find(function(j){return j.id===S}),P=k.getAttribute("data-dhx-id"),T=(o.$data||o.data).find(function(j){return j.id.toString()===P});c.toLocaleLowerCase().includes("touch")?o._events.fire(c,[T,O,f]):o.events.fire(c,[T,O,f])}}function a(e,t,o,c){var f=c.$editable&&c.$editable.row===t.id&&c.$editable.col===o.id,v=!c.fixedColumns.left.length||c.$renderFrom==="leftFixedCols",x=o.align?"dhx_align-".concat(o.align):"dhx_align-left",k="";v&&(k="dhx_tree-cell ".concat(o.$cellCss[t.id]||""," ").concat(x),t.$items&&(k+=" dhx_grid-expand-cell"),f&&(k+=" dhx_tree-editing-cell"),c.dragMode&&!f&&(k+=(t.$drophere?" dhx_grid-cell--drophere":"")+(t.$dragtarget?" dhx_grid-cell--dragtarget":"")));var S=(0,s.getTreeCellWidthOffset)(t);return(0,m.el)(".dhx_grid-cell",b({class:k,style:{width:o.$width,height:t.$height,padding:t.$items?0:"0 0 0 ".concat(S,"px")},"data-dhx-col-id":o.id},{role:"gridcell","aria-colindex":1}),v?[t.$items?(0,m.el)(".dhx_grid-expand-cell-icon",b(b({class:t.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":t.id},function(O){return{role:"button","aria-label":O.$opened?"Collapse group":"Expand group"}}(t)),{style:{padding:t.$level?"0 0 0 ".concat(4+S,"px"):"0 0 0 4px"}})):null,(0,m.el)(".dhx_tree-cell",{class:x+"".concat(c.autoHeight?" dhx_tree-cell_auto-height":"")},[e])]:null)}function i(e,t,o){return(0,p.getEditor)(e,t,o)}function n(e){var t=e.$scrollBarWidth,o=e.$totalWidth-e.$width+l.BORDERS+t.y,c=e.$totalHeight-e.$height+e.$headerHeight+e.$footerHeight+l.BORDERS+t.x;return{x:o>0?o-e.scroll.left:0,y:c>0?c-e.scroll.top:0}}g.getHandlers=function(e,t,o){return{onclick:[r,e,t,o,d.GridEvents.cellClick],onmouseover:[r,e,t,o,d.GridEvents.cellMouseOver],onmousedown:[r,e,t,o,d.GridEvents.cellMouseDown],ondblclick:[r,e,t,o,d.GridEvents.cellDblClick],oncontextmenu:[r,e,t,o,d.GridEvents.cellRightClick],ontouchstart:[r,e,t,o,d.GridEvents.cellMouseDown],ontouchmove:[r,e,t,o,d.GridSystemEvents.cellTouchMove],ontouchend:[r,e,t,o,d.GridSystemEvents.cellTouchEnd]}},g.getTreeCell=a,g.getCells=function(e){if(!e.data||!e.filteredColumns)return[];var t,o=e.$positions,c=e.data?e.data.slice(o.yStart,o.yEnd):[],f=e.filteredColumns.slice(o.xStart,o.xEnd),v=e.selection.getCell(),x=!0,k=document.querySelector(".dhx_drag-ghost");if(k){var S=Array.from(k.querySelectorAll(".dhx_grid-row")).map(function(O){return Number(O.getAttribute("aria-rowindex"))-1});S.length&&(t=S.map(function(O){return e.data[O]}).filter(function(O){return O&&!c.find(function(P){return P.id===O.id})}),c.push.apply(c,t))}return c.map(function(O,P){var T=t==null?void 0:t.some(function(I){return I.id===O.id}),j=c.length-1===P,$="";return e.rowCss&&($=e.rowCss(O)),O.$css&&($+=O.$css),(0,m.el)(".dhx_grid-row",b({style:{height:j?O.$height+1:O.$height,display:T?"none":null},"data-dhx-id":O.id,class:$,_key:O.id,_flags:m.KEYED_LIST},T?{}:{role:"row","aria-rowindex":o.yStart+P+1}),O.$customRender?[O.$customRender(O,e)]:f.map(function(I,F){var E,V;if(!I.hidden){var z=O[I.id],X=(0,s.getEditorOptions)(I,O);(I.editable||e.editable&&I.editable!==!1)&&(I.editorType==="select"||I.editorType==="combobox"||I.editorType==="multiselect")&&X&&(z=(z=typeof z=="string"&&I.editorType==="multiselect"?z.split(",").map(function(Z){return Z.trim()}):[z==null?void 0:z.toString()]).map(function(Z){var B,K;return(K=(B=X.find(function(J){return J.id&&J.id.toString()===Z}))===null||B===void 0?void 0:B.value)!==null&&K!==void 0?K:Z}).join(", "));var Y=(0,s.toFormat)(z,I.type,I.format),U=I.template?I.template(Y,O,I):typeof(V=Y)!="boolean"&&I.type!=="boolean"||typeof V=="string"?V||V===0?V:"":"".concat(Boolean(V));typeof U=="string"&&(U=(0,h.isHtmlEnable)(e,I)?(0,m.el)("div.dhx_grid-cell__content",b({".innerHTML":U},{role:"button","aria-label":"Edit content"})):U);var A="".concat(I.$cellCss&&I.$cellCss[O.id]||""," dhx_").concat(I.type,"-cell").replace(/\s+/g," "),M=I.$width,R=e.$editable&&e.$editable.row===O.id&&e.$editable.col===I.id&&!e.$editable.isSpan,W=e.leftSplit,Q=e.filteredColumns;return(R||I.type==="boolean"&&(e.editable&&((E=I.editable)===null||E===void 0||E)||!e.editable&&I.editable))&&(U=i(O,I,e).toHTML(),A+=" dhx_grid-cell__editable",W===Q.indexOf(I)+1&&(M-=1)),e.type==="tree"&&e.firstColId===I.id?a(U,O,I,e):(e.dragMode&&!R&&(A+=(O.$drophere?" dhx_grid-cell--drophere":"")+(O.$dragtarget?" dhx_grid-cell--dragtarget":"")),I.align&&(A+=" dhx_align-".concat(I.align)),(0,h.isHtmlEnable)(e,I)&&(A+=" dhx_grid-cell__content_html-enable"),e.autoHeight&&(A+=" dhx_grid-cell__content_auto-height"),(0,m.el)(".dhx_grid-cell",b({class:A,style:{width:M,height:O.$height+"px"},_key:I.id,"data-dhx-col-id":I.id},function(Z,B,K,J){return b({role:"gridcell","aria-colindex":B,"aria-readonly":J?"false":"true"},function(tt,nt){var rt={tabindex:-1};return v?v.row.id===nt.id&&v.column.id===tt.id&&(rt.tabindex=0):x&&(rt.tabindex=0,rt.onkeydown=function(lt){if(e.selection&&!v&&lt.key==="Tab"){var ct=lt.target.parentNode.getAttribute("data-dhx-id"),ut=lt.target.getAttribute("data-dhx-col-id");ut&&ct&&(e.selection.setCell(ct,ut),v=e.selection.getCell()),x=!1}}),rt}(Z,O))}(I,o.xStart+F+1,0,e.editable)),[U]))}}))})},g.getSpans=function(e,t){var o,c,f=[],v=e.columns,x=e.filteredColumns,k=e.data,S=e.currentSpans,O=e.bottomSplit;if(!x.length||!S)return null;for(var P=e.fixedColumns.right.length,T=S.filter(function(F){var E;return(E=F.$renderFrom)===null||E===void 0?void 0:E.includes(e.$renderFrom)}),j=T.sort(function(F,E){return typeof F.row=="string"&&typeof E.row=="string"?F.row.localeCompare(E.row):F.row-E.row}),$=function(F){var E=j[F].row,V=j[F].column,z=j[F].rowspan||1,X=j[F].colspan||1,Y=j[F].text,U=j[F].css,A=t===d.Split.bottom&&e.$renderFrom.endsWith("FixedCols"),M=A?e.$data:k,R=x==null?void 0:x.findIndex(function(Vt){return"".concat(Vt.id)==="".concat(V)}),W=M==null?void 0:M.findIndex(function(Vt){return"".concat(Vt.id)==="".concat(E)});if(R<0||W<0)return"continue";if(A){var Q=e.$data[W+z-1];if(!k.find(function(Vt){return Vt.id===(Q==null?void 0:Q.id)}))return"continue"}var Z=x[R],B=M[W],K=Z.$cellCss[E],J=(0,w.isDefined)(j[F].text)?"string":Z.type;if(Z.hidden)return"continue";var tt=void 0;tt=(0,w.isDefined)(Y)?Y.toString():B[V]===void 0?"":(0,s.toFormat)(B[V],Z.type,Z.format);var nt=Z.template||function(Vt,zi,Wi){return Vt||Vt===0?Vt:""};tt=nt(tt,B,Z);var rt=(0,h.isHtmlEnable)(e,Z);tt=typeof tt=="string"?(0,m.el)("div.dhx_span-cell-content",{".innerHTML":rt?tt:null},rt?null:tt):tt;var lt=void 0;if(e.$renderFrom==="bottomFixedRows"||A){var ct=M.length-O;lt=W<ct?-(0,h.getTotalHeight)(M.slice(W,ct)):(0,h.getTotalHeight)(M.slice(ct,W))}else lt=(0,h.getTotalHeight)(M.slice(0,W))-(t?0:1);var ut=0;if(e.$renderFrom==="rightFixedCols"){var at=x.length-e.fixedColumns.right.length;ut=R<at?-(0,h.getTotalWidth)(x.slice(R,at)):(0,h.getTotalWidth)(x.slice(at,R))}else for(var ht=R-1;ht>=0;ht--)ut+=x[ht].$width;var pt=B.$items&&R===0,gt=R===x.length-1,vt=R+(0,_.getReducedColspan)(v,V,X)===x.length,_t=P&&R===x.length-P,N=t===d.Split.bottom&&e.fixedRows.bottom.find(function(Vt){return Vt.id===E}),dt=O&&W+z>M.length-O,bt=P&&R+X===x.length-P,xt=Z.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";xt+=pt?" dhx_span-expand-cell":"",xt+=K?" ".concat(K):"",xt+=U?" ".concat(U):"",xt+=W===0?" dhx_span-first-row":"",xt+=W+z===M.length?" dhx_grid__span_bottom--last-row":"",xt+=R===0||_t?" dhx_span-first-col":"",xt+=gt||vt?" dhx_span-last-col":"",xt+=X===1?" dhx_span-".concat(Z.type||"string","-cell"):" dhx_span-string-cell",xt+=Z.align?" dhx_align-".concat(Z.align):" dhx_".concat(J,"-cell"),xt+=N?" dhx_grid__span_bottom--all-fixed":"",xt+=dt?" dhx_grid__span_bottom--part-fixed":"",xt+=bt?" dhx_grid__span_right--before-fixed":"";var Dt=v==null?void 0:v.findIndex(function(Vt){return"".concat(Vt.id)===V}),Mt=X>1?(0,_.getWidth)(v,X,Dt):Z.$width,Ct=void 0;if(z>1){if(Ct=(0,_.getHeight)(M,z,W),t===d.Split.top&&e.$renderFrom.endsWith("FixedCols")){var It=W+z-M.length;if(It>0){var wt=e.fixedRows.top.length;Ct+=(0,h.getTotalHeight)(e.$data.slice(wt,wt+It))}}}else Ct=B.$height;var Ft=null;if(((o=e.$editable)===null||o===void 0?void 0:o.isSpan)&&e.$editable.row===E&&e.$editable.col===V||Z.type==="boolean"&&(e.editable&&((c=Z.editable)===null||c===void 0||c)||!e.editable&&Z.editable)){var Rt=e.topSplit,ae=e.fixedColumns.left.length,fe=ae&&R+X<=ae||P&&R>=x.length-P,xe=W<(Rt||0)||W+z>M.length-(O||0),Ht=Rt&&W+z<=Rt||O&&W>=M.length-O,Qt=R<(ae||0)||R+X>x.length-(P||0);if(e.$renderFrom==="render"||fe&&!xe||Ht&&!Qt){var vn=e.$height,Ke=e.$scrollBarWidth,se=e.scroll,pe=e.fixedRows,we=e.fixedColumns,Je=j[F].text,ge=0;if(tt=i(B,Z,e).toHTML(Je),xt+=" dhx_span__editable",!Ht){var He=(0,h.getTotalHeight)(pe.top),le=(0,h.getTotalHeight)(pe.bottom),_n=Ke.yState?vn-e.$headerHeight-e.$footerHeight-Ke.x-l.BORDERS:e.$totalHeight,mn=lt+Ct-se.top,Ze=lt-He<se.top,Be=mn>_n-le;Ze&&Be&&Ke.xState&&(ge=1),lt=Ze?se.top+He-(He&&!fe?1:0):lt,Ct=Be?_n-lt-le+se.top-ge:Ze?mn-He:Ct}if(e.$renderFrom==="render"){if(Ft=12,we.left.find(function(Vt){return Vt.id===V})&&(ut=se.left+(0,h.getTotalWidth)(we.left.slice(0,R)),!fe)){var ve=(0,h.getTotalWidth)(we.left.slice(R,ae));Mt=Mt-se.left>ve?Mt-se.left:ve}if(pe.top.find(function(Vt){return Vt.id===E})&&(lt=se.top+(0,h.getTotalHeight)(pe.top.slice(0,W)),!Ht)){var Ee=(0,h.getTotalHeight)(e.fixedRows.top.slice(W,e.topSplit));Ct=Ct>0?Ee+Ct-ge:Ee}if(we.right.find(function(Vt){return Vt===x[x.indexOf(Z)+X-1]})){var Ce=x.length,te=n(e),yn=Ce-x.indexOf(Z)-X,Qe=(ve=yn?(0,h.getTotalWidth)(we.right.slice(0,-yn)):(0,h.getTotalWidth)(we.right),(0,h.getTotalWidth)(x.slice(R,Ce-P)));ut=te.x>Qe?ut-te.x+Qe:ut,fe||(Mt=te.x<Qe?Mt-te.x-1:ve-1)}if(pe.bottom.find(function(Vt){return Vt===M[M.indexOf(B)+z-1]})){Ce=M.length,te=n(e);var ze=Ce-M.indexOf(B)-z,We=(Ee=ze?(0,h.getTotalHeight)(pe.bottom.slice(0,-ze)):(0,h.getTotalHeight)(e.fixedRows.bottom),(0,h.getTotalHeight)(M.slice(W,Ce-O)));lt=te.y>We?lt-te.y+We:lt,Ht||(Ct=te.y<We?Ee+Ct-ge-(ze?-1:ge?0:1):Ee-(ze?-1:1))}}ae===R+1&&(Mt-=1),R===x.length-P&&(ut+=1,Mt-=1)}}f.push((0,m.el)("div",{class:xt,style:{width:Mt,height:Ct,top:lt,left:ut,zIndex:Ft},"data-dhx-col-id":V,"data-dhx-id":E,"aria-hidden":"true"},[pt?(0,m.el)(".dhx_span-expand-cell-icon",{class:B.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":B.id,role:"button","aria-label":B.$opened?"Collapse group":"Expand group",style:{padding:"0 0 0 ".concat(4+(0,s.getTreeCellWidthOffset)(B),"px")}}):null,tt]))},I=0;I<j.length;I++)$(I);return f},g.getShifts=function(e){var t=e.filteredColumns.slice(0,e.$positions.xStart),o=e.data.slice(0,e.$positions.yStart);return{x:(0,h.getTotalWidth)(t),y:(0,h.getTotalHeight)(o)}},g.normalizeSpan=function(e,t,o){var c=t.topSplit,f=c===void 0?0:c,v=t.bottomSplit,x=v===void 0?0:v,k=t.columns,S=e.column,O=e.row,P=e.colspan,T=e.rowspan,j=o.getRawData(0,-1,null,2),$=k.filter(function(Z){return!Z.hidden}),I=$.findIndex(function(Z){return Z.id==S}),F=j.findIndex(function(Z){return Z.id==O}),E=I+(P?(0,_.getReducedColspan)(k,S,P)-1:0),V=F+(T?T-1:0),z=I===-1?[]:[I,E],X=F===-1?[]:[F,V],Y=[];if(I!==-1&&F!==-1){var U=(0,l.getCurrFixedCols)(t,d.Split.left).length,A=(0,l.getCurrFixedCols)(t,d.Split.right).length,M=I<U,R=F<f,W=E>=$.length-A,Q=V>=j.length-x;E>=U&&V>=f&&I<$.length-A&&F<j.length-x&&Y.push("render"),M&&Y.push("leftFixedCols"),W&&Y.push("rightFixedCols"),!R||M||W?R&&!Y.includes("render")&&Y.push("render"):Y.push("topFixedRows"),!Q||M||W?Q&&!Y.includes("render")&&Y.push("render"):Y.push("bottomFixedRows")}return b(b({},e),{$renderFrom:Y,$rowsVisibility:X,$colsVisibility:z})}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.ScrollView=g.scrollViewConfig=void 0;var b=y(1),w=y(0),m=y(2);g.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}};var _=function(){function h(d,p){var u;p===void 0&&(p={});var s=this;this.config=(0,b.extend)({enable:g.scrollViewConfig.enable,autoHide:g.scrollViewConfig.autoHide,timeout:g.scrollViewConfig.timeout,scrollHandler:g.scrollViewConfig.scrollHandler},p),this._wheelName=(0,m.isIE)()?"onmousewheel":"onwheel",this._getRootView=d,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=(0,m.getScrollbarWidth)(),this._scrollHeight=(0,m.getScrollbarHeight)(),this._handlers=((u={onscroll:function(l){s.config.scrollHandler(l),s.update()}})[this._wheelName]=function(l){var r=!!(0,m.locateNodeByClassName)(l.target,"y-scroll");l.preventDefault();var a=40*((l.deltaY||-l.wheelDelta)>0?1:-1),i=s._getRefs().area;if(r){var n=i.scrollHeight-s._runnerHeight,e=s._scrollYTop+a;i.scrollTop=e<0?0:e>n?n:e}else{var t=i.scrollWidth-s._runnerWidth,o=s._scrollXLeft+a;i.scrollLeft=o<0?0:o>t?t:o}s.update()},u.onmousedownRunner=function(l){l.preventDefault();var r=!!(0,m.locateNodeByClassName)(l.target,"y-scroll"),a=s._getRefs(),i=a.area,n=a.runnerY,e=a.runnerX,t=i.getBoundingClientRect(),o=t.top+window.pageYOffset,c=t.bottom+window.pageYOffset,f=i.scrollHeight-s._runnerHeight,v=l.pageY-n.getBoundingClientRect().top-window.pageYOffset,x=t.left+window.pageXOffset,k=t.right+window.pageXOffset,S=i.scrollWidth-s._runnerWidth,O=l.pageX-e.getBoundingClientRect().left-window.pageXOffset,P=function(j){if(r){var $=j.pageY-v;i.scrollTop=$<=o?0:$>c?f:($-o)/s._visibleYArea}else{var I=j.pageX-O;i.scrollLeft=I<=x?0:I>k?S:(I-x)/s._visibleXArea}s.update()},T=function(){document.removeEventListener("mousemove",P),document.removeEventListener("mouseup",T),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",P),document.addEventListener("mouseup",T)},u.onmousedownArea=function(l){if(!(0,m.locateNodeByClassName)(l,"scroll-runner")){l.preventDefault();var r=!!(0,m.locateNodeByClassName)(l.target,"y-scroll"),a=s._getRefs(),i=a.area,n=a.runnerY,e=a.runnerX;r?i.scrollTop+=(l.pageY-n.getBoundingClientRect().top)/s._visibleYArea:i.scrollLeft+=(l.pageX-e.getBoundingClientRect().left)/s._visibleXArea,s.update()}},u.onmouseenter=function(l){if(!(0,m.locateNodeByClassName)(l,"scroll-runner")){var r=s._getRefs();if(r){var a=!!(0,m.locateNodeByClassName)(l.target,"y-scroll"),i=r.areaX,n=r.areaY;a&&s._runnerHeight>0?n.style.background="#eee":!a&&s._runnerWidth>0&&(i.style.background="#eee")}}},u.onmouseleave=function(l){if(!(0,m.locateNodeByClassName)(l,"scroll-runner")){var r=s._getRefs();if(r){var a=!!(0,m.locateNodeByClassName)(l.target,"y-scroll"),i=r.areaX,n=r.areaY;a&&s._runnerHeight>0?n.style.background="transparent":!a&&s._runnerWidth>0&&(i.style.background="transparent")}}},u)}return h.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},h.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},h.prototype.render=function(d,p){var u,s,l=this;if(p===void 0&&(p=""),!this.config.enable||!d.length)return d;p&&(this._uid=p);var r=this.config.enable?[(0,w.el)(".y-scroll",(u={},u[this._wheelName]=this._handlers[this._wheelName],u._ref=p?"scroll-y-area-".concat(p):"scroll-y-area",u.onmousedown=this._handlers.onmousedownArea,u.onmouseenter=this._handlers.onmouseenter,u.onmouseleave=this._handlers.onmouseleave,u.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},u),[(0,w.el)(".scroll-runner",{_ref:p?"scroll-y-runner-".concat(p):"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),(0,w.el)(".x-scroll",(s={},s[this._wheelName]=this._handlers[this._wheelName],s._ref=p?"scroll-x-area-".concat(p):"scroll-x-area",s.onmousedown=this._handlers.onmousedownArea,s.onmouseenter=this._handlers.onmouseenter,s.onmouseleave=this._handlers.onmouseleave,s.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},s),[(0,w.el)(".scroll-runner",{_ref:p?"scroll-x-runner-".concat(p):"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return(0,w.el)(".scroll-view-wrapper",[(0,w.el)(".scroll-view",{onscroll:this._handlers.onscroll,_ref:p?"scroll-view-".concat(p):"scroll-view",_hooks:{didInsert:function(){l.update()},didRecycle:function(){l.update()}},style:{width:"calc(100% + ".concat(this._scrollWidth,"px)"),height:"calc(100% + ".concat(this._scrollHeight,"px)")}},d)].concat(r))},h.prototype.update=function(){var d=this._getRefs();if(d){var p=d.area,u=d.areaX,s=d.areaY,l=d.runnerY,r=d.runnerX;this._visibleYArea=p.clientHeight/p.scrollHeight,this._visibleXArea=p.clientWidth/p.scrollWidth,this._scrollYTop=p.scrollTop,this._scrollXLeft=p.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?p.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?p.clientWidth*this._visibleXArea:0;var a=l.style.top,i=r.style.left;l.style.opacity=1,l.style.top=this._runnerYTop+"px",l.style.height=this._runnerHeight+"px",r.style.opacity=1,r.style.left=this._runnerXLeft+"px",r.style.width=this._runnerWidth+"px",a!==l.style.top&&(s.style.opacity=.9,s.style.width="10px"),i!==r.style.left&&(u.style.opacity=.9,u.style.height="10px"),this.config.autoHide?!this._autoHideFunc&&(this._autoHideFunc=(0,b.debounce)(function(){l.style.opacity=0,s.style.width="6px",r.style.opacity=0,u.style.height="6px"},this.config.timeout)):this._autoHideFunc=(0,b.debounce)(function(){s.style.width="6px",u.style.height="6px"},this.config.timeout),this._autoHideFunc()}},h.prototype._getRefs=function(){var d=this._getRootView(),p=!(!d.refs["scroll-view"]||!d.refs["scroll-x-runner"]&&!d.refs["scroll-y-runner"]),u=!(!this._uid||!d.refs["scroll-view-".concat(this._uid)]||!d.refs["scroll-x-runner-".concat(this._uid)]&&!d.refs["scroll-y-runner-".concat(this._uid)]);if(d.refs){if(p)return{area:d.refs["scroll-view"].el,areaY:d.refs["scroll-y-area"].el,areaX:d.refs["scroll-x-area"].el,runnerY:d.refs["scroll-y-runner"].el,runnerX:d.refs["scroll-x-runner"].el};if(u)return{area:d.refs["scroll-view-".concat(this._uid)].el,areaY:d.refs["scroll-y-area-".concat(this._uid)].el,areaX:d.refs["scroll-x-area-".concat(this._uid)].el,runnerY:d.refs["scroll-y-runner-".concat(this._uid)].el,runnerX:d.refs["scroll-x-runner-".concat(this._uid)].el}}},h}();g.ScrollView=_},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.SelectionEvents=void 0,function(w){w.beforeUnSelect="beforeunselect",w.afterUnSelect="afterunselect",w.beforeSelect="beforeselect",w.afterSelect="afterselect"}(b||(g.SelectionEvents=b={}))},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.getNavbarButtonCSS=g.navbarComponentMixin=g.getIcon=g.getCount=void 0;var w=y(0),m=y(1);g.getCount=function(_,h,d){var p={danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[_.countColor]||" dhx_navbar-count--color_danger";return(0,w.el)(".dhx_navbar-count",{class:h+p+(!d&&parseInt(_.count,10)>99?" dhx_navbar-count--overlimit":"")},d&&parseInt(_.count,10)>99?"99+":_.count)},g.getIcon=function(_,h){return _===void 0&&(_=""),_.startsWith("dxi")&&(_="dxi "+_),(0,w.el)("span",{class:"dhx_".concat(h,"__icon ").concat(_),"aria-hidden":"true"})},g.navbarComponentMixin=function(_,h,d,p){var u,s,l=function(a,i,n){var e="",t="";return t=(e=n?"dhx_menu-item":"dhx_"+a+"__item")+(i.css?" "+i.css:""),i.type!=="spacer"&&i.type!=="separator"||(t+=" ".concat(e,"--").concat(i.type)),i.type!=="button"||a!=="sidebar"||i.icon||(t+=" dhx_navbar-item--colapse_hidden"),t}(_,h,d),r=_==="ribbon"&&(h.type==="navItem"||h.type==="imageButton");return(0,w.el)("li",b({_key:h.id,class:l+(h.icon&&!h.value&&r?" dhx_ribbon__item--icon":"")+(h.src&&!h.value&&r?" dhx_ribbon__item--icon":"")+(h.size&&r?" dhx_ribbon__item--"+h.size:""),".innerHTML":h.type==="customHTML"?h.html:void 0,"data-dhx-id":h.type==="customHTML"?h.id:void 0},(u=h.type,s={role:"none"},u==="separator"&&(s.role="separator",s["aria-orientation"]="vertical"),s)),h.type!=="customHTML"?[p]:void 0)},g.getNavbarButtonCSS=function(_,h){var d=_.color,p=_.size,u=_.view,s=_.full,l=_.icon,r=_.circle,a=_.loading,i=_.value,n=_.active,e=_.count;return({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[d]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[p]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[u]||" dhx_button--view_flat")+(s?" dhx_button--width_full":"")+(r?" dhx_button--circle":"")+(a?" dhx_button--loading":"")+(n?" dhx_button--active":"")+(l&&!i?" dhx_button--icon":"")+((0,m.isDefined)(e)?" dhx_button--count":"")}},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.DiagramEditorEvents=void 0,function(w){w.shapeResize="shapeResize",w.zoomIn="zoomin",w.zoomOut="zoomout",w.beforeShapeIconClick="beforeShapeIconClick",w.afterShapeIconClick="afterShapeIconClick",w.beforeLineTitleMove="beforeLineTitleMove",w.afterLineTitleMove="afterLineTitleMove",w.lineTitleMoveEnd="lineTitleMoveEnd",w.beforeShapeMove="beforeShapeMove",w.afterShapeMove="afterShapeMove",w.shapeMoveEnd="shapeMoveEnd",w.beforeGroupMove="beforeGroupMove",w.afterGroupMove="afterGroupMove",w.groupMoveEnd="groupMoveEnd",w.beforeItemMove="beforeItemMove",w.afterItemMove="afterItemMove",w.itemMoveEnd="itemMoveEnd",w.itemTarget="itemTarget",w.beforeItemCatch="beforeItemCatch",w.afterItemCatch="afterItemCatch",w.shapeMove="shapemove",w.resetButton="resetButton",w.applyButton="applyButton",w.undoButton="undoButton",w.redoButton="redoButton",w.visibility="visibility",w.exportData="exportData",w.importData="importData",w.autoLayout="autoLayout",w.changeGridStep="changeGridStep",w.shapesUp="shapesUp"}(b||(g.DiagramEditorEvents=b={}))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.NavigationBarEvents=g.DataEvents=void 0;var b,w=y(8);Object.defineProperty(g,"DataEvents",{enumerable:!0,get:function(){return w.DataEvents}}),function(m){m.inputCreated="inputCreated",m.click="click",m.openMenu="openMenu",m.beforeHide="beforeHide",m.afterHide="afterHide",m.inputFocus="inputFocus",m.inputBlur="inputBlur",m.inputChange="inputChange",m.input="input",m.keydown="keydown"}(b||(g.NavigationBarEvents=b={}))},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(d){for(var p,u=1,s=arguments.length;u<s;u++)for(var l in p=arguments[u])Object.prototype.hasOwnProperty.call(p,l)&&(d[l]=p[l]);return d},b.apply(this,arguments)};function w(d,p,u){var s=d.x,l=d.y;switch(u){case"top":return d.$item.getPoint(s+d.width/2,l-p);case"bottom":return d.$item.getPoint(s+d.width/2,l+d.height+p);case"left":return d.$item.getPoint(s-p,l+d.height/2);case"right":return d.$item.getPoint(s+d.width+p,l+d.height/2);case"center":return d.$item.getPoint(s+d.width/2,l+d.height/2)}}function m(d,p,u,s,l,r){if(r===void 0&&(r=10),!l){var a=u.y===s.y?+r:0,i=u.x===s.x?+r:0;return[d,{x1:u.x,y1:u.y,x:u.x+a,y:u.y+i},{x:s.x-a,y:s.y-i},{x1:s.x,y1:s.y,x:p.x,y:p.y}]}var n=s.x<l.x?-1:1,e=s.y<l.y?-1:1,t=u.x>l.x?1:-1,o=u.y>l.y?1:-1,c=b({},l),f=b({},s),v={x1:l.x,y1:l.y,x:l.x,y:l.y+r*e};return u.x===l.x&&(c.y+=r*o,f.x-=r*n,v={x1:l.x,y1:l.y,x:l.x+r*n,y:l.y}),u.y===l.y&&(c.x+=r*t,f.y-=r*e,v={x1:l.x,y1:l.y,x:l.x,y:l.y+r*e}),[d,u,c,v,f,{x1:s.x,y1:s.y,x:p.x,y:p.y}]}Object.defineProperty(g,"__esModule",{value:!0}),g.directLinkPath=g.nearestLinkPath=void 0;var _=["top","bottom","right","left","center"];function h(d,p,u,s,l,r,a){var i,n,e,t;r===void 0&&(r=""),a===void 0&&(a="");var o=l&&l>s?l:s||0;if(r==="center"&&a==="center")return[{x:p.x+p.width/2,y:p.y+p.height/2},{x:u.x+u.width/2,y:u.y+u.height/2}];if(r&&(i=w(p,0,r),e=w(p,s,r)),a&&(n=w(u,0,a),t=w(u,o,a)),!r||!a){var c=_.map(function(O){var P=w(p,s,O);return _.map(function(T){var j=w(u,o,T),$=function(I,F){var E=F.x-I.x,V=F.y-I.y;return Math.sqrt(E*E+V*V)}(P,j);return[P,j,$,O,T]}).sort(function(T,j){return T[2]-j[2]})[0]}).sort(function(O,P){return O[2]-P[2]})[0];e=c[0],t=c[1],r=c[3],a=c[4],d.fromSide=r,d.toSide=a,i=w(p,0,r),n=w(u,0,a)}var f=r==="bottom"&&a==="top"||r==="top"&&a==="bottom"?Math.abs(n.y-i.y):0;(f=f||(r==="left"&&a==="right"||r==="right"&&a==="left"?Math.abs(n.x-i.x):0))>0&&o+s>=f&&(t=w(u,o=f-s,a));var v=[];if(e.x===t.x||e.y===t.y)i.x===e.x&&e.x===n.x||i.y===e.y&&e.y===n.y?v=[i,n]:(v=[i,e,t,n],d.cornersRadius&&d.connectType!=="straight"&&(v=m(i,n,e,t,null,d.cornersRadius)));else{var x=e.x<i.x&&e.x<t.x,k=e.y>i.y&&e.y>t.y,S=i.x===e.x||x?{x:e.x,y:t.y}:{x:t.x,y:e.y};S=k?{x:t.x,y:e.y}:S,v=d.connectType==="flex"?function(O,P,T){return[O,{x1:T.x,y1:T.y,x:P.x,y:P.y}]}(i,n,S):d.cornersRadius&&d.connectType!=="straight"?m(i,n,e,t,S,d.cornersRadius):[i,e,S,t,n]}return v}g.nearestLinkPath=function(d,p,u,s){var l;if(p&&u){var r=h(d,p,u,((l=s==null?void 0:s.lineConfig)===null||l===void 0?void 0:l.lineGap)||0,d.customGap,d.fromSide,d.toSide);if(d.connectType==="straight")return d.points=[r[0],r[r.length-1]];if(d.points){if(d.points.length===r.length)d.points=d.points.map(function(i,n){return i&&r[n]&&!i.custom?r[n]:i});else{var a=d.points.filter(function(i){return i.custom});d.points=a.length?d.points:r}d.$move||(d.points[0]=r[0],d.points[d.points.length-1]=r[r.length-1])}else d.points=r}},g.directLinkPath=function(d,p,u,s){var l,r;if(d||!p.assistant||!p.partner){var a=p.x+(p.dx||0),i=p.y+(p.dy||0),n=u.x+(u.dx||0),e=u.y+(u.dy||0);if(p.dir&&p.dir.includes("vertical")||Array.isArray(p.dir)){var t=a,o=Math.round(i+p.height/2),c=n,f=Math.round(e+u.height/2),v=.5-Math.round(s.margin.itemX/2);p.dir==="vertical"&&(d.points=[{x:t,y:o},{x:t+v,y:o},{x:t+v,y:f},{x:c,y:f}]),(p.dir==="verticalLeft"||Array.isArray(p.dir)&&p.dir.includes("verticalLeft"))&&(d.points=[{x:t,y:o},{x:t+v,y:o},{x:t+v,y:f},{x:c+u.width,y:f}]),(p.dir==="verticalRight"||Array.isArray(p.dir)&&p.dir.includes("verticalRight"))&&(d.points=[{x:t+p.width,y:o},{x:t+p.width-v,y:o},{x:t+p.width-v,y:f},{x:c,y:f}])}else{if(t=Math.round(a+p.width/2),o=i+p.height,c=n+(u.$even?0:u.width),f=Math.round(e+u.height/2),u.partner){var x=u.$even?a+p.width:a,k=Math.round(i+p.height/2),S=Math.round(s.margin.itemX/2);return S=u.$even?S:-S,void(d.points=[{x,y:k},{x:x+S,y:k},{x:x+S,y:f},{x:c,y:f}])}if(u.assistant){if(((l=p==null?void 0:p.$partners)===null||l===void 0?void 0:l.common.length)===1){var O=a,P=Math.round(i+p.height/2),T=Math.round(s.margin.itemX/2);return void(d.points=[{x:O,y:P},{x:O-T,y:P},{x:O-T,y:f},{x:c,y:f}])}return void(d.points=[{x:t,y:o},{x:t,y:o},{x:t,y:f},{x:c,y:f}])}if(c=Math.round(n+u.width/2),f=e,v=p.$height-(p.$baseHeight+p.height)/2,((r=p==null?void 0:p.$partners)===null||r===void 0?void 0:r.common.length)===1){var j=Math.round(a-s.margin.itemX/2);return void(d.points=[{x:j,y:o-p.height/2},{x:j,y:o+v},{x:c,y:o+v},{x:c,y:f}])}d.points=[{x:t,y:o},{x:t,y:o+v},{x:c,y:o+v},{x:c,y:f}]}}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.addLineTitle=g.getDistanceEblowLine=g.getDistancePercentage=g.getDistanceFactor=g.getLinePercentage=g.getLineLength=g.getLineAngle=g.getNearPointStraightLine=void 0;var b=y(29);function w(p,u,s){var l=p.x,r=p.y,a=u.x,i=u.y,n=s.x,e=s.y;if(l===a)return{x:l,y:e};if(r===i)return{x:n,y:r};var t=(i-r)/(a-l),o=-1/t,c=(t*l-o*n+e-r)/(t-o);return{x:c,y:o*(c-n)+e}}function m(p,u){var s=p.x,l=p.y,r=u.x,a=u.y;return Math.sqrt((r-s)*(r-s)+(a-l)*(a-l))}function _(p,u,s){var l=m(p,u),r=m(p,s);return r<=l?r/l:l/r}function h(p){return 100*p}function d(p,u){for(var s,l,r=p.points,a=[],i=1/0,n=0,e=0,t=0,o=0;o<r.length-1;o++){var c=r[o],f=r[o+1],v=w(c,f,u),x=m(v,u),k=m(c,f);n+=k,a.push(k);var S=c.x,O=c.y,P=f.x,T=f.y,j=v.x,$=v.y;S>P&&(S=(s=[P,S])[0],P=s[1]),O>T&&(O=(l=[T,O])[0],T=l[1]),x<=i&&P>=j&&S<=j&&T>=$&&O<=$&&(i=x,e=m(c,v),t=o)}var I=0;if(t!==0)for(o=0;o<t;o++)I+=a[o];return(I+=e)/n*100}g.getNearPointStraightLine=w,g.getLineAngle=function(p,u){var s=p.x,l=p.y,r=u.x,a=u.y;return Math.atan((a-l)/(r-s))*(180/Math.PI)},g.getLineLength=m,g.getLinePercentage=_,g.getDistanceFactor=function(p){return p===void 0&&(p=50),typeof p=="string"&&(p=parseFloat(p)),p>=100?1:p<=0?0:p/100},g.getDistancePercentage=h,g.getDistanceEblowLine=d,g.addLineTitle=function(p,u){var s,l=p.points,r=u._lastItemClickCoords,a=50;if(p.connectType==="straight"||l.length===2){var i=l[0],n=l[l.length-1];a=h(_(i,n,w(i,n,r)))}else a=d(p,r);var e=u.data.add({type:"lineTitle",text:b.locale.text,distance:a,parent:p.id});u.selection.add({id:e});var t=(s=u.data.getItem(e))===null||s===void 0?void 0:s.$item;t&&t.isEditable()&&u.editor.openEditor(e,"text")&&t.setEditorNode(u.editor.render(),"text")}},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.Input=g.Validation=void 0;var _,h=y(0),d=y(1),p=y(6),u=y(9),s=y(3),l=y(4);(function(a){a.empty="",a.validEmail="email",a.validInteger="integer",a.validNumeric="numeric",a.validAlphaNumeric="alphanumeric",a.validIPv4="IPv4"})(_||(g.Validation=_={}));var r=function(a){function i(n,e){e===void 0&&(e={});var t=a.call(this,null,e)||this;return t.events=new s.EventSystem,t._propsItem=["inputType","required","validation","icon","placeholder","autocomplete","readOnly","maxlength","minlength","min","max","step","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],t._props=m(m([],p.baseProps,!0),t._propsItem,!0),t._initView(e),t._initHandlers(),t}return w(i,a),i.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._propsItem=null,a.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(n){if(n&&!(0,d.isEmptyObj)(n)&&this.events.fire(l.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in n)this._props.includes(e)&&(this.config[e]=n[e]);this.events.fire(l.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},i.prototype.getProperties=function(){for(var n={},e=0,t=this._props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.show=function(){var n=this.config,e=n.value;n.hidden&&this.events.fire(l.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[e]))},i.prototype.hide=function(n){var e=this.config,t=e.value;e.hidden&&!n||!this.events.fire(l.ItemEvent.beforeHide,[t,n])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[t,n]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.validate=function(n){n===void 0&&(n=!1);for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];var o=e.length?e[0]:this.getValue();if(!n&&!this.events.fire(l.ItemEvent.beforeValidate,[o]))return!1;var c=this.config.validation?(0,p.validateInput)(o,this.config.validation):(0,p.baseInputValidate)(o,this.config);return n||(this.setValidationStatus(c?"success":"error"),this.events.fire(l.ItemEvent.afterValidate,[o,c]),!this.isFocused()&&this.paint()),c},i.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},i.prototype.clear=function(){this.config.value!==""&&this.events.fire(l.ItemEvent.beforeChange,[""])&&(this.config.value="",this.events.fire(l.ItemEvent.change,[this.getValue()]),(0,p.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},i.prototype.setValue=function(n){n!==void 0&&this.config.value!==n&&this.events.fire(l.ItemEvent.beforeChange,[n])&&(this.config.value=n,this.events.fire(l.ItemEvent.change,[this.getValue()]),(0,p.isVerify)(this.config)&&this.validate())},i.prototype.getValue=function(){var n=this.config,e=n.inputType,t=n.value;return e==="number"&&typeof t=="number"||t===null?t:e==="number"&&typeof t=="string"?t.length?Number(t):"":typeof t=="string"?t.length?t:"":t===void 0?"":String(t)},i.prototype.isFocused=function(){var n,e,t;return((t=(e=(n=this.getRootView())===null||n===void 0?void 0:n.refs)===null||e===void 0?void 0:e.input)===null||t===void 0?void 0:t.el)===document.activeElement},i.prototype.focus=function(){var n=this;(0,h.awaitRedraw)().then(function(){n.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var n=this;(0,h.awaitRedraw)().then(function(){n.getRootView().refs.input.el.blur()})},i.prototype._initView=function(n){if((0,d.isEmptyObj)(n))throw new Error("Check the configuration is correct");for(var e in this.config={type:"input",id:n.id,name:n.name,value:"",disabled:!1,hidden:!1,inputType:"text",required:!1,icon:"",placeholder:"",autocomplete:!1,readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},n)e!=="id"&&e!=="type"&&e!=="name"&&(this.config[e]=n[e]);this._value=this.config.value,this.paint()},i.prototype._initHandlers=function(){var n=this;this.events.on(l.ItemEvent.change,function(e){n._value=e,n.paint()})},i.prototype._getHandlers=function(){var n=this;return{oninput:function(e){e.isComposing||(n._value=e.target.value,n.events.fire(l.ItemEvent.input,[n.config.inputType==="number"?Number(n._value):n._value]))},onchange:function(e){n._value=e.target.value,n._value!==n.config.value&&n.setValue(n._value)},onfocus:function(){n.events.fire(l.ItemEvent.focus,[n.getValue()]),n.paint()},onblur:function(){n._uid&&(n.events.fire(l.ItemEvent.blur,[n.getValue()]),n._value!==n.config.value&&n.setValue(n._value),n.paint())},onkeydown:function(e){e.code==="Enter"&&n.config.type==="input"&&e.preventDefault(),n.events.fire(l.ItemEvent.keydown,[e])}}},i.prototype._draw=function(){var n=this.config,e=n.id,t=n.disabled,o=n.name,c=n.icon,f=n.placeholder,v=n.required,x=n.inputType,k=n.hidden,S=n.autocomplete,O=n.readOnly,P=n.maxlength,T=n.minlength,j=n.max,$=n.min,I=n.label,F=n.helpMessage,E=n.value,V=k?" dhx_form-group--hidden":"";return(0,h.el)("div.dhx_form-group",{class:(0,p.getFormItemCss)(this.config,(0,p.isVerify)(this.config),this.isFocused())+V},[this._drawLabel(),(0,h.el)(".dhx_input__wrapper",{},[(0,h.el)("div.dhx_input__container",{},[this.config.icon?(0,h.el)(".dhx_input__icon",{class:this.config.icon}):null,(0,h.el)("input.dhx_input",{type:["text","number","password"].includes(x)?x:"text","data-dhx-id":o||e,id:e||this._uid,_key:e||this._uid,placeholder:f||"",value:E,name:o||"",disabled:t,required:v,readOnly:O,maxlength:P,minlength:T,max:j,min:$,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,class:c?"dhx_input--icon-padding":"",autocomplete:S?"on":"off",_ref:"input","aria-label":I||F||"type ".concat(o||x||"text"),"aria-describedby":F?"dhx_label__help_".concat(e||this._uid):null,_hooks:this._getHooks()})]),(0,p.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",(0,p.getValidationMessage)(this.config))])])},i.prototype._getHooks=function(){var n=this,e=this._handlers.oninput;return{didRecycle:function(t,o){n.isFocused()&&(0,d.isDefined)(n._value)&&(o.el.value=n._value)},didInsert:function(t){t.el.addEventListener("compositionend",e)},willRemove:function(t){t.el.removeEventListener("compositionend",e),e=null}}},i}(u.Label);g.Input=r},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.VaultMode=g.ProgressBarEvents=g.UploaderEvents=g.FileStatus=void 0;var b,w,m,_;y(8),function(h){h.queue="queue",h.uploaded="uploaded",h.failed="failed",h.inprogress="inprogress"}(b||(g.FileStatus=b={})),function(h){h.uploadBegin="uploadbegin",h.beforeUploadFile="beforeuploadfile",h.uploadFile="uploadfile",h.uploadFail="uploadfail",h.uploadComplete="uploadcomplete",h.uploadProgress="uploadprogress"}(w||(g.UploaderEvents=w={})),function(h){h.cancel="cancel"}(m||(g.ProgressBarEvents=m={})),function(h){h.grid="grid",h.list="list"}(_||(g.VaultMode=_={}))},function(H,g,y){function b(w,m,_){return _===void 0&&(_={}),w.reduce(function(h,d,p){return p===w.length-1?h[d]=m:h[d]=h[d]||{},h[d]},_),_}Object.defineProperty(g,"__esModule",{value:!0}),g.getValueFromObjectByKeys=g.getModifiedObject=g.createNestedObject=void 0,g.createNestedObject=b,g.getModifiedObject=function(w,m,_){return Array.isArray(w)?_=b(w,m,_):_[w]=m,_},g.getValueFromObjectByKeys=function(w,m){if(w&&(m==null?void 0:m.length)){if(typeof m=="string")return w[m];for(var _=w,h=0,d=m;h<d.length;h++){var p=d[h];if(_[p]===void 0)return;_=_[p]}return _}}},function(H,g){var y;y=function(){return this}();try{y=y||new Function("return this")()}catch{typeof window=="object"&&(y=window)}H.exports=y},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.i18n=g.DiagramEditor=g.Diagram=g.setTheme=g.awaitRedraw=void 0,y(123),y(124);var b=y(0);Object.defineProperty(g,"awaitRedraw",{enumerable:!0,get:function(){return b.awaitRedraw}}),Object.defineProperty(g,"setTheme",{enumerable:!0,get:function(){return b.setTheme}});var w=y(63);Object.defineProperty(g,"Diagram",{enumerable:!0,get:function(){return w.Diagram}});var m=y(204);Object.defineProperty(g,"DiagramEditor",{enumerable:!0,get:function(){return m.DiagramEditor}});var _=y(57),h=y(277),d=window;g.i18n=d.dhx&&d.dhx.i18n?d.dhx.i18:{},g.i18n.setLocale=h.setLocale,g.i18n.diagram=g.i18n.diagram||_.default},function(H,g,y){var b,w,m;Object.defineProperty(g,"__esModule",{value:!0}),g.MessageContainerPosition=g.Position=g.RealPosition=void 0,function(_){_.left="left",_.right="right",_.top="top",_.bottom="bottom",_.center="center"}(b||(g.RealPosition=b={})),function(_){_.right="right",_.bottom="bottom",_.center="center",_.left="left",_.top="top"}(w||(g.Position=w={})),function(_){_.topLeft="top-left",_.topRight="top-right",_.bottomLeft="bottom-left",_.bottomRight="bottom-right"}(m||(g.MessageContainerPosition=m={}))},function(H,g,y){(function(b){Object.defineProperty(g,"__esModule",{value:!0}),g.ajax=void 0;var w=y(22),m=y(23);function _(d){return d?d.includes("json")?"json":d.includes("xml")?"xml":"text":"text"}function h(d,p,u,s,l){var r=s||{};if(l&&(r.Accept="application/"+l),u!=="GET"&&(r["Content-Type"]=r["Content-Type"]||"application/json"),u==="GET"){var a=p&&typeof p=="object"?function(i){return Object.keys(i).reduce(function(n,e){var t=typeof i[e]=="object"?JSON.stringify(i[e]):i[e];return n.push(e+"="+encodeURIComponent(t)),n},[]).join("&")}(p):p&&typeof p=="string"?p:"";a&&(d+=d.includes("?")?"&":"?",d+=a),p=null}return window.fetch?(r["Content-Type"]==="application/json"&&p&&typeof p=="object"&&(p=JSON.stringify(p)),window.fetch(d,{method:u,body:p||null,headers:r}).then(function(i){if(!i.ok)return i.text().then(function(t){return b.reject({status:i.status,statusText:i.statusText,message:t})});var n=l||_(i.headers.get("Content-Type"));if(n==="raw")return{headers:Object.fromEntries(i.headers.entries()),url:i.url,body:i.body};if(i.status!==204)switch(n){case"json":return i.json();case"xml":var e=(0,m.toDataDriver)(w.DataDriver.xml);return e?i.text().then(function(t){return e.toJsonObject(t)}):i.text();default:return i.text()}})):new b(function(i,n){var e=new XMLHttpRequest;for(var t in e.onload=function(){e.status>=200&&e.status<300?(l==="raw"&&i({url:e.responseURL,headers:e.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(o,c){var f=c.split(": ");return o[f[0]]=f[1],o},{}),body:e.response}),e.status===204?i():i(function(o,c){switch(c){case"json":return JSON.parse(o);case"text":default:return o;case"xml":var f=(0,m.toDataDriver)(w.DataDriver.xml);return f?f.toJsonObject(o):{parseError:"Incorrect data driver type: 'xml'"}}}(e.responseText,l||_(e.getResponseHeader("Content-Type"))))):n({status:e.status,statusText:e.statusText})},e.onerror=function(){n({status:e.status,statusText:e.statusText,message:e.responseText})},e.open(u,d),r)e.setRequestHeader(t,r[t]);switch(u){case"POST":case"DELETE":case"PUT":e.send(p!==void 0?JSON.stringify(p):"");break;default:e.send()}})}g.ajax={get:function(d,p,u){return h(d,p,"GET",u&&u.headers,u!==void 0?u.responseType:void 0)},post:function(d,p,u){return h(d,p,"POST",u&&u.headers,u!==void 0?u.responseType:void 0)},put:function(d,p,u){return h(d,p,"PUT",u&&u.headers,u!==void 0?u.responseType:void 0)},delete:function(d,p,u){return h(d,p,"DELETE",u&&u.headers,u!==void 0?u.responseType:void 0)}}}).call(this,y(17))},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(144),g),w(y(79),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(p,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])},b(p,u)},function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=p}b(p,u),p.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)});Object.defineProperty(g,"__esModule",{value:!0}),g.Layout=void 0;var m=y(50),_=y(74),h=y(0),d=function(p){function u(s,l){var r=p.call(this,s,l)||this;if(r._root=r.config.parent||r,r._all={},r._parseConfig(),r._progress=!1,r.config.activeTab&&(r.config.activeView=r.config.activeTab),r.config.views&&(r.config.activeView=r.config.activeView||r._cells[0].id,r._isViewLayout=!0),!l.parent){var a=(0,h.create)({render:function(){return r._root&&r.toVDOM()}},r);r.mount(s,a)}return r}return w(u,p),u.prototype.destructor=function(){if(this.unmount(),this.config){for(var s=0,l=this._cells;s<l.length;s++){var r=l[s];r==null||r.destructor()}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={}}},u.prototype.toVDOM=function(){var s;if(this._isViewLayout){var l=[this.getCell(this.config.activeView).toVDOM()];return p.prototype.toVDOM.call(this,l)}var r=[];return this._inheritTypes(),(s=this._cells)===null||s===void 0||s.forEach(function(a){var i=a.toVDOM();Array.isArray(i)?r=r.concat(i):r.push(i)}),p.prototype.toVDOM.call(this,r)},u.prototype.removeCell=function(s){if(this.events.fire(m.LayoutEvents.beforeRemove,[s])){var l=this.config.parent||this;if(l===this){var r=this.getCell(s);if(r){var a=r.getParent();delete this._all[s],a._cells=a._cells.filter(function(i){return i.id!=s}),a.paint()}this.events.fire(m.LayoutEvents.afterRemove,[s])}else l.removeCell(s)}},u.prototype.addCell=function(s,l){if(l===void 0&&(l=-1),this.events.fire(m.LayoutEvents.beforeAdd,[s.id])){var r=this._createCell(s);l<0&&(l=this._cells.length+l+1),this._cells.splice(l,0,r),this.paint(),this.events.fire(m.LayoutEvents.afterAdd,[s.id])}},u.prototype.getId=function(s){return s<0&&(s=this._cells.length+s),this._cells[s]?this._cells[s].id:void 0},u.prototype.getRefs=function(s){return this._root.getRootView().refs[s]},u.prototype.getCell=function(s){var l;return(l=this._root)===null||l===void 0?void 0:l._all[s]},u.prototype.forEach=function(s,l,r){if(r===void 0&&(r=1/0),this._haveCells(l)&&!(r<1)){var a;a=l?this._root._all[l]._cells:this._root._cells;for(var i=0;i<a.length;i++){var n=a[i];s.call(this,n,i,a),this._haveCells(n.id)&&n.forEach(s,n.id,--r)}}},u.prototype.cell=function(s){return this.getCell(s)},u.prototype.progressShow=function(){this._progress=!0,this.paint()},u.prototype.progressHide=function(){this._progress=!1,this.paint()},u.prototype._initHandlers=function(){var s=this;this._handlers={enterCollapse:function(l){l.keyCode===13&&s._handlers.toggle()},collapse:function(){s.config.collapsable&&s.collapse()},expand:function(){s.config.collapsable&&s.expand()},toggle:function(){s.config.collapsable&&s.toggle()}}},u.prototype._getCss=function(s){var l=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",r=this.config.align?" "+l+"--"+this.config.align:"";if(s)return l+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:"");var a=this.config.parent?p.prototype._getCss.call(this):"dhx_widget dhx_layout",i=this.config.parent?"":" dhx_layout-cell";return a+(this.config.full?i:" "+l)+r},u.prototype._parseConfig=function(){var s=this,l=this.config,r=l.rows||l.cols||l.views||[];this._xLayout=!l.rows,this._cells=r.map(function(a){return s._createCell(a)})},u.prototype._createCell=function(s){var l;return s.rows||s.cols||s.views?(s.parent=this._root,l=new u(this,s)):l=new _.Cell(this,s),this._root._all[l.id]=l,s.init&&s.init(l,s),l},u.prototype._haveCells=function(s){if(s){var l=this._root._all[s];return l._cells&&l._cells.length>0}return Object.keys(this._all).length>0},u.prototype._inheritTypes=function(s){var l=this;if(s===void 0&&(s=this._cells),Array.isArray(s))s.forEach(function(i){return l._inheritTypes(i)});else{var r=s==null?void 0:s.config;if((r==null?void 0:r.rows)||(r==null?void 0:r.cols)){var a=s.getParent();!r.type&&a&&(a.config.type?r.type=a.config.type:this._inheritTypes(a))}}},u}(_.Cell);g.Layout=d},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.LayoutEvents=void 0,function(w){w.beforeShow="beforeShow",w.afterShow="afterShow",w.beforeHide="beforeHide",w.afterHide="afterHide",w.beforeResizeStart="beforeResizeStart",w.resize="resize",w.afterResizeEnd="afterResizeEnd",w.beforeAdd="beforeAdd",w.afterAdd="afterAdd",w.beforeRemove="beforeRemove",w.afterRemove="afterRemove",w.beforeCollapse="beforeCollapse",w.afterCollapse="afterCollapse",w.beforeExpand="beforeExpand",w.afterExpand="afterExpand"}(b||(g.LayoutEvents=b={}))},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(80),g),w(y(161),g),w(y(86),g)},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.ListEvents=void 0,function(w){w.click="click",w.doubleClick="doubleclick",w.focusChange="focuschange",w.beforeEditStart="beforeEditStart",w.afterEditStart="afterEditStart",w.beforeEditEnd="beforeEditEnd",w.afterEditEnd="afterEditEnd",w.itemRightClick="itemRightClick",w.itemMouseOver="itemMouseOver",w.contextmenu="contextmenu"}(b||(g.ListEvents=b={}))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.shapesFactory=g.shapes=void 0;var b=y(89),w=y(187),m=y(55),_=y(188),h=y(90),d=y(189);for(var p in g.shapes={card:b.Card,"img-card":w.ImgCard,text:_.TextShape,topic:d.TopicShape},m.flowShapes)g.shapes[p]=m.FlowShape;g.shapesFactory=function(u,s){var l=g.shapes[u.type];return!l&&(l=g.shapes.card,s.shapes[u.type])?new h.CustomShape(u,s):new l(u,s)}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.BaseItem=void 0;var b=function(){function w(m,_){this.editableProperty={key:null,editableId:null},this.config=this.setDefaults(m,m.type==="line"||m.type==="dash"?_:_.defaults),this.id=this.config.id=m.id}return w.prototype.isFixed=function(){return this.config.fixed},w.prototype.isEditable=function(){return this.config.editable||!1},w.prototype.getBaseType=function(){return"base"},w.prototype.isLocate=function(m){var _=this.config,h=_.x,d=_.y,p=_.height,u=_.width,s=_.dx,l=s===void 0?0:s,r=_.dy,a=r===void 0?0:r,i=h+u+l>=m.x&&h+l<=m.x+m.width,n=d+p+a>=m.y&&d+a<=m.y+m.height;return i&&n},w.prototype.getBox=function(){var m=this.config,_=m.x,h=_===void 0?0:_,d=m.y,p=d===void 0?0:d,u=m.dx,s=u===void 0?0:u,l=m.dy,r=h+s,a=p+(l===void 0?0:l);return{left:r,right:r+m.width,top:a,bottom:a+m.height}},w.prototype.canResize=function(){return!0},w.prototype.render=function(){return""},w.prototype.getEditorNode=function(){return this.editorNode},w.prototype.setEditorNode=function(m,_,h){this.editorNode=m,_&&(this.editableProperty.key=_),h&&(this.editableProperty.editableId=h)},w.prototype.destructor=function(){this.config=this.id=null},w.prototype.getCss=function(){var m=this.config,_=m.$selected,h=m.$target,d=m.assistant,p=d!==void 0&&d,u=m.partner,s=u!==void 0&&u,l=m.catchItem,r=l===void 0||l,a=m.$move,i=m.type,n=this.config.css||"";return _&&this.getBaseType()!=="line"&&(n+=" dhx_diagram_item--selected"),a&&i!=="$sgroup"&&(n+=" dhx_diagram_item--move"),h&&(n+=p||s||!r?" dhx_action__target dhx_action__target--doesnt_take":" dhx_action__target dhx_action__target--take"),n},w.prototype.setDefaults=function(m,_){return m},w.prototype.getCoords=function(m){var _=m.dx,h=m.dy,d=m.$group,p=m.$gx,u=m.$gy,s=m.x,l=m.y;return _&&(s+=_),h&&(l+=h),d?{x:p,y:u}:(delete m.$gx,delete m.$gy,{x:s,y:l})},w}();g.BaseItem=b},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}),m=this&&this.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var r,a=0,i=s.length;a<i;a++)!r&&a in s||(r||(r=Array.prototype.slice.call(s,0,a)),r[a]=s[a]);return u.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(g,"__esModule",{value:!0}),g.flowShapes=g.FlowShape=void 0;var _=y(0),h=y(28),d=y(19),p=function(u){function s(l,r){return u.call(this,l,r)||this}return w(s,u),s.prototype.setDefaults=function(l,r){var a=l.width,i=l.height,n=l.stroke,e=l.fill,t=l.strokeWidth,o=l.fontColor,c=l.strokeDash,f=l.textAlign,v=l.lineHeight,x=l.fontStyle,k=l.textVerticalAlign,S=l.type,O=l.fontSize,P=l.text,T=l.preview,j=l.x,$=l.y,I=l.fixed,F=l.editable,E=["circle","or","junction"].includes(S),V=r.width?parseFloat(r.width):E?90:140,z=r.height?parseFloat(r.height):90,X=r.lineHeight?parseFloat(r.lineHeight):14,Y=r.fontSize?parseFloat(r.fontSize):14,U=r.strokeWidth?parseFloat(r.strokeWidth):1;return l.strokeWidth=t||U,l.width=a||V,l.height=i||z,l.fontSize=O||Y,l.lineHeight=v||X,l.strokeDash=c||r.strokeDash||"",l.fill=e||r.fill||"#EEF1F6",l.stroke=n||r.stroke||"#B8C6D6",l.text=typeof P=="string"?P:r.text||"",l.textAlign=f||r.textAlign||"center",l.textVerticalAlign=k||r.textVerticalAlign||"center",l.fontStyle=x||r.fontStyle||"normal",l.fontColor=o||r.fontColor||"#4C4C4C",l.preview=T||r.preview,l.x=j||0,l.y=$||0,l.fixed=I||!1,l.editable=typeof F!="boolean"||F,l},s.prototype.getContent=function(){var l=this.config,r=l.text,a=l.$editable;return[(0,_.el)("div.dhx_diagram_item__text",{style:(0,d.getShapeCss)(this.config)},a?[this.getEditorNode()]:r)]},s.prototype.render=function(){var l=this;this.config.strokeType||(this.config.strokeType="line"),this.config.strokeType==="line"&&(this.config.strokeDash="0"),this.config.strokeType==="dash"&&(this.config.strokeDash="5,5");var r=this.config,a=r.id,i=r.angle,n=r.width,e=r.height,t=r.strokeWidth,o=r.$group,c=r.$selected,f=o||c?c?2:1:0,v=this.getCoords(this.config),x=t/2,k=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(S,O){k.push((0,d.getCircleTpl)(l.config,O))}):k.push((0,d.getCircleTpl)(this.config)),(0,_.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_flow",{_key:a,class:this.getCss(),"data-dhx-id":a,style:{transform:"rotate(".concat(i||0,"deg)"),position:"absolute",height:e,width:n,top:v.y,left:v.x,zIndex:f}},m([(0,_.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",height:e,width:n,viewBox:"".concat(-x," ").concat(-x," ").concat(n+x," ").concat(e+x),reserveAspectRatio:"none"},this._getShapeContour()),(0,d.getTextTemplate)(this.config,this.getContent())],k,!0))},s.prototype._getShapeContour=function(){var l,r=this.config,a=r.width,i=r.height,n=r.stroke,e=r.fill,t=r.strokeWidth,o=r.strokeDash,c=r.type,f=r.strokeType,v=g.flowShapes[c],x=Math.round(a/12),k=a-t/2,S=i-t/2,O=v.path(k,S,x),P=v.additionalPath(k,S,x);return[(l=O,(0,_.sv)("path",{d:l,class:"dhx_diagram_shape_flow__svg ",stroke:f!=="none"&&n,fill:e,"stroke-width":t,"stroke-dasharray":o})),function(T){return(0,_.sv)("path",{d:T,fill:"none",stroke:n,class:"dhx_diagram_shape_flow__extra-line"})}(P)]},s}(h.BaseShape);g.FlowShape=p,g.flowShapes={circle:{path:function(u,s){return`
			M `.concat(u/2," 0 A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",").concat(s,`
			A `).concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",0 Z")},additionalPath:function(){}},rectangle:{path:function(u,s){return"M 0,0 L 0,".concat(s," L ").concat(u,",").concat(s," L ").concat(u,",0 Z")},additionalPath:function(){}},triangle:{path:function(u,s){return"M ".concat(u/2," 0 L").concat(u," ").concat(s," L 0 ").concat(s," z")},additionalPath:function(){}},start:{path:function(u,s){return`
			M `.concat(s/2," 0 A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(s/2,",").concat(s,`
			H `).concat(u-s/2," A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(u-s/2,",0 H ").concat(s/2," Z")},additionalPath:function(){}},end:{path:function(u,s){return`
			M `.concat(s/2," 0 A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(s/2,",").concat(s,`
			H `).concat(u-s/2," A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(u-s/2,",0 H ").concat(s/2," Z")},additionalPath:function(){}},process:{path:function(u,s){return"M 0,0 L 0,".concat(s," L ").concat(u,",").concat(s," L ").concat(u,",0 Z")},additionalPath:function(){}},output:{path:function(u,s,l){return"M ".concat(2*l,",0 ").concat(u,",0 ").concat(u-2*l,",").concat(s," 0,").concat(s," Z")},additionalPath:function(){}},decision:{path:function(u,s){return"M 0 ".concat(s/2," L ").concat(u/2," 0 L ").concat(u," ").concat(s/2," L ").concat(u/2," ").concat(s," Z")},additionalPath:function(){}},display:{path:function(u,s){return`
			M 0 `.concat(s/2," L ").concat(u/4," 0 H ").concat(3*u/4,`
			A `).concat(u/4,",").concat(s/2," 0 1 1 ").concat(3*u/4,",").concat(s,`
			H `).concat(u/4," Z")},additionalPath:function(){}},document:{path:function(u,s){return"M0 ".concat(s-=8,` C
			`).concat(u/6," ").concat(10*s/9,`,
			`).concat(u/3," ").concat(10*s/9,`,
			`).concat(u/2," ").concat(s,` S
			`).concat(5*u/6," ").concat(8*s/9,`,
			`).concat(u," ").concat(s,`
			V 0 H 0 Z`)},additionalPath:function(){}},data:{path:function(u,s,l){return"M ".concat(l,` 0 Q
			`).concat(-l," ").concat(s/2,`,
			`).concat(l," ").concat(s," H ").concat(u,` Q
			`).concat(u-2*l," ").concat(s/2,`,
			`).concat(u," 0 Z")},additionalPath:function(){}},database:{path:function(u,s,l){return"M 0 ".concat(l," A ").concat(u/2,",").concat(l," 0 1 0 ").concat(u,",").concat(l,`
			A `).concat(u/2,",").concat(l," 0 1 0 0,").concat(l,`
			V `).concat(s," H ").concat(u," V ").concat(l)},additionalPath:function(u,s,l){return"M 0 ".concat(l," A ").concat(u/2,",").concat(l," 0 1 0 ").concat(u,",").concat(l)}},internal:{path:function(u,s){return"M 0,0 L 0,".concat(s," L ").concat(u,",").concat(s," L ").concat(u,",0 Z")},additionalPath:function(u,s,l){return"M ".concat(l," 0 V ").concat(s," M 0 ").concat(l," H ").concat(u)}},offline:{path:function(u,s){return"M 0,0 ".concat(u,",0 ").concat(u/2,",").concat(s," Z")},additionalPath:function(u,s,l){var r=s/Math.sqrt(Math.pow(u/2,2)+Math.pow(s,2)),a=Math.sqrt(Math.pow(l/r,2)-Math.pow(l,2));return"M ".concat(u/2-a," ").concat(s-l," h ").concat(2*a)}},delay:{path:function(u,s){return`
			M 0 0 H `.concat(3*u/4,`
			A `).concat(u/4,",").concat(s/2," 0 1 1 ").concat(3*u/4,",").concat(s,`
			H 0 Z`)},additionalPath:function(){}},page:{path:function(u,s){return`
			M 0,0
			`.concat(u,`,0
			`).concat(u,",").concat(s/2,`
			`).concat(u/2,",").concat(s,`
			0,`).concat(s/2," Z")},additionalPath:function(){}},input:{path:function(u,s){return`
			M 0,`.concat(s/3,`
			`).concat(u,",").concat(0,`
			`).concat(u,",").concat(s,`
			0,`).concat(s," Z")},additionalPath:function(){}},operation:{path:function(u,s){return`
			M 0,0
			`.concat(u,`,0
			`).concat(3*u/4,",").concat(s,`
			`).concat(u/4,",").concat(s," Z")},additionalPath:function(){}},punchcard:{path:function(u,s){return`
			M 0,`.concat(s/4,`
			`).concat(u/4,`,0
			`).concat(u,`,0
			`).concat(u,",").concat(s,`
			0,`).concat(s," Z")},additionalPath:function(){}},subroutine:{path:function(u,s){return"M 0,0 L 0,".concat(s," L ").concat(u,",").concat(s," L ").concat(u,",0 Z")},additionalPath:function(u,s,l){return"M ".concat(l," 0 V ").concat(s," M ").concat(u-l," 0 V ").concat(s)}},comment:{path:function(u,s){return"M ".concat(u," 0 H 0 V ").concat(s," H").concat(u," V").concat(s-4," H").concat(4," V").concat(4," H").concat(u)},additionalPath:function(){}},storage:{path:function(u,s){return"M 0,0 ".concat(u,",0 ").concat(u/2,",").concat(s," Z")},additionalPath:function(){}},extract:{path:function(u,s){return"M 0,".concat(s," ").concat(u,",").concat(s," ").concat(u/2,",0 Z")},additionalPath:function(){}},collate:{path:function(u,s){return"M ".concat(u/2," ").concat(s/2," L 0 0 H ").concat(u," L 0 ").concat(s," H ").concat(u," Z")},additionalPath:function(){}},or:{path:function(u,s){return`
			M `.concat(u/2," 0 A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",").concat(s,`
			A `).concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",0 Z")},additionalPath:function(u,s){return`
			M`.concat((u-s)/2," ").concat(s/2," ").concat(u-(u-s)/2," ").concat(s/2,`
			M`).concat(u/2," ").concat(0," ").concat(u/2," ").concat(s)}},junction:{path:function(u,s){return`
			M `.concat(u/2," 0 A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",").concat(s,`
			A `).concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",0 Z")},additionalPath:function(u,s){return`
			M `.concat(u/2-s*Math.SQRT2/4," ").concat(s/2-s*Math.SQRT2/4," L ").concat(u/2+s*Math.SQRT2/4," ").concat(s/2+s*Math.SQRT2/4,`
			M `).concat(u/2-s*Math.SQRT2/4," ").concat(s/2+s*Math.SQRT2/4," L ").concat(u/2+s*Math.SQRT2/4," ").concat(s/2-s*Math.SQRT2/4)}},keyring:{path:function(u,s,l){return`
			M `.concat(l," 0 A ").concat(l,",").concat(s/2," 0 1 0 ").concat(l,",").concat(s,`
			H `).concat(u-l," A ").concat(l,",").concat(s/2," 0 1 0 ").concat(u-l,",0 H ").concat(l," Z")},additionalPath:function(){}},tape:{path:function(u,s){return`
			M0 `.concat(s-12,` C
			`).concat(u/6," ").concat(10*(s-8)/9,`,
			`).concat(u/3," ").concat(10*(s-8)/9,`,
			`).concat(u/2," ").concat(s-8,` S
			`).concat(5*u/6," ").concat(8*(s-8)/9,`,
			`).concat(u," ").concat(s,`
			V 12 C
			`).concat(5*u/6," ").concat(-s/9,`,
			`).concat(2*u/3," ").concat(s/9/2,`,
			`).concat(u/2,` 8 S
			`).concat(u/6," ").concat(s/9,`,
			0 0 Z`)},additionalPath:function(){}},preparation:{path:function(u,s){return"M0 ".concat(s/2,"L").concat(20," 0H").concat(u-20,"L ").concat(u," ").concat(s/2,"L").concat(u-20," ").concat(s,"H").concat(20,"L0 ").concat(s/2,"Z")},additionalPath:function(){}},endpoint:{path:function(u,s){return"M0 ".concat(s/2,"  L").concat(u/2," ").concat(0," L ").concat(u/2," ").concat(s," z")},additionalPath:function(){}},roll:{path:function(u,s){return`
			M `.concat(u/2," 0 A ").concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",").concat(s,`
			A `).concat(s/2,",").concat(s/2," 0 1 0 ").concat(u/2,",0 Z")},additionalPath:function(u,s){return"M ".concat(u/2," ").concat(s," H ").concat(u)}}}},function(H,g,y){var b=this&&this.__spreadArray||function(m,_,h){if(h||arguments.length===2)for(var d,p=0,u=_.length;p<u;p++)!d&&p in _||(d||(d=Array.prototype.slice.call(_,0,p)),d[p]=_[p]);return m.concat(d||Array.prototype.slice.call(_))};Object.defineProperty(g,"__esModule",{value:!0});var w=function(){function m(_,h,d){this._tbounds=[0,0],_?(this.nodes=[h],_.collectSubNodes(h,this.nodes),this.hash=_.hash,this.root(h,d)):(this.nodes=[],this.hash={})}return m.prototype.copy=function(){var _=this,h=new m;return h.nodes=this.nodes.map(function(d){return{id:d.id,w:d.w,h:d.h,x:d.x,y:d.y,kids:[],links:[],isn:d.isn,iss:d.iss}}),h.hash={},h.nodes.forEach(function(d){h.hash[d.id]=d}),h.nodes.forEach(function(d){d.kids=_.hash[d.id].kids.map(function(p){return h.hash[p.id]}),d.links=_.hash[d.id].links.map(function(p){return h.hash[p.id]})}),h._tbounds=[].concat(this._tbounds),h._ybounds=[].concat(this._ybounds),h._bounds=this._bounds?this._bounds.map(function(d){return[].concat(d)}):[],h.routes=this.routes,h._root=this._root?h.hash[this._root.id]:null,h},m.prototype.collectSubNodes=function(_,h){for(var d=0;d<_.kids.length;d++){var p=_.kids[d];h.push(p),p.kids&&this.collectSubNodes(p,h)}},m.prototype.getLevelBounds=function(){return this._bounds},m.prototype.getBounds=function(_,h,d){var p;return[(p=d?this._tbounds:this._bounds[_])[0]?p[0]-h/4:0,p[1]?p[1]+h/4:0]},m.prototype.addEdge=function(_,h){var d=this.hash[_],p=this.hash[h];d.links.push(p),p.links.push(d)},m.prototype.importNodes=function(_){var h=this;_.forEach(function(d){h.hash[d.id]=d,h.nodes.push(d)})},m.prototype.split=function(_){var h=this,d=[];if(this.nodes=this.nodes.filter(function(u){return!_(u)||(delete h.hash[u.id],d.push(u),!1)}),!d.length)return null;var p=new m;return p.importNodes(d),p},m.prototype.addNode=function(_){_.kids=[],_.links=[],this._root||(this._root=_),this.hash[_.id]=_,this.nodes.push(_)},m.prototype.setRoot=function(){var _=this.nodes[0];this.nodes.forEach(function(h){h.id!==_.id&&h.links.length&&(_=h.links.length>_.links.length?h:_)}),this._root=_},m.prototype.getNode=function(_){return this.hash[_]},m.prototype.getRoot=function(){return this._root},m.prototype.getLevels=function(){return this._deep},m.prototype.clean=function(){this.nodes.forEach(function(_){if(_.links.length>1){var h=[];_.links=_.links.filter(function(d){return!h.includes(d)&&_!==d&&(h.push(d),!0)})}})},m.prototype.getNodes=function(){return this.nodes},m.prototype.getBox=function(){return[this._tbounds,this._ybounds]},m.prototype.setGlobalBox=function(){var _,h,d,p;this.nodes.length&&(_=d=1/0,h=p=-1/0,this.nodes.forEach(function(u){var s=u.x-u.w/2,l=u.x+u.w/2,r=u.y-u.h/2,a=u.y+u.h/2;s<_&&(_=s),r<d&&(d=r),l>h&&(h=l),a>p&&(p=a)}),this._tbounds=[_,h],this._ybounds=[d,p])},m.prototype.translate=function(_){if(this.nodes.forEach(function(d){d.x+=_.x,d.y+=_.y}),this._tbounds[0]+=_.x,this._tbounds[1]+=_.x,this._bounds)for(var h=0;h<this._bounds.length;h++)this._bounds[h][0]+=_.x,this._bounds[h][1]+=_.x;this._ybounds&&(this._ybounds[0]+=_.y,this._ybounds[1]+=_.y)},m.prototype.rotate=function(_){var h=_.x,d=_.y;this.nodes.forEach(function(i){var n=i.x*d-i.y*h,e=i.x*h+i.y*d;i.x=n,i.y=e});var p=this._tbounds,u=p[0],s=p[1],l=this._ybounds,r=l[0],a=l[1];this._tbounds=[u*d-r*h,s*d-a*h].sort(),this._ybounds=[u*h+r*d,s*h+a*d].sort()},m.prototype.setBox=function(){var _=this._deep[this._deep.length-1],h=-1/0;_.forEach(function(d){var p=d.y+d.h/2;p>h&&(h=p)}),this._ybounds=[this._root.y-this._root.h/2,h]},m.prototype.mirror=function(){this.nodes.forEach(function(r){r.x=-r.x});for(var _=0;_<this._bounds.length;_++){var h=this._bounds[_],d=h[0],p=h[1];this._bounds[_]=[-p,-d]}var u=this._tbounds,s=u[0],l=u[1];this._tbounds=[-l,-s]},m.prototype.nonLeaves=function(_){return _.kids.filter(function(h){return h.kids.length>0})},m.prototype.toTree=function(_){return _&&this.hash[_.id]||(_=this._detectRoot()),this.nodes.forEach(function(h){return h.kids=[]}),this.setKids(_),this.cleanKids(_,[_.id]),_},m.prototype.root=function(_,h){this._deep=[[_]];var d=Math.round((h&&h.rotate?_.h:_.w)/2);this._tbounds=[-d,d],this._bounds=[[-d,d]],this._leaves=[],this._root=_,this._setLevels(_,1),this._width=1;for(var p=0;p<this._deep.length;p++){var u=this._deep[p].length;u>this._width&&(this._width=u)}},m.prototype.setKids=function(_){var h=this;_.links.forEach(function(d){_.kids.push(d),d.kids.length||h.setKids(d)})},m.prototype.cleanKids=function(_,h,d){var p=this;d===void 0&&(d=[]);var u=b([],_.kids,!0);_.kids.forEach(function(s){if(h.includes(s.id)){var l=u.findIndex(function(r){return r.id===s.id});l>-1&&u.splice(l,1)}else h.push(s.id)}),_.kids=u,_.kids.forEach(function(s){s.kids.length&&!d.includes(s.id)&&p.cleanKids(s,h,d)}),d.push(_.id)},m.prototype._detectRoot=function(){var _={},h=this.nodes,d=[];do d.forEach(function(p){return _[p]=1}),d=[],h=h.filter(function(p){var u=p.links.map(function(s){return _[s.id]?0:1}).reduce(function(s,l){return s+l},0)>1;return u||d.push(p.id),u});while(h.length>2&&d.length);return h[0]||this.nodes[0]},m.prototype._setLevels=function(_,h){for(var d=_.kids,p=0;p<d.length;p++){var u=d[p],s=this._deep[h];s?s.push(u):(this._deep[h]=[u],this._bounds[h]=[0,0]),u.kids.length?this._setLevels(u,h+1):this._leaves.push(u)}},m.prototype.getIString=function(){for(var _=[],h=0;h<this._leaves.length;h++)this._leaves[h].isn=0,this._leaves[h].iss="";for(h=this._deep.length-2;h>=0;h--){for(var d=this._deep[h].filter(function(a){return a.kids.length>0}),p=0;p<d.length;p++)for(var u=d[p],s=0;s<u.kids.length;s++)u.iss=u.kids.map(function(a){return a.isn}).sort().join(",");d.sort(function(a,i){return a.iss>i.iss?1:-1}),_.push(d.map(function(a){return a.iss}).join("|"));var l=d[0].iss,r=1;for(p=0;p<d.length;p++)l!==d[p].iss&&(l=d[p].iss,r++),d[p].isn=r}return _.join(";")},m}();g.default=w},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.en=void 0,g.en={addColumnLast:"Add column",addLeftShape:"Add left shape",addLineTitle:"Add title",addRightShape:"Add right shape",addRowLast:"Add row",addShape:"Add shape",alignHorizontalCenter:"Align horizontal center",alignHorizontalDistribution:"Distribute horizontal spacing",alignHorizontalLeft:"Align left",alignHorizontalRight:"Align right",alignVerticalBottom:"Align bottom",alignVerticalDistribution:"Distribute vertical spacing",alignVerticalMiddle:"Align vertical center",alignVerticalTop:"Align top",connect:"Connect",copy:"Duplicate",lineTitleAutoPositionDisable:"Disable title auto position",lineTitleAutoPositionEnable:"Enable title auto position",menu:"Menu",menuAddAssistant:"Add assistant",menuAddColumnLeft:"Add column left",menuAddColumnRight:"Add column right",menuAddPartner:"Add partner",menuAddRowDown:"Add row down",menuAddRowUp:"Add row up",menuAlignChildrenHorizontally:"Align children horizontally",menuAlignChildrenVertically:"Align children vertically",menuDelete:"Delete",menuDeleteCol:"Delete column",menuDeleteRow:"Delete row",menuMoveColumnLeft:"Move column left",menuMoveColumnRight:"Move column right",menuMoveRowDown:"Move row down",menuMoveRowUp:"Move row up",remove:"Delete",removePoint:"Delete point",text:"Text",title:"Title",shapebar:{shapeSections:"Shapes",groupSections:"Groups",swimlaneSections:"Swimlanes",group:"Group",swimlaneCols:"Swimlane cols",swimlaneRows:"Swimlane rows",swimlaneMix:"Swimlane mix",untitled:"Untitled"},editbar:{arrange:"Arrange",border:"Border",fill:"Fill",gridStep:"Grid step",header:"Header",headerColor:"Header color",headerPosition:"Position",image:"Image",lineShape:"Line shape",lineStyle:"Line style",pointerView:"Pointer view",positionOffset:"Position offset",size:"Size",subheaderCols:"Subheader for columns",subheaderRows:"Subheader for rows",text:"Text",textAlignment:"Text alignment",textStyle:"Text style",title:"Title"},toolbar:{align:"Align",alignHorizontalCenter:"Horizontal center",alignHorizontalLeft:"Left",alignHorizontalRight:"Right",alignVerticalBottom:"Bottom",alignVerticalCenter:"Vertical center",alignVerticalTop:"Top",arrange:"Arrange",connectionPoints:"Connection points",copy:"Copy",copyStyle:"Copy style",distribute:"Distribute",distributeHorizontal:"Horizontal",distributeVertical:"Vertical",duplicate:"Duplicate",edit:"Edit",editbar:"Edit bar",export:"Export as",exportJson:"JSON",exportPdf:"PDF",exportPng:"PNG",file:"File",grid:"Grid",gridStep:"Grid step",importJson:"Import from JSON",itemsDraggable:"Draggable items",layout:"Auto layout",layoutMode:"Placement mode",layoutModeDirect:"Direct",layoutModeEdges:"Edges",layoutOrthogonal:"Orthogonal",layoutRadial:"Radial",magnetic:"Magnetic",paste:"Paste",pasteStyle:"Paste style",redo:"Redo",resizePoints:"Resize points",selectAll:"Select all",selectNone:"Select none",shapebar:"Shape bar",theme:"Theme",themeDark:"Dark",themeDarkContrast:"Dark contrast",themeLight:"Light",themeLightContrast:"Light contrast",undo:"Undo",view:"View",zoomIn:"Zoom in",zoomOut:"Zoom out"},hotkey:{"Alt+1":"Alt+1","Alt+2":"Alt+2","Alt+3":"Alt+3","Ctrl+Z":"Ctrl+Z","Ctrl+Shift+Z":"Ctrl+Shift+Z","Ctrl+D":"Ctrl+D","Ctrl+C":"Ctrl+C","Ctrl+V":"Ctrl+V","Ctrl+Alt+C":"Ctrl+Alt+C","Ctrl+Alt+V":"Ctrl+Alt+V","Ctrl+A":"Ctrl+A","Ctrl+Shift+A":"Ctrl+Shift+A","Ctrl+Mousewheel":"Ctrl+Mousewheel","CMD+Z":"CMD+Z","CMD+Shift+Z":"CMD+Shift+Z","CMD+D":"CMD+D","CMD+C":"CMD+C","CMD+V":"CMD+V","CMD+Alt+C":"CMD+Alt+C","CMD+Alt+V":"CMD+Alt+V","CMD+A":"CMD+A","CMD+Shift+A":"CMD+Shift+A","CMD+Mousewheel":"CMD+Mousewheel"}},g.default=g.en},function(H,g,y){var b,w=this&&this.__extends||(b=function(s,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},b(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function r(){this.constructor=s}b(s,l),s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}),m=this&&this.__assign||function(){return m=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.BaseGroup=void 0;var _=y(0),h=y(39),d=y(54),p=y(19),u=function(s){function l(r,a){var i=s.call(this,r,a)||this;return i.data=a.data,i.setMinBox(),i}return w(l,s),l.prototype.getBaseType=function(){return"group"},l.prototype.isEditable=function(r){var a,i;return(i=(a=this.config)===null||a===void 0?void 0:a.header)===null||i===void 0?void 0:i.editable},l.prototype.getLocatePercent=function(r){var a=function(t,o){var c=Math.max(o.left,t.left),f=Math.min(o.right,t.right);return Math.max(f-c,0)},i=this.getBox(),n=a({left:r.left,right:r.right},{left:i.left,right:i.right})*a({left:r.top,right:r.bottom},{left:i.top,right:i.bottom}),e=(r.right-r.left)*(r.bottom-r.top);return Math.round(n/e*100)},l.prototype.setMinBox=function(r){var a=r||this.getBox(),i=a.left,n=a.right,e=a.top,t=a.bottom;this.config.$minBox={left:i,right:n,top:e,bottom:t}},l.prototype.getBox=function(){var r=this.config,a=r.x,i=a===void 0?0:a,n=r.y,e=n===void 0?0:n,t=r.dx,o=t===void 0?0:t,c=r.dy,f=i+o,v=e+(c===void 0?0:c);return{left:f,right:f+r.$width,top:v,bottom:v+r.$height}},l.prototype.getChildBox=function(){var r={left:0,top:0,right:0,bottom:0};return this.data.eachChild(this.id,function(a){var i=a.$item.getBox();(i.right>r.right||r.right===0)&&(r.right=i.right),(i.left<r.left||r.left===0)&&(r.left=i.left),(i.bottom>r.bottom||r.bottom===0)&&(r.bottom=i.bottom),(i.top<r.top||r.top===0)&&(r.top=i.top)},!1),r},l.prototype.trackChildMove=function(r,a){var i=this.config,n=i.x,e=i.y,t=i.width,o=i.height,c=i.exitArea,f=c.padding,v=c.groupBehavior;if(v!=="unbound"){var x=n+t-f>=r.right+a.x&&n+f<=r.left+a.x,k=e+o-f>=r.bottom+a.y&&e+f<=r.top+a.y;if(v==="boundNoBorderExtension")return x&&k;if(v==="boundBorderExtension"){var S=this.config.$minBox,O=S.right,P=S.left,T=S.top,j=S.bottom,$=n+t-f<=r.right+a.x,I=n+f>=r.left+a.x,F=e+f>=r.top+a.y,E=e+o-f<=r.bottom+a.y,V={x:n,y:e,width:t,height:o};($||x&&a.x<0&&n+t+a.x-f>=O)&&(V.width+=a.x),(I||x&&a.x>0&&n+a.x-f<=P)&&(V.width+=-a.x,V.x+=a.x),(E||k&&a.y<0&&e+o+a.y-f>=j)&&(V.height+=a.y),(F||k&&a.y>0&&e+a.y-f<=T)&&(V.height+=-a.y,V.y+=a.y),this.data.update(this.id,V)}}return!0},l.prototype.getChildHtmlNodes=function(r,a){var i=[],n=r.x,e=r.y,t=r.open,o=r.header,c=!(o!=null&&o.enable)||!(o!=null&&o.closable)||t;if(r.groupChildren.length)if(Array.isArray(a))for(var f=0;f<a.length;f++)!a[f].hidden&&c&&(a[f].$gx=a[f].x-n,a[f].$gy=a[f].y-e,i.push(a[f].$item.render()));else a.eachChild(this.id,function(v){!v.hidden&&c&&(v.$gx=v.x-n,v.$gy=v.y-e,i.push(v.$item.render()))},!1);return i},l.prototype.getChildSvgNodes=function(r,a){var i=this,n=r.$typeConfig,e=r.x,t=r.y,o=r.groupChildren,c=r.header,f=!(c!=null&&c.enable)||!(c!=null&&c.closable)||open,v=[];return o.length&&n&&f&&a.mapVisible(function(x){var k;if(x.$item.getBaseType()==="line"&&!x.$move&&!(!((k=x==null?void 0:x.points)===null||k===void 0)&&k.some(function(P){return P.custom}))){var S=a.getItem(x.from),O=a.getItem(x.to);(S==null?void 0:S.$group)==i.id&&(O==null?void 0:O.$group)==i.id&&S.$gx&&S.$gy&&O.$gx&&O.$gy?((0,h.nearestLinkPath)(x,m(m({},S),{x:S.$gx,y:S.$gy}),m(m({},O),{x:O.$gx,y:O.$gy}),n),v.push(x.$item.render())):(S==null?void 0:S.$group)===i.id&&S.$gx&&S.$gy&&O?((0,h.nearestLinkPath)(x,m(m({},S),{x:S.$gx,y:S.$gy}),m(m({},O),{x:O.x-e,y:O.y-t}),n),v.push(x.$item.render())):(O==null?void 0:O.$group)===i.id&&O.$gx&&O.$gy&&S&&((0,h.nearestLinkPath)(x,m(m({},S),{x:S.x-e,y:S.y-t}),m(m({},O),{x:O.$gx,y:O.$gy}),n),v.push(x.$item.render()))}}),v},l.prototype.getGroupHeader=function(r,a){var i=r.id,n=r.header,e=n.text,t=n.closable,o=n.position,c=n.iconColor,f=r.$editable,v=r.open,x=r.type!=="$sgroup"&&t,k=o==="right"||o==="left"?r.height:"100%",S=o==="bottom"||o==="top"?r.width:"100%";return(0,_.el)("div",{dhx_group_header:i,class:function(O){var P=O.header.position;return"dhx_diagram_group__header dhx_diagram_group__header--position_".concat(P)}(r),style:function(O){var P=O.style,T=P.strokeWidth,j=P.stroke,$=P.borderStyle,I=O.header,F=I.position,E=I.fill,V=F==="bottom"||F==="top"?O.header.height:"100%",z=F==="right"||F==="left"?O.header.height:"100%",X="".concat(T,"px ").concat($," ").concat(j);return{height:V,width:z,minWidth:z,minHeight:V,background:E,zIndex:O.$selected?1:0,border:X}}(r)},[(0,_.el)("span.dhx_diagram_group__header_text",{style:(0,p.getTextStyle)(m(m({},r==null?void 0:r.header),{container:{width:S,height:k}}))},f&&this.editableProperty.editableId===i?[a]:e),x&&(0,p.getExpandIcon)({color:c,open:v,position:o})||null])},l.prototype.setDefaults=function(r){return r.x=r.x||0,r.y=r.y||0,r.open=typeof r.open!="boolean"||r.open,r.header&&(r.header=m({enable:!0,text:"",fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",position:"top",editable:!0,fill:"#EEF1F6",height:40,iconColor:"#808080"},r.header)),r.style=m({strokeWidth:1,stroke:"#B8C6D6",strokeType:"line",borderStyle:"solid",fill:"inherit",overFill:"rgba(46, 204, 113, 0.1)",partiallyFill:"rgba(231, 76, 60, 0.1)"},r.style),r.entryArea=m({catchArea:100,borderFlexible:!1},r.entryArea),r.entryArea.borderFlexible||(r.entryArea.catchArea=100),r.exitArea=m({groupBehavior:"unbound",padding:0},r.exitArea),r.fixed=r.fixed||!1,r.groupChildren=r.groupChildren||[],r},l.prototype.setServiceProp=function(r){var a=r.open,i=r.height,n=r.width,e=r.header;if(r.$captureArea=r.$captureArea||"out",e){var t=e.enable,o=e.closable,c=e.height,f=e.position;if(!a&&t&&o){var v=f==="left"||f==="right",x=f==="bottom"||f==="top";return r.$width=v?parseInt(c):n,void(r.$height=x?parseInt(c):i)}}r.$width=n,r.$height=i},l}(d.BaseItem);g.BaseGroup=u},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var c in e=arguments[t])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Controls=g.getLength=void 0;var w=y(0),m=y(2),_=y(29),h=y(40),d=y(37),p=y(97),u=y(207),s=y(208);function l(n,e){p.drag.start(n,e.data.resizer,e.data.p)}function r(n,e){return e===void 0&&(e="default"),{x:(e==="default"?n.x:n.x+(n.dx||0))+n.width/2,y:(e==="default"?n.y:n.y+(n.dy||0))+n.height/2}}function a(n,e,t){if(t===void 0&&(t="default"),n.$move=!0,t==="default")return n.x=(n.x||0)+e.x,void(n.y=(n.y||0)+e.y);n.dx=(n.dx||0)+e.x,n.dy=(n.dy||0)+e.y}g.getLength=function(n,e){var t=e.x-n.x,o=e.y-n.y;return Math.sqrt(t*t+o*o)};var i=function(){function n(e,t,o){var c=this;this._touch={dblDuration:300,timeStamp:null},this._magneticItems={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},this.setConfig(o),this._events=e,this._diagram=t,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type),this.connect=new u.Connect(this,this._diagram),this._resize=new s.Resize(this,this._diagram),this._diagram.events.on(_.DiagramEvents.lineTitleMouseDown,function(f,v,x){var k=c._diagram.data.getItem(v);k.$editable||k.$item.isFixed()||c._eventHandling(x,v,"lineTitle")}),this._diagram.events.on(_.DiagramEvents.lineMouseDown,function(f,v){v.pointerType==="touch"&&(c._touch.timeStamp?(c._touch.dblDuration>=+v.timeStamp.toFixed()-c._touch.timeStamp&&(v.preventDefault(),c._diagram.events.fire(_.DiagramEvents.lineDblClick,[f,v])),c._touch.timeStamp=null):c._touch.timeStamp=+v.timeStamp.toFixed(),setTimeout(function(){c._touch.timeStamp=null},c._touch.dblDuration))}),this._diagram.events.on(_.DiagramEvents.groupMouseDown,function(f,v){c.connect.removeNearShape();var x=c._diagram.data.getItem(f);x&&!x.$editable&&(x.type==="$sgroup"&&(x=c._diagram.data.getItem(x.$group)),c._eventHandling(v,f,"group"))}),this._diagram.events.on(_.DiagramEvents.shapeMouseDown,function(f,v){c.connect.removeNearShape();var x=c._diagram.data.getItem(f);x&&!x.$editable&&c._eventHandling(v,f,"shape")}),this._diagram.events.on(_.SelectionEvents.afterUnSelect,function(f){var v=f.id,x=c._diagram.data.getItem(v);x&&x.$item.getBaseType()==="line"&&x.$selectedPoint&&(x.$selectedPoint=null)})}return n.prototype.render=function(e,t){if(!e)return this.config.connectionPoints?(0,w.el)(".dhx_controls",{style:{zIndex:0},onpointerdown:{".dhx_connect_grip":l,".dhx_connect_point":l}},[this.connect.getPoints(e,t)]):null;if(e.$item.canResize()!==!1){var o=[];this._isOrgType?this.config.resizePoints&&o.push(this._resize.getPoints(e,t)):(this.config.connectionPoints&&o.push(this.connect.getPoints(e,t)),this.config.resizePoints&&this.connect.getItemId()!=e.id&&o.push(this._resize.getPoints(e,t)));var c=this._getMagneticLines(t);return this._magnetic&&c.length&&o.push.apply(o,c),o.length?(0,w.el)(".dhx_controls",{style:{zIndex:0},onpointerdown:{".dhx_diagram_resizer_grip":l,".dhx_connect_grip":l,".dhx_connect_point":l,".dhx_editor_icon-rotate":l},onclick:{".dhx_diagram_resizer_grip":this._gripClick}},o):null}},n.prototype.setConfig=function(e){var t;this.config=b(b({},this.config),e),this._magnetic=!this._isOrgType&&((t=this.config.magnetic)===null||t===void 0?void 0:t.show)!==!1&&this.config.magnetic},n.prototype.setNearShape=function(e){this.connect.setNearShape(e)},n.prototype.toggleNearShape=function(e){this.connect.toggleNearShape(e)},n.prototype.getPoint=function(e,t){var o=this._diagram.getRootView().node.el,c=o.getBoundingClientRect(),f=this._diagram.config.margin,v=this._diagramSize||{left:-f.x,top:-f.y},x=this._diagram.config.scale,k=o.scrollLeft,S=o.scrollTop;return{x:(e-c.left+k)/x-f.x+(v.left+f.x),y:(t-c.top+S)/x-f.y+(v.top+f.y)}},n.prototype.onMove=function(e,t,o){var c,f,v=this._diagram.selection.getItem();if(v&&!v.$item.isFixed()){o.rotate&&(e.preventDefault(),this._rotate(e,v));var x=v.id,k=v.x,S=v.y,O=v.height,P=v.width,T=v.$item,j=v.dy,$={x:k,y:S,width:P,height:O};t.x=Math.round(t.x),t.y=Math.round(t.y);var I=T.getBaseType();if(I==="line")return this._diagram.toolbar.hide(),void this.connect.moveConnector(e,v,t,o);var F=o.dx===-1,E=o.dx===1,V=o.dy===1,z=o.dy===-1;if(I==="group"){var X=v.$item.getChildBox(),Y=X.right,U=X.left,A=X.top,M=X.bottom,R=Y+U+A+M===0,W=((c=v==null?void 0:v.header)===null||c===void 0?void 0:c.height)||40;R?(F&&P+t.x>=W&&($.width+=t.x),E&&P-t.x>=W&&($.width+=-t.x,$.x+=t.x),z&&O+t.y>=W&&($.height+=t.y),V&&O-t.y>=W&&($.height+=-t.y,$.y+=t.y)):(F&&k+P+t.x>=Y&&($.width+=t.x),E&&k+t.x<=U&&($.width+=-t.x,$.x+=t.x),z&&S+O+t.y>=M&&($.height+=t.y),V&&S+t.y<=A&&($.height+=-t.y,$.y+=t.y)),T.setMinBox()}if(I==="swimlane"){var Q=0,Z=0,B=0,K=0;this._diagram.data.eachChild(v.id,function(tt){var nt=tt.$item.getChildBox(),rt=nt.left,lt=nt.right,ct=nt.top,ut=nt.bottom;rt>Z&&(Z=rt),lt>Q&&(Q=lt),ct>B&&(B=ct),ut>K&&(K=ut),tt.$item.setMinBox()},!1),R=Q+Z+B+K===0;var J=F||E?v.layout[0].length:v.layout.length;W=(((f=v==null?void 0:v.header)===null||f===void 0?void 0:f.height)||40)*J,R?(F&&P+t.x>=W&&($.width+=t.x),E&&P-t.x>=W&&($.width+=-t.x,$.x+=t.x),z&&O+t.y>=W&&($.height+=t.y),V&&O-t.y>=W&&($.height+=-t.y,$.y+=t.y)):(F&&k+P+t.x>=Q&&($.width+=t.x),E&&k+t.x<=Z&&($.width+=-t.x,$.x+=t.x),z&&S+O+t.y>=K&&($.height+=t.y),V&&S+t.y<=B&&($.height+=-t.y,$.y+=t.y)),T.setMinBox()}I==="shape"&&(o.dx===1?($.x+=t.x,$.width=P-t.x):$.width=v.width-t.x*o.dx,$.width>=30||($.width=P),$.height=O-t.y*o.dy,$.height>=30?this._isOrgType?$.dy=(j||0)+t.y*(o.dy===1?1:0):$.y=(S||0)+t.y*(o.dy===1?1:0):$.height=O),v.$group&&!this._moveChilds(x,t)||this._diagram.data.update(x,$)}},n.prototype.onUp=function(e){this.connectOnUp(e),this._events.fire(d.DiagramEditorEvents.shapeResize,[])},n.prototype.connectOnUp=function(e){e&&(this.connect.onUp(e),this._diagram._lastItemClickCoords=this._diagram.getCurrentCoords(e),this._diagram.toolbar.show(),this._diagram.paint())},n.prototype._moveChilds=function(e,t){var o=this._diagram.data.getItem(e),c=this._diagram.selection.getItem();if(o.$item.isFixed())return!1;if(o.$group){var f=this._diagram.data.getItem(o.$group);return f.$group&&this._moveChilds(f.id,t),f.$item.trackChildMove(c.$item.getBox(),{x:t.x,y:t.y})}},n.prototype._rotate=function(e,t){var o=this.getPoint(e.pageX,e.pageY),c=o.x,f=o.y,v=t.x+t.width/2,x=t.y+t.height/2,k=Math.atan2(f-x,c-v);k<0&&(k+=2*Math.PI);var S=Math.round(k*(180/Math.PI));this._diagram.data.update(t.id,{angle:S})},n.prototype._gripClick=function(e,t){var o=t.data.resizer._diagram.selection.getItem();if(o){var c=t.data.p;o.$item.getBaseType()==="line"&&(o.$selectedPoint=c.i)}},n.prototype._eventHandling=function(e,t,o){var c=this;if(this._dragStart(e,t,o),e.pointerType==="touch"){if(document.body.classList.add("dhx_notouch"),this._touch.timeStamp){if(this._touch.dblDuration>=+e.timeStamp.toFixed()-this._touch.timeStamp)switch(e.preventDefault(),o){case"lineTitle":var f=this._diagram.data.getItem(t);this._diagram.events.fire(_.DiagramEvents.lineTitleDblClick,[f.parent,t,e]);break;case"group":this._diagram.events.fire(_.DiagramEvents.groupHeaderDblClick,[t,e,(0,m.locate)(e,"subheader_id")]);break;case"shape":this._diagram.events.fire(_.DiagramEvents.shapeDblClick,[t,e])}this._touch.timeStamp=null}else this._touch.timeStamp=+e.timeStamp.toFixed();setTimeout(function(){c._touch.timeStamp=null},this._touch.dblDuration)}},n.prototype._dragStart=function(e,t,o){var c=this,f=this._diagram.data.getItem(t);o==="group"&&f.type==="$sgroup"&&(f=this._diagram.data.getItem(f.$group));var v=[];this._diagram.selection.getIds().forEach(function(x){v.push(x),c._diagram.data.eachChild(x,function(k){return v.push(k.id)})}),this._movedItems=Array.from(new Set(v)),p.drag.start(e,{onMove:this._getMoveHandler(e,f,o),onUp:this._getUpHandler(e,f,o)},null,this._diagram.config.scale),this._diagram.events.on(_.DiagramEvents.beforeRender,function(x){return c._diagramSize=x})},n.prototype._getUpHandler=function(e,t,o){var c=this;return o==="shape"||o==="group"?function(){document.body.classList.remove("dhx_notouch"),c._events.fire(d.DiagramEditorEvents["".concat(o,"MoveEnd")],[{id:t.id,batch:c._movedItems,coords:{x:t.x,y:t.y},event:e}]),c._events.fire(d.DiagramEditorEvents.itemMoveEnd,[{id:t.id,batch:c._movedItems,coords:{x:t.x,y:t.y},event:e}]),c._magneticItems={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},c._movedItems.forEach(function(f){c._diagram.data.update(f,{$move:!1},!0)}),c._diagram.toolbar.show(),c._diagram.paint()}:o==="lineTitle"?function(f){document.body.classList.remove("dhx_notouch"),c._events.fire(d.DiagramEditorEvents.lineTitleMoveEnd,[{id:t.parent,titleId:t.id,coords:{x:t.$x,y:t.$y},event:f}]),c._diagram._lastItemClickCoords=c._diagram.getCurrentCoords(f),c._diagram.toolbar.show(),c._diagram.paint()}:void 0},n.prototype._setClosestItems=function(e,t){t===void 0&&(t="default");var o={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},c=r(e,t),f=c.x,v=c.y,x=e.x+(e.dx||0),k=x+e.width,S=e.y+(e.dy||0),O=S+e.height,P=this._diagram.getScrollState(),T=this._diagram.getRootView().node.el.getBoundingClientRect(),j=this._diagram.config.margin,$=P.x-j.x,I=P.y-j.y,F=P.x+T.width-j.x,E=P.y+T.height-j.y;this._diagram.data.forEach(function(V){if(V.id!==e.id&&V.type!=="line"&&V.type!=="$sgroup"){var z=r(V,t),X=z.x,Y=z.y,U=V.x+(V.dx||0),A=U+V.width,M=V.y+(V.dy||0),R=M+V.height;if(!(U>F||A<$||M>E||R<I)){if(f===X){var W=(o.xItem?r(o.xItem,t):{y:0}).y;o.xItem=!o.xItem||Math.abs(Y-v)<=Math.abs(W-v)?V:o.xItem}if(v===Y){var Q=(o.yItem?r(o.yItem,t):{x:0}).x;o.yItem=!o.yItem||Math.abs(X-f)<Math.abs(Q-f)?V:o.yItem}(x===U||x===A)&&(W=(o.xItemLeft?r(o.xItemLeft,t):{y:0}).y,o.xItemLeft=!o.xItemLeft||Math.abs(Y-v)<=Math.abs(W-v)?V:o.xItemLeft),(k===U||k===A)&&(W=(o.xItemRight?r(o.xItemRight,t):{y:0}).y,o.xItemRight=!o.xItemRight||Math.abs(Y-v)<=Math.abs(W-v)?V:o.xItemRight),(S===M||S===R)&&(Q=(o.yItemTop?r(o.yItemTop,t):{x:0}).x,o.yItemTop=!o.yItemTop||Math.abs(X-f)<Math.abs(Q-f)?V:o.yItemTop),(O===M||O===R)&&(Q=(o.yItemBottom?r(o.yItemBottom,t):{x:0}).x,o.yItemBottom=!o.yItemBottom||Math.abs(X-f)<Math.abs(Q-f)?V:o.yItemBottom)}}}),o.dragItem=e,this._magneticItems=b({},o)},n.prototype._getMagneticLines=function(e){var t=[],o=this._magneticItems,c=o.xItem,f=o.xItemLeft,v=o.xItemRight,x=o.yItem,k=o.yItemTop,S=o.yItemBottom;return c&&t.push(this._getMagneticLine(c,e,"x","center")),x&&t.push(this._getMagneticLine(x,e,"y","center")),c&&x||((c==null?void 0:c.id)===(f==null?void 0:f.id)&&(c==null?void 0:c.id)===(v==null?void 0:v.id)||(f&&t.push(this._getMagneticLine(f,e,"x","left")),v&&t.push(this._getMagneticLine(v,e,"x","right"))),(x==null?void 0:x.id)===(k==null?void 0:k.id)&&(x==null?void 0:x.id)===(S==null?void 0:S.id)||(k&&t.push(this._getMagneticLine(k,e,"y","top")),S&&t.push(this._getMagneticLine(S,e,"y","bottom")))),t},n.prototype._getMagneticLine=function(e,t,o,c){var f=this._magneticItems.dragItem;if(f){var v,x=r(f),k=x.x,S=x.y,O=e.$item.getBox(),P=this._diagram.config.scale,T=this._magnetic.lineWidth||2;switch(c){case"top":v=f.y+(f.dy||0);break;case"bottom":v=f.y+(f.dy||0)+f.height;break;case"left":v=f.x+(f.dx||0);break;case"right":v=f.x+(f.dx||0)+f.width;break;default:v=o==="x"?k:S}return(0,w.el)(".dhx_magnetic",{style:{width:e.width*P,height:e.height*P,top:(O.top-t.top)*P,left:(O.left-t.left)*P}},[(0,w.el)(".dhx_magnetic_line",{style:{backgroundColor:this._magnetic.lineColor||"",width:o==="x"?T*P:(e.width+f.width+Math.abs(e.x-f.x)-(e.x<f.x?e.width:f.width))*P,height:o==="x"?(e.height+f.height+Math.abs(e.y-f.y)-(e.y<f.y?e.height:f.height))*P:T*P,top:o==="x"?(e.y<f.y?0:-(e.y-f.y))*P:(v-e.y-T/2)*P,left:o==="x"?(v-e.x-T/2)*P:(e.x<f.x?0:-(e.x-f.x))*P}})])}},n.prototype._getMoveHandler=function(e,t,o){var c=this;if(!t.$item.isFixed()){var f=this._diagram.config.gridStep;return o==="shape"||o==="group"?function(v,x,k){x.x=Math.round(x.x/f)*f-(t.x+(t.dx||0))%f,x.y=Math.round(x.y/f)*f-(t.y+(t.dy||0))%f,c._events.fire(d.DiagramEditorEvents["before".concat(o[0].toUpperCase()+o.slice(1),"Move")],[{id:t.id,batch:c._movedItems,coords:{x:t.x,y:t.y},event:v}])&&c._events.fire(d.DiagramEditorEvents.beforeItemMove,[{id:t.id,batch:c._movedItems,coords:{x:t.x,y:t.y},event:v,$mov:x}])&&(c._movedItems.forEach(function(S){var O=c._diagram.data.getItem(S);O.$item.getBaseType()==="line"?O.points.forEach(function(P){return P.$custom&&a(P,x)}):t.id==S?c._diagram.data.update(S,b({},function(P,T,j){return j===void 0&&(j="default"),j==="default"?{x:(P.x||0)+T.x,y:(P.y||0)+T.y}:{dx:(P.dx||0)+T.x,dy:(P.dy||0)+T.y}}(O,x,c._diagram.config.type))):a(O,x,c._diagram.config.type)}),c._setClosestItems(t,c._diagram.config.type),c._diagram.toolbar.hide(),c._events.fire(d.DiagramEditorEvents["after".concat(o[0].toUpperCase()+o.slice(1),"Move")],[{id:t.id,batch:c._movedItems,coords:{x:t.x,y:t.y},event:v}]),c._events.fire(d.DiagramEditorEvents.afterItemMove,[{id:t.id,batch:c._movedItems,coords:{x:t.x,y:t.y},event:v}]),c._diagram.paint())}:o==="lineTitle"?function(v){if(c._events.fire(d.DiagramEditorEvents.beforeLineTitleMove,[{id:t.parent,titleId:t.id,coords:{x:t.$x,y:t.$y},event:v}])){var x=c._diagram.data.getItem(t.parent),k=c._diagram.getCurrentCoords(v),S=x.points[0],O=x.points[x.points.length-1],P=b({},S),T=b({},O);if(x.points.length>2)for(var j=0;j<x.points.length;j++){var $=x.points[j],I=$.x,F=$.y;P.x>I&&(P.x=I),T.x<I&&(T.x=I),P.y>F&&(P.y=F),T.y<F&&(T.y=F)}P.x<T.x&&(P.x>=k.x&&(k.x=P.x),T.x<=k.x&&(k.x=T.x)),P.y<T.y&&(P.y>=k.y&&(k.y=P.y),T.y<=k.y&&(k.y=T.y)),P.x>T.x&&(T.x>=k.x&&(k.x=T.x),P.x<=k.x&&(k.x=P.x)),P.y>T.y&&(T.y>=k.y&&(k.y=T.y),P.y<=k.y&&(k.y=P.y));var E=50;if(x.connectType==="straight"||x.points.length===2){var V=(0,h.getNearPointStraightLine)(S,O,k),z=(0,h.getLinePercentage)(S,O,V);E=(0,h.getDistancePercentage)(z)}else E=(0,h.getDistanceEblowLine)(x,k);c._diagram.toolbar.hide(),c._diagram.data.update(t.id,{distance:E}),c._events.fire(d.DiagramEditorEvents.afterLineTitleMove,[{id:t.parent,titleId:t.id,coords:{x:t.$x,y:t.$y},event:v}]),c._diagram.paint()}}:void 0}},n}();g.Controls=i},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={dragAndDrop:"Drag & drop",or:"or",browse:"Browse files",filesOrFoldersHere:"files or folders here",cancel:"Cancel",clearAll:"Clear all",clear:"Clear",add:"Add",upload:"Upload",download:"Download",error:"error",byte:"B",kilobyte:"KB",megabyte:"MB",gigabyte:"GB"}},function(H,g,y){function b(m){m=m.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(h,d,p,u){return d+d+p+p+u+u});var _=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(m);return _?{r:parseInt(_[1],16),g:parseInt(_[2],16),b:parseInt(_[3],16)}:null}function w(m){var _,h,d=m.r/255,p=m.g/255,u=m.b/255,s=Math.max(d,p,u),l=s-Math.min(d,p,u),r=function(e){return(s-e)/6/l+.5};if(l===0)_=h=0;else{h=l/s;var a=r(d),i=r(p),n=r(u);d===s?_=n-i:p===s?_=1/3+a-n:u===s&&(_=2/3+i-a),_<0?_+=1:_>1&&(_-=1)}return{h:360*_,s:h,v:s}}Object.defineProperty(g,"__esModule",{value:!0}),g.getAlpha=g.alphaToHex=g.isHex=g.HexToHSV=g.RGBToHSV=g.HexToRGB=g.RGBToHex=g.HSVtoRGB=void 0,g.HSVtoRGB=function(m){var _={r:0,g:0,b:0},h=m.h/60,d=m.s,p=m.v,u=Math.floor(h)%6,s=h-Math.floor(h),l=255*p*(1-d),r=255*p*(1-d*s),a=255*p*(1-d*(1-s));switch(p*=255,u){case 0:_.r=p,_.g=a,_.b=l;break;case 1:_.r=r,_.g=p,_.b=l;break;case 2:_.r=l,_.g=p,_.b=a;break;case 3:_.r=l,_.g=r,_.b=p;break;case 4:_.r=a,_.g=l,_.b=p;break;case 5:_.r=p,_.g=l,_.b=r}for(var i in _)_[i]=Math.round(_[i]);return _},g.RGBToHex=function(m){return Object.keys(m).reduce(function(_,h){var d=m[h].toString(16).toUpperCase();return _+(d=d.length===1?"0"+d:d)},"#")},g.HexToRGB=b,g.RGBToHSV=w,g.HexToHSV=function(m){return w(b(m.length===9?m.slice(0,-2):m))},g.isHex=function(m){return/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(m)},g.alphaToHex=function(m){var _=Math.round(255*m).toString(16).toUpperCase();return _.length===1?"0"+_:_},g.getAlpha=function(m){return m.length===9?Number((parseInt(m.slice(-2),16)/255).toFixed(2)):1}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={cancel:"Cancel",select:"Select",rightClickToDelete:"Right click to delete",customColors:"Custom colors",addNewColor:"Add new color"}},function(H,g,y){var b,w=this&&this.__extends||(b=function(U,A){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,R){M.__proto__=R}||function(M,R){for(var W in R)Object.prototype.hasOwnProperty.call(R,W)&&(M[W]=R[W])},b(U,A)},function(U,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function M(){this.constructor=U}b(U,A),U.prototype=A===null?Object.create(A):(M.prototype=A.prototype,new M)}),m=this&&this.__assign||function(){return m=Object.assign||function(U){for(var A,M=1,R=arguments.length;M<R;M++)for(var W in A=arguments[M])Object.prototype.hasOwnProperty.call(A,W)&&(U[W]=A[W]);return U},m.apply(this,arguments)},_=this&&this.__spreadArray||function(U,A,M){if(M||arguments.length===2)for(var R,W=0,Q=A.length;W<Q;W++)!R&&W in A||(R||(R=Array.prototype.slice.call(A,0,W)),R[W]=A[W]);return U.concat(R||Array.prototype.slice.call(A))};Object.defineProperty(g,"__esModule",{value:!0}),g.Diagram=void 0;var h=y(3),d=y(1),p=y(0),u=y(2),s=y(5),l=y(64),r=y(185),a=y(39),i=y(186),n=y(53),e=y(55),t=y(91),o=y(190),c=y(27),f=y(56),v=y(92),x=y(191),k=y(195),S=y(196),O=y(197),P=y(198),T=y(94),j=y(95),$=y(199),I=y(96),F=y(200),E=y(201),V=y(202),z=y(40),X=y(203),Y=function(U){function A(M,R){var W=U.call(this,M,R)||this;W._orgTypes=["org","mindmap"],W.version="6.0.1",W._set_defaults(),W._init_struct(),W._initEvents(),W.config.toolbar&&(W.toolbar=new o.Toolbar(W.events,W.config.toolbar));var Q=(0,p.create)({render:function(Z){return W._render(Z)}},W);return W.mount(M,Q),W}return w(A,U),A.prototype.addShape=function(M,R){var W=this;if(_(["line","dash","card","img-card","text","topic"],Object.keys(this.flowShapes),!0).includes(M))throw new Error("Cannot reassign existing type");if(typeof R.template!="function")throw new Error("The template property must be set as a function");if(R.defaults&&(this.config.defaults[M]=m({},R.defaults)),R.eventHandlers)for(var Q=0,Z=Object.entries(R.eventHandlers);Q<Z.length;Q++){var B=Z[Q],K=B[0],J=B[1];this._htmlevents[K]=(0,u.eventHandler)(function(tt){var nt=m({},W.data.getItem((0,u.locate)(tt)));return Object.keys(nt).forEach(function(rt){(rt.startsWith("$")||rt==="preview")&&delete nt[rt]}),nt},J,this._htmlevents[K])}this.flowShapes[M]=R.template},A.prototype.locate=function(M){var R=(0,u.locate)(M,"data-dhx-id"),W=this.data.getItem(R);return W?W.$item:null},A.prototype.collapseItem=function(M,R){var W=this;if(this.events.fire(c.DiagramEvents.beforeCollapse,[M,R])){var Q=this.data.getItem(M);this.config.type!=="mindmap"||Q.$level!==0||!Q.openDir||R!=="left"&&R!=="right"?this.data.update(M,{open:!1}):(this.data.update(M,{openDir:{right:R!=="right"&&!!Q.openDir.right,left:R!=="left"&&!!Q.openDir.left}}),Q.$connection.length&&Q.$connection.forEach(function(Z){var B=W.data.getItem(Z[1]);B.dir&&B.dir.toLowerCase().includes(R)&&W.data.update(B.id,{hidden:!0},!0)})),this.events.fire(c.DiagramEvents.afterCollapse,[M,R])}this.paint()},A.prototype.expandItem=function(M,R){var W=this,Q=this.data.getItem(M);if(!(Q!=null&&Q.open)||Q.openDir){if(this.events.fire(c.DiagramEvents.beforeExpand,[M,R])){this.config.type!=="mindmap"||Q.$level!==0||!Q.openDir||R!=="left"&&R!=="right"?this.data.update(M,{open:!0}):(this.data.update(M,{open:!0,openDir:{right:R==="right"||!!Q.openDir.right,left:R==="left"||!!Q.openDir.left}}),Q.$connection.length&&Q.$connection.forEach(function(B){var K=W.data.getItem(B[1]);K.dir&&K.dir.toLowerCase().includes(R)&&W.data.update(K.id,{hidden:!1},!0)})),this.events.fire(c.DiagramEvents.afterExpand,[M,R]);var Z=this.data.getItem(M);Z&&Z.parent&&this.expandItem(Z.parent)}this.paint()}},A.prototype.getScrollState=function(){var M=this.getRootView().node.el;return{x:Math.round(M.scrollLeft*this.config.scale),y:Math.round(M.scrollTop*this.config.scale)}},A.prototype.scrollTo=function(M,R){var W=this.getRootView().node.el;W.scrollLeft=Math.round(M*this.config.scale),W.scrollTop=Math.round(R*this.config.scale)},A.prototype.showItem=function(M,R){var W=this,Q=this.data.getItem(M);Q&&(Q.parent&&this.expandItem(Q.parent,R),(0,p.awaitRedraw)().then(function(){var Z=W.getRootView().node.el,B=Q.$item.getBox(),K=Z.offsetWidth/2,J=Z.offsetHeight/2;W.scrollTo(B.right+10-K,B.bottom+10-J)}))},A.prototype.autoPlace=function(M){var R=this,W=this.config,Q=W.autoplacement,Z=W.type,B=(M==null?void 0:M.placeMode)||(Q==null?void 0:Q.placeMode)||"orthogonal",K=(M==null?void 0:M.mode)||(Q==null?void 0:Q.mode)||"direct",J=(M==null?void 0:M.root)||this.selection.getIds()[0];if(this._orgTypes.includes(Z))throw new Error("This method does not work with this type of diagram");var tt,nt=new f.default;this.data.forEach(function(ct){ct.$item.getBaseType()==="shape"&&nt.addNode({id:ct.id.toString(),w:ct.width,h:ct.height,x:ct.x,y:ct.y})}),this.data.forEach(function(ct){var ut,at=ct.$item.getBaseType();if(at==="line"&&ct.from&&ct.to){var ht=((ut=ct.points)===null||ut===void 0?void 0:ut.filter(function(pt,gt){if(gt===0||gt===ct.points.length-1)return!0}))||[];R.data.update(ct.id,{fromSide:K==="direct"?"center":void 0,toSide:K==="direct"?"center":void 0,points:ht,customGap:void 0}),nt.addEdge(ct.from.toString(),ct.to.toString())}else at==="line"&&R.data.remove(ct.id)}),nt.clean(),B==="orthogonal"?tt=new x.default:B==="radial"&&(tt=new X.default);var rt=(0,k.compose)((0,S.decompose)(nt).map(function(ct){return(ct=tt.layout(ct,{mode:K,root:J,dir:(Q==null?void 0:Q.direction)||v.Direction.Bottom,wide:Q==null?void 0:Q.wide,itemPadding:(Q==null?void 0:Q.itemPadding)||0,levelPadding:(Q==null?void 0:Q.levelPadding)||0,full:!0,preserveLocation:!1})).setGlobalBox(),ct}),{padding:typeof(Q==null?void 0:Q.graphPadding)=="number"?(M==null?void 0:M.graphPadding)||(Q==null?void 0:Q.graphPadding):200});if(rt){var lt=rt.getBox();rt.translate({x:-lt[0][0],y:-lt[1][0]}),rt.getNodes().forEach(function(ct){var ut=R.data.getItem(ct.id);if(ut&&!(ut!=null&&ut.$group)){var at=Math.floor(ct.x-ct.w/2),ht=Math.floor(ct.y-ct.h/2);R.data.update(ct.id,{x:at,y:ht})}})}},A.prototype.getCurrentCoords=function(M){var R=this.config,W=R.scale,Q=R.margin,Z=this.getRootView().node.el,B=Z.getBoundingClientRect();if(Z&&B){var K=this._diagramSize||{left:-Q.x,top:-Q.y},J=Z.scrollLeft,tt=Z.scrollTop;return{x:Math.round((M.clientX-B.left+J)/W-Q.x+(K.left+Q.x)),y:Math.round((M.clientY-B.top+tt)/W-Q.y+(K.top+Q.y))}}},A.prototype.findNearestConnector=function(M){var R=this.getCurrentCoords(M),W=[];if(this.data.map(function(Q){var Z;if(Q.$item.getBaseType()==="line"&&((Z=Q==null?void 0:Q.points)===null||Z===void 0?void 0:Z.length))for(var B=0;B<Q.points.length;B++){var K=Q.points[B];if(Q.points[B+1]){var J=R,tt=K,nt=Q.points[B+1],rt=tt.y<J.y&&nt.y>J.y||nt.y<J.y&&tt.y>J.y,lt=tt.x<J.x&&nt.x>J.x||nt.x<J.x&&tt.x>J.x;if(rt||lt){var ct=Math.sqrt(Math.pow(tt.x-J.x,2)+Math.pow(tt.y-J.y,2)),ut=Math.sqrt(Math.pow(nt.x-J.x,2)+Math.pow(nt.y-J.y,2)),at=Math.sqrt(Math.pow(nt.x-tt.x,2)+Math.pow(nt.y-tt.y,2)),ht=(ct+ut+at)/2;if(2*Math.sqrt(ht*(ht-ct)*(ht-ut)*(ht-at))/at<=8){W.push(Q);break}}}}}),W.length)return W[W.length-1]},A.prototype.destructor=function(){this.editor&&this.editor.destructor(),this._menu&&this._menu.destructor(),this.data.removeAll(),this.data.events.clear(),this.events.clear(),this.selection.clear(),this.unmount()},A.prototype._render=function(M){var R,W,Q=this;if(this._doNotRepaint&&M.node)return M.node;var Z=this._getContent(),B=Z.size,K=Z.svgContent,J=Z.htmlContent;this.events.fire(c.DiagramEvents.beforeRender,[B]),this._diagramSize=B;var tt=this.config,nt=tt.margin,rt=tt.type,lt=tt.scale,ct=B.x-B.left+2*nt.x,ut=B.y-B.top+2*nt.y;B.left-=nt.x,B.top-=nt.y;var at=B.top+nt.y<0?Math.abs(B.top):nt.y,ht=B.left+nt.x<0?Math.abs(B.left):nt.x;this._backgroundPos={x:-(Math.ceil(ht/this.config.gridStep)*this.config.gridStep-ht)*lt,y:-(Math.ceil(at/this.config.gridStep)*this.config.gridStep-at)*lt};var pt=null;if(this.toolbar&&(((R=this._lastItemClickCoords)===null||R===void 0?void 0:R.x)&&((W=this._lastItemClickCoords)===null||W===void 0?void 0:W.y)||this.selection.getIds().length)){var gt=this.selection.getIds().map(function(_t){return Q.data.getItem(_t)}).filter(function(_t){return _t});gt.length&&(pt=gt.length>1?this.toolbar.render(gt.filter(function(_t){return _t.$item.getBaseType()!=="line"}),m(m({},B),{scale:lt})):this.toolbar.render(gt[0],m(m({},B),{scale:lt}),this._lastItemClickCoords))}var vt=[];return this.config.$svg&&(vt=this.config.$svg(B)),(0,p.el)(".dhx_widget.dhx_diagram",m(m({},this._htmlevents),{"data-dhx-widget-id":this._uid,style:{backgroundImage:this._getBackground(this.config.gridStep),backgroundPosition:"".concat(this._backgroundPos.x,"px ").concat(this._backgroundPos.y,"px")}}),[(0,p.el)("div.dhx_diagram__container",{style:{height:ut*lt,width:ct*lt}},[(0,p.el)(".dhx_diagram__wrapper.dhx_wrapper",{style:{transform:"scale(".concat(lt,")"),position:"absolute",top:0,left:0,transformOrigin:"top",zIndex:this._orgTypes.includes(rt)&&this._active?1:0}},[(0,p.el)("div.dhx_diagram__scale-container",[(0,p.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",width:ct,height:ut,viewBox:"".concat(B.left," ").concat(B.top," ").concat(ct," ").concat(ut)},[(0,p.sv)("defs",[(0,p.sv)("filter",{x:0,y:0,width:1,height:1,id:"dhx_text_background"},[(0,p.sv)("feFlood",{"flood-color":"white"}),(0,p.sv)("feComposite",{in:"SourceGraphic"})])]),(0,p.sv)("g",K)]),(0,p.el)(".dhx_diagram__shape-container",{style:{position:"absolute",top:at,left:ht}},J)])]),vt,pt])])},A.prototype._set_defaults=function(){var M,R,W;switch(this.config.type){case"mindmap":W="topic";break;case"org":W="card";break;default:W="rectangle"}this.config=(0,d.extend)({type:"default",defaultShapeType:((M=this.config)===null||M===void 0?void 0:M.defaultShapeType)||W,lineConfig:{lineType:"line",lineDirection:"forwardArrow",arrowsHidden:!1,lineGap:10},scale:1,margin:{x:40,y:40,itemX:40,itemY:((R=this.config)===null||R===void 0?void 0:R.type)==="mindmap"?20:40},gridStep:10,defaults:{},autoplacement:{mode:"direct",graphPadding:200},exportStyles:!0,$isEditor:!1},this.config)},A.prototype._initEventsHandlers=function(){var M=this;this._htmlevents={onscroll:function(R){var W=R.target,Q=M.config.scale;W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/)&&(W.style.backgroundPosition="".concat(M._backgroundPos.x-W.scrollLeft*Q,"px ").concat(M._backgroundPos.y-W.scrollTop*Q,"px")),M.events.fire(c.DiagramEvents.scroll,[M.getScrollState()])},onpointerdown:(0,u.eventHandler)(function(R){return M.locate(R)},{dhx_diagram:function(R){var W=R.target,Q=W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/),Z=W.tagName==="svg";if(!(0,u.locateNodeByClassName)(W,"dhx_diagram_toolbar")&&(Q||Z)){var B=M.findNearestConnector(R);B?(M.config.type==="default"&&M.setSelectionItem({id:B.id},R.shiftKey,R.altKey),M.events.fire(c.DiagramEvents.lineMouseDown,[B.id,R]),M.events.fire(c.DiagramEvents.itemMouseDown,[B.id,R])):(document.body.classList.add("dhx_notouch"),R.altKey||M.selection.remove(),M.events.fire(c.DiagramEvents.emptyAreaMouseDown,[R]))}},dhx_diagram_line_title:function(R){var W=(0,u.locate)(R,"data-dhx-parent-id"),Q=(0,u.locate)(R,"data-dhx-id");M.setSelectionItem({id:Q},R.shiftKey,R.altKey),M.events.fire(c.DiagramEvents.lineTitleMouseDown,[W,Q,R])},dhx_diagram_shape:function(R,W){M.setSelectionItem({id:W.id},R.shiftKey,R.altKey),M.events.fire(c.DiagramEvents.shapeMouseDown,[W.id,R,M._getPoint(R.clientX,R.clientY)]),M.events.fire(c.DiagramEvents.itemMouseDown,[W.id,R,M._getPoint(R.clientX,R.clientY)])},dhx_diagram_line:function(R,W){M.config.type==="default"&&M.setSelectionItem({id:W.id},R.shiftKey,R.altKey),M.events.fire(c.DiagramEvents.lineMouseDown,[W.id,R,M._getPoint(R.clientX,R.clientY)]),M.events.fire(c.DiagramEvents.itemMouseDown,[W.id,R,M._getPoint(R.clientX,R.clientY)])},dhx_diagram_group:function(R,W){M.setSelectionItem({id:W.id},R.shiftKey,R.altKey),M.events.fire(c.DiagramEvents.groupMouseDown,[W.id,R,M._getPoint(R.clientX,R.clientY)]),M.events.fire(c.DiagramEvents.itemMouseDown,[W.id,R,M._getPoint(R.clientX,R.clientY)])}}),onpointerout:(0,u.eventHandler)(function(R){return M.locate(R)},{"dhx_diagram_item--selected":function(){M._active=!1,M.paint()},dhx_diagram_item:function(R,W){W&&M.events.fire(c.DiagramEvents.itemMouseOut,[W.id,R])}}),onpointerover:(0,u.eventHandler)(function(R){return M.locate(R)},{"dhx_diagram_item--selected":function(){M._active=!0,M.paint()},dhx_diagram_item:function(R,W){W&&M.events.fire(c.DiagramEvents.itemMouseOver,[W.id,R])}}),onclick:(0,u.eventHandler)(function(R){return M.locate(R)},{dhx_diagram_menu_icon:function(R,W){var Q,Z,B,K,J,tt,nt,rt,lt,ct,ut=(0,u.locate)(R,"subheader_id");if(M.events.fire(c.DiagramEvents.beforeSubmenuOpen,[W.id,R,ut])){var at=[];((Z=(Q=W.config)===null||Q===void 0?void 0:Q.subHeaderRows)===null||Z===void 0?void 0:Z.enable)&&((J=(K=(B=W.config)===null||B===void 0?void 0:B.subHeaderRows)===null||K===void 0?void 0:K.headers)===null||J===void 0?void 0:J.length)&&(at=W.config.subHeaderRows.headers);var ht=[];((nt=(tt=W.config)===null||tt===void 0?void 0:tt.subHeaderCols)===null||nt===void 0?void 0:nt.enable)&&((ct=(lt=(rt=W.config)===null||rt===void 0?void 0:rt.subHeaderCols)===null||lt===void 0?void 0:lt.headers)===null||ct===void 0?void 0:ct.length)&&(ht=W.config.subHeaderCols.headers);var pt=_(_([],at,!0),ht,!0).find(function(N){return N.id===ut}),gt=pt.$subMenu,vt=pt.id;M.cellManager.setSwimlane(W.id);var _t=M.cellManager.getSubHeaderCellIndex(vt);gt.data.forEach(function(N){N.remove&&!M.cellManager.validation(_t,N.remove,"remove")&&(N.disabled=!0),N.add&&!M.cellManager.validation(_t,N.add,"add")&&(N.disabled=!0),N.move&&!M.cellManager.validation(_t,N.move,"move")&&(N.disabled=!0)}),M._menu.data.parse(gt.data),M._menu.showAt(R),M.events.fire(c.DiagramEvents.afterSubmenuOpen,[W.id,R,ut])}},"dhx_diagram_toggle-icon--expand":function(R,W){R.target.classList.contains("icon-left")?M.expandItem(W.id,"left"):R.target.classList.contains("icon-right")?M.expandItem(W.id,"right"):M.expandItem(W.id)},"dhx_diagram_toggle-icon--collapse":function(R,W){R.target.classList.contains("icon-left")?M.collapseItem(W.id,"left"):R.target.classList.contains("icon-right")?M.collapseItem(W.id,"right"):M.collapseItem(W.id)},dhx_diagram:function(R){var W=R.target,Q=W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/),Z=W.tagName==="svg";if(Q||Z){var B=M.findNearestConnector(R);B?(M.events.fire(c.DiagramEvents.lineClick,[B.id,R]),M.events.fire(c.DiagramEvents.itemClick,[B.id,R])):M.events.fire(c.DiagramEvents.emptyAreaClick,[R])}},dhx_diagram_line_title:function(R){var W=(0,u.locate)(R,"data-dhx-parent-id"),Q=(0,u.locate)(R,"data-dhx-id");M.events.fire(c.DiagramEvents.lineTitleClick,[W,Q,R])},dhx_diagram_shape:function(R,W){M.events.fire(c.DiagramEvents.shapeClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemClick,[W.id,R])},dhx_diagram_line:function(R,W){M.events.fire(c.DiagramEvents.lineClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemClick,[W.id,R])},dhx_diagram_group:function(R,W){M.events.fire(c.DiagramEvents.groupClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemClick,[W.id,R])},dhx_diagram_group__header:function(R,W){M.events.fire(c.DiagramEvents.groupHeaderClick,[W.id,R]),M.events.fire(c.DiagramEvents.groupClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemClick,[W.id,R])},dhx_diagram_swimlane__subheader:function(R,W){var Q=(0,u.locate)(R,"subheader_id");M.events.fire(c.DiagramEvents.groupHeaderClick,[W.id,R,Q]),M.events.fire(c.DiagramEvents.groupClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemClick,[W.id,R])}}),ondblclick:(0,u.eventHandler)(function(R){return M.locate(R)},{dhx_diagram:function(R){var W=R.target,Q=W.getAttribute&&(W.getAttribute("class")||"").match(/dhx_diagram\b/),Z=W.tagName==="svg";if(Q||Z){var B=M.findNearestConnector(R);B?(M.events.fire(c.DiagramEvents.lineDblClick,[B.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[B.id,R])):M.events.fire(c.DiagramEvents.emptyAreaDblClick,[R])}},dhx_diagram_line_title:function(R){var W=(0,u.locate)(R,"data-dhx-parent-id"),Q=(0,u.locate)(R,"data-dhx-id");M.events.fire(c.DiagramEvents.lineTitleDblClick,[W,Q,R])},dhx_diagram_shape:function(R,W){M.events.fire(c.DiagramEvents.shapeDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R])},dhx_diagram_line:function(R,W){M.events.fire(c.DiagramEvents.lineDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R])},dhx_diagram_group:function(R,W){M.events.fire(c.DiagramEvents.groupDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R])},dhx_diagram_group__header:function(R,W){M.events.fire(c.DiagramEvents.groupDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.groupHeaderDblClick,[W.id,R])},dhx_diagram_swimlane__subheader:function(R,W){var Q=(0,u.locate)(R,"subheader_id");M.events.fire(c.DiagramEvents.groupDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.groupHeaderDblClick,[W.id,R,Q])},dhx_diagram_item__text:function(R,W){M.events.fire(c.DiagramEvents.shapeDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R])},dhx_diagram_item__title:function(R,W){M.events.fire(c.DiagramEvents.shapeDblClick,[W.id,R]),M.events.fire(c.DiagramEvents.itemDblClick,[W.id,R])}})}},A.prototype._init_struct=function(){var M=this;this.events=new h.EventSystem(this),this.flowShapes=m({},e.flowShapes),this.data=new t.ShapesCollection({init:function(R){var W,Q,Z,B,K,J;R.id||(R.id=(0,d.uid)());var tt="from"in R?((W=M.config.lineConfig)===null||W===void 0?void 0:W.lineType)||"line":M.config.defaultShapeType;switch(R.type=R.type||tt,R.type){case"$group":R.$item=new j.Group(R,{data:M.data});break;case"$swimlane":R.$item=new T.Swimlane(R,{data:M.data});break;case"$sgroup":R.$item=new I.GroupSwimlane(R,{data:M.data});break;case"line":case"dash":!M._orgTypes.includes(M.config.type)&&R.from&&(R.stroke=R.stroke||((Z=(Q=M.config.defaults)===null||Q===void 0?void 0:Q[R.type])===null||Z===void 0?void 0:Z.stroke)||"#2196F3"),R.$item=new E.Line(R,((B=M.config.defaults)===null||B===void 0?void 0:B[R.type])||{});break;case"lineTitle":R.$item=new V.LineTitle(R,{defaults:((K=M.config.defaults)===null||K===void 0?void 0:K[R.type])||{}});break;default:R.$item=(0,n.shapesFactory)(R,{defaults:((J=M.config.defaults)===null||J===void 0?void 0:J[R.type])||{},shapes:M.flowShapes,data:M.data})}return R},update:function(R){R.$item.config=R},diagramConfig:this.config},this.events),this.selection=new i.Selection(this.data,this.events),this.cellManager=new F.CellManager(this.data,this.events),this.export=new r.Exporter("diagram",this.version,this),this.editor=new $.Editor({data:this.data,events:this.events}),this._menu=new l.ContextMenu(null)},A.prototype._initEvents=function(){var M=this;this._initEventsHandlers(),this.events.on(c.DiagramEvents.lineDblClick,function(R){(0,d.isDefined)(R)&&M.config.type==="default"&&(0,z.addLineTitle)(M.data.getItem(R),M)}),this.events.on(c.DiagramEvents.shapeDblClick,function(R,W){var Q=W.target,Z=M.data.getItem(R).$item;if(Z){var B=Q.getAttribute&&(Q.getAttribute("class")||"").match(/dhx_diagram_item__text\b/),K=Q.getAttribute&&(Q.getAttribute("class")||"").match(/dhx_diagram_item__title\b/);(B||K)&&Z.isEditable()&&M.editor.openEditor(R,K?"title":"text")&&Z.setEditorNode(M.editor.render(),K?"title":"text")}}),this.events.on(c.DiagramEvents.groupHeaderDblClick,function(R,W,Q){var Z=M.data.getItem(R).$item;Z&&((0,u.locateNodeByClassName)(W,"dhx_diagram_group__header_text")||(0,u.locateNodeByClassName)(W,"dhx_diagram_swimlane__subheader_text"))&&Z.isEditable(Q)&&M.editor.openEditor(R,"text",Q)&&Z.setEditorNode(M.editor.render(),"text",Q||R)}),this.events.on(c.DiagramEvents.lineTitleDblClick,function(R,W){var Q=M.data.getItem(W).$item;Q.isEditable()&&M.editor.openEditor(W,"text")&&Q.setEditorNode(M.editor.render(),"text")}),this.events.on(c.SelectionEvents.afterSelect,function(R){var W=R.id;M.data.getItem(W).$item.getBaseType()==="swimlane"&&M.cellManager.setSwimlane(W),M.paint()}),this.events.on(c.SelectionEvents.afterUnSelect,function(){return M.paint()}),this.events.on(c.DiagramEvents.itemMouseDown,function(R,W){M._lastItemClickCoords=M.getCurrentCoords(W),M.paint()}),this.events.on(c.DiagramEvents.lineTitleMouseDown,function(R,W,Q){M._lastItemClickCoords=M.getCurrentCoords(Q),M.paint()}),[$.EditorEvents.beforeEditorOpen,$.EditorEvents.afterEditorClose,c.DataEvents.change,c.DataEvents.filter].forEach(function(R){return M.events.on(R,function(){return M.paint()})}),this._menu.events.on("click",function(R){var W=R.split("/"),Q=W[0],Z=W[1],B=W[2];M.cellManager.setSwimlane(Q);var K=M.cellManager.getSubHeaderType(Z),J=M.cellManager.getSubHeaderCellIndex(Z);switch(B){case"move_column_left":M.cellManager.move(J,"left",!0);break;case"move_column_right":M.cellManager.move(J,"right",!0);break;case"move_row_up":M.cellManager.move(J,"up",!0);break;case"move_row_down":M.cellManager.move(J,"down",!0);break;case"add_column_left":M.cellManager.add(J,"left",!0);break;case"add_column_right":M.cellManager.add(J,"right",!0);break;case"add_row_up":M.cellManager.add(J,"up",!0);break;case"add_row_down":M.cellManager.add(J,"down",!0);break;case"remove":M.cellManager.remove(J,K,!0)}M.paint()})},A.prototype._getContent=function(){var M=this;switch(this.config.type){case"org":(0,P.placeOrgonogram)(this.data,this.config);break;case"mindmap":(0,O.placeMindmap)(this.data,this.config)}var R={x:0,y:0,left:0,top:0,scale:this.config.scale},W=[],Q=[];return this.data.mapVisible(function(Z){var B=Z==null?void 0:Z.$item.getBaseType();if(Z&&!Z.$group&&Z.type!=="$sgroup"){B==="line"&&(M.config.type==="default"&&(0,a.nearestLinkPath)(Z,M.data.getItem(Z.from),M.data.getItem(Z.to),M.config),W.push(Z.$item.render())),B!=="shape"&&B!=="group"&&B!=="swimlane"&&B!=="lineTitle"||Q.push(Z.$item.render());var K=Z.$item.getBox();K.right>R.x&&(R.x=K.right),K.left<R.left&&(R.left=K.left),K.bottom>R.y&&(R.y=K.bottom),K.top<R.top&&(R.top=K.top)}}),{size:R,svgContent:W,htmlContent:Q}},A.prototype._getPoint=function(M,R){var W=this.getRootView().node.el.getBoundingClientRect();return{x:M-W.left-this.config.margin.x,y:R-W.top-this.config.margin.y}},A.prototype._getBackground=function(M){if(!this.config.$isEditor||!this.config.$grid())return"none";var R=M<1?1:M,W=this.config.scale;return R>1?`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%' %3E%3Cdefs%3E%3Cpattern id='Pattern' width='`.concat(R*W,"' height='").concat(R*W,"' patternUnits='userSpaceOnUse' shapeRendering='auto'%3E%3Ccircle cx='0' cy='0' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='0' cy='").concat(R*W,"' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='").concat(R*W,"' cy='0' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='").concat(R*W,"' cy='").concat(R*W,`' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3C/pattern%3E%3C/defs%3E%3Cg shapeRendering='auto'%3E%3Crect x='0' y='0' width='100%' height='100%' fill='url%28%23Pattern%29'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E")`):"none"},A.prototype.setSelectionItem=function(M,R,W){var Q=M.id;this.config.select&&(W?this.selection.includes({id:Q})&&this.selection.remove({id:Q}):this.selection.add({id:Q,join:R}))},A}(s.View);g.Diagram=Y},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(126),g),w(y(184),g)},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={apply:"apply",reject:"reject"}},function(H,g,y){function b(w){var m=document.activeElement;m.classList.contains("dhx_alert__apply-button")&&w.key==="Enter"||m.classList.contains("dhx_alert__confirm-reject")||m.classList.contains("dhx_alert__confirm-aply")||w.preventDefault()}Object.defineProperty(g,"__esModule",{value:!0}),g.blockScreen=void 0,g.blockScreen=function(w){var m=document.createElement("div");return m.className="dhx_alert__overlay "+(w||""),document.body.appendChild(m),document.addEventListener("keydown",b),function(){document.body.removeChild(m),document.removeEventListener("keydown",b)}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(f){for(var v,x=1,k=arguments.length;x<k;x++)for(var S in v=arguments[x])Object.prototype.hasOwnProperty.call(v,S)&&(f[S]=v[S]);return f},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.disableTooltip=g.enableTooltip=g.tooltip=g.getZIndex=g.findPosition=void 0;var w=y(2),m=y(46),_=750,h=200;function d(f,v,x,k,S,O){var P,T,j;if(S===void 0&&(S=8),O===void 0&&(O=0),O>1&&(v=m.Position.center),v!=="top"&&v!=="bottom"){var $=f.top+(f.height-k)/2,I=$<0&&window.pageYOffset+$+k<scrollY+window.innerHeight;j=window.pageYOffset+(I?0:$)}switch(v){case m.Position.center:return(T=f.left+window.pageXOffset+(f.width-x)/2)+S<window.pageXOffset&&(T=f.left+window.pageXOffset),{left:T,top:j,pos:P=m.RealPosition.center};case m.Position.right:return P=m.RealPosition.right,(T=f.right+window.pageXOffset+S)+x>window.innerWidth+window.pageXOffset?d(f,m.Position.left,x,k,S,++O):{left:T,top:j,pos:P};case m.Position.left:return P=m.RealPosition.left,(T=window.pageXOffset+f.left-x-S)<0?d(f,m.Position.right,x,k,S,++O):{left:T,top:j,pos:P};case m.Position.top:return P=m.RealPosition.top,(T=window.pageXOffset+f.left+(f.width-x)/2)+x>window.innerWidth+window.pageXOffset?T=window.innerWidth+window.pageXOffset-x:T<0&&(T=0),f.top<k?d(f,m.Position.bottom,x,k,S,++O):{left:T,top:j=window.pageYOffset+f.top-k-S,pos:P};case m.Position.bottom:default:return(T=window.pageXOffset+f.left+(f.width-x)/2)+x>window.innerWidth+window.pageXOffset?T=window.innerWidth+window.pageXOffset-x:T<0&&(T=0),P=m.RealPosition.bottom,(j=window.pageYOffset+f.bottom+S)+k>window.innerHeight+window.pageYOffset?d(f,m.Position.top,x,k,S,++O):{left:T,top:j,pos:P}}}g.findPosition=d;var p=document.createElement("div"),u=document.createElement("span");u.className="dhx_tooltip__text",p.appendChild(u),p.setAttribute("role","tooltip"),p.style.position="absolute";var s,l=null,r=!1,a=null,i=null;function n(f){return f&&(f.classList.contains("dhx_popup--window")&&f.classList.contains("dhx_popup--window_active")||f.classList.contains("dhx_popup--window_modal")||f.classList.contains("dhx_popup"))?1e7:f!=null&&f.classList.contains("dhx_popup--window")?9999999:f&&f.offsetParent?n(f.offsetParent):null}function e(f,v,x,k,S,O,P){k===void 0&&(k=""),S===void 0&&(S=!1),O===void 0&&(O=8);var T=f.getBoundingClientRect();P?u.innerHTML=v:u.textContent=v,p.style.left=null,p.style.top=null,document.body.appendChild(p),p.className="dhx_widget dhx_tooltip ".concat(S?" dhx_tooltip--forced":""," ").concat(k);var j=p.getBoundingClientRect(),$=d(T,x,j.width,j.height,O),I=$.left,F=$.top,E=$.pos,V=n(f);switch(V&&(p.style.zIndex=V.toString()),E){case m.RealPosition.bottom:case m.RealPosition.top:case m.RealPosition.left:case m.RealPosition.right:case m.RealPosition.center:p.style.left=I+"px",p.style.top=F+"px"}p.className+=" dhx_tooltip--".concat(E),r=!0,S||setTimeout(function(){p.className+=" dhx_tooltip--animate"})}function t(f,v,x){var k=x.force,S=x.showDelay,O=x.hideDelay,P=x.position,T=x.css,j=x.htmlEnable,$=x.margin;k||(i=setTimeout(function(){e(f,v,P||m.Position.bottom,T,!1,$,j)},S||_));var I=function(){var F;r&&(F=O,l&&(a=setTimeout(function(){document.body.removeChild(p),r=!1,a=null},F||h))),clearTimeout(i),f.removeEventListener("mouseleave",I),f.removeEventListener("blur",I),document.removeEventListener("mousedown",I),l=null,s=null};k&&e(f,v,P,T,k,$,j),f.addEventListener("mouseleave",I),f.addEventListener("blur",I),document.addEventListener("mousedown",I),s=I}function o(f,v){var x=(0,w.toNode)(v.node);x!==l&&(s&&(s(),s=null),l=x,a?(clearTimeout(a),a=null,t(x,f,b(b({},v),{force:!0}))):t(x,f,v))}function c(f){var v=(0,w.locateNode)(f,"dhx_tooltip_text");v&&o(v.getAttribute("dhx_tooltip_text"),{position:v.getAttribute("dhx_tooltip_position")||m.Position.bottom,node:v})}g.getZIndex=n,g.tooltip=o,g.enableTooltip=function(){document.addEventListener("mousemove",c)},g.disableTooltip=function(){document.removeEventListener("mousemove",c)}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},b.apply(this,arguments)},w=this&&this.__spreadArray||function(r,a,i){if(i||arguments.length===2)for(var n,e=0,t=a.length;e<t;e++)!n&&e in a||(n||(n=Array.prototype.slice.call(a,0,e)),n[e]=a[e]);return r.concat(n||Array.prototype.slice.call(a))};Object.defineProperty(g,"__esModule",{value:!0}),g.DataCollection=void 0;var m=y(3),_=y(131),h=y(134),d=y(32),p=y(23),u=y(22),s=y(1),l=function(){function r(a,i){var n=this;this._filters={},this._changes={order:[]},this.config=a||{},this._sort=new h.Sort,this._loader=new _.Loader(this,this._changes),this.events=i||new m.EventSystem(this),this.events.on(u.DataEvents.dataRequest,function(e,t){var o=n.dataProxy;o&&o.updateUrl&&(o.updateUrl(null,{from:e,limit:o.config.limit||t-e}),n.load(o))}),this.events.on(u.DataEvents.loadError,function(e){setTimeout(function(){typeof e!="string"?(0,p.dhxError)(e):(0,p.dhxWarning)(e)},0)}),this._reset()}return r.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},r.prototype.add=function(a,i){var n,e=this;if(this.events.fire(u.DataEvents.beforeAdd,[a]))return n=Array.isArray(a)?a.map(function(t,o){return o!==0&&(i+=1),e._add(t,i)}):this._add(a,i),this._reapplyFilters(!0),n},r.prototype.remove=function(a){var i=this;a instanceof Array?w([],a,!0).map(function(n){i._remove(n)}):(0,s.isId)(a)&&this._remove(a)},r.prototype.removeAll=function(){this._reset(),this.events.fire(u.DataEvents.removeAll),this.events.fire(u.DataEvents.change)},r.prototype.exists=function(a){return!!this._pull[a]},r.prototype.getNearId=function(a){if(!this._pull[a])return this._order[0].id||""},r.prototype.getItem=function(a){return this._pull[a]},r.prototype.update=function(a,i,n){var e=this.getItem(a);if(e){if((0,p.isEqualObj)(i,e))return;(0,s.isId)(i.id)&&a!==i.id?((0,p.dhxWarning)("this method doesn't allow change id"),(0,p.isDebug)()):(i.parent&&e.parent&&i.parent!==e.parent&&this.move(a,-1,this,i.parent),(0,s.extend)(this._pull[a],i,!1),this.config.update&&this.config.update(this._pull[a]),n||this._onChange("update",a,this._pull[a])),this._reapplyFilters(!0)}else(0,p.dhxWarning)("item not found")},r.prototype.getIndex=function(a){return(0,s.isId)(a)&&(0,s.isDefined)(this._pull[a])?this._order.findIndex(function(i){return(i==null?void 0:i.id)==a}):-1},r.prototype.getId=function(a){if(this._order[a])return this._order[a].id},r.prototype.getLength=function(){return this._order.length},r.prototype.isDataLoaded=function(a,i){return a===void 0&&(a=0),i===void 0&&(i=this._order.length),(0,s.isNumeric)(a)&&(0,s.isNumeric)(i)?this._order.slice(a,i).filter(function(n){return n&&n.$empty}).length===0:(this._loaded||(this._loaded=!this.find(function(n){return n.$empty})),!!this._loaded)},r.prototype.filter=function(a,i,n){var e;if(this.isDataLoaded()){if(i!=null&&i.$restore&&(a=this._normalizeFilters(a||this._filters)),!(i!=null&&i.add)&&(this._order=this._initOrder||this._order,this._initOrder=null,!(i!=null&&i.$restore)))for(var t in this._filters){var o=this._filters[t];!((e=o.config)===null||e===void 0)&&e.permanent?this._applyFilters(o.rule):delete this._filters[t]}var c;if(a&&!(i!=null&&i.$restore)&&(c=(i==null?void 0:i.id)||(0,s.uid)(),this._filters[c]={rule:a,config:i||{}}),a&&typeof a!="function")if((0,s.isDefined)(a.by))this._applyFilters(a);else for(var t in a)this._applyFilters(a[t]);else this._applyFilters(a);if(!n){var f=this._getPureFilters(this._filters);this.events.fire(u.DataEvents.filter,[(0,s.isEmptyObj)(f)?null:f])}return c}(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype.resetFilter=function(a,i){var n,e=a||{},t=e.id,o=e.permanent;if((0,s.isEmptyObj)(a))for(var c in this._filters)!((n=this._filters[c].config)===null||n===void 0)&&n.permanent||delete this._filters[c];else o?this._filters={}:t&&delete this._filters[t];return this.filter(null,{$restore:!0},i),(0,s.isEmptyObj)(this._getPureFilters(this._filters))},r.prototype.getFilters=function(a){var i=this.getRawFilters(a),n=i?this._getPureFilters(i):{};return(0,s.isEmptyObj)(n)?null:n},r.prototype.getRawFilters=function(a){var i=this._filters;return a!=null&&a.permanent&&(i=Object.keys(i).reduce(function(n,e){var t;return!((t=i[e].config)===null||t===void 0)&&t.permanent&&(n[e]=i[e]),n},{})),(0,s.isEmptyObj)(i)?null:i},r.prototype.find=function(a){for(var i in this._pull){var n=(0,p.findByConf)(this._pull[i],a);if(n)return n}return null},r.prototype.findAll=function(a){var i=[];for(var n in this._pull){var e=(0,p.findByConf)(this._pull[n],a);e&&i.push(e)}return i},r.prototype.sort=function(a,i){this.isDataLoaded()?(i&&i.smartSorting&&(this._sorter=a),a&&this._applySorters(a),this.events.fire(u.DataEvents.change,[void 0,"sort",a])):(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype.copy=function(a,i,n,e){var t=this;return a instanceof Array?a.map(function(o,c){return t._copy(o,i,n,e,c)}):this._copy(a,i,n,e)},r.prototype.move=function(a,i,n,e,t){var o=this;return a instanceof Array?a.map(function(c,f){return o._move(c,i,n,e,f)}):this._move(a,i,n,e,0,t)},r.prototype.forEach=function(a){for(var i=0;i<this._order.length;i++)a.call(this,this._order[i],i,this._order)},r.prototype.load=function(a,i){if(typeof a=="string"&&(this.dataProxy=a=new d.DataProxy(a)),typeof i=="string"){var n=i.toLocaleLowerCase();n!=="xml"&&n!=="csv"||(a.config.responseType=a.config.responseType||"text")}return this.dataProxy=a,this._loader.load(a,i)},r.prototype.parse=function(a,i){return this._reset(),this._loader.parse(a,i)},r.prototype.$parse=function(a){var i=this.config.approximate;i&&(a=this._approximate(a,i.value,i.maxNum)),this._parse_data(a),this._reapplyFilters(!0),this.events.fire(u.DataEvents.change,[void 0,"load"]),this.events.fire(u.DataEvents.load)},r.prototype.save=function(a){typeof a=="string"&&(a=new d.DataProxy(a)),this._loader.save(a)},r.prototype.changeId=function(a,i,n){if(i===void 0&&(i=(0,s.uid)()),n||this.isDataLoaded()){var e=this.getItem(a);e?(e.id=i,(0,s.extend)(this._pull[a],e),this._pull[i]=this._pull[a],n||this._onChange("update",i,this._pull[i]),delete this._pull[a]):(0,p.dhxWarning)("item not found")}else(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype.isSaved=function(){return!this._changes.order.length},r.prototype.map=function(a){for(var i=[],n=0;n<this._order.length;n++)i.push(a.call(this,this._order[n],n,this._order));return i},r.prototype.mapRange=function(a,i,n){a<0&&(a=0),i>this._order.length-1&&(i=this._order.length-1);for(var e=this._order.slice(a,i),t=[],o=a;o<=i;o++)t.push(n.call(this,this._order[o],o,e));return t},r.prototype.reduce=function(a,i){for(var n=0;n<this._order.length;n++)i=a.call(this,i,this._order[n],n);return i},r.prototype.serialize=function(a){a===void 0&&(a=u.DataDriver.json);for(var i=[],n=function(c){var f=b({},e._order[c]);Object.keys(f).forEach(function(v){v.startsWith("$")&&delete f[v]}),i.push(f)},e=this,t=0;t<this._order.length;t++)n(t);var o=(0,p.toDataDriver)(a);if(o)return o.serialize(i)},r.prototype.getInitialData=function(){return this._initOrder},r.prototype.setMeta=function(a,i,n){if(a){var e=this._meta.get(a);e||(e={},this._meta.set(a,e)),e[i]=n}},r.prototype.getMeta=function(a,i){var n=this._meta.get(a);return n?n[i]:null},r.prototype.getMetaMap=function(a){return this._meta.get(a)},r.prototype.setRange=function(a,i){this._range=i?[a,i]:null},r.prototype.getRawData=function(a,i,n,e){if(n=n||this._order,e===1)return n;if(this._range)if(a=this._range[0]+a,i===-1)i=this._range[1];else{var t=Math.abs(i-a);i=a+t>this._range[1]?this._range[1]:a+t}if(!i||a===0&&(i===-1||i===n.length))return n;if(a>=n.length)return[];(i===-1||i>n.length)&&(i=n.length);var o=n.slice(a,i);return o.filter(function(c){return c.$empty}).length!==0&&this.events.fire(u.DataEvents.dataRequest,[a,i]),o},r.prototype._add=function(a,i){if(this.isDataLoaded()){var n=this._addCore(a,i);return this._onChange("add",a.id,a),this.events.fire(u.DataEvents.afterAdd,[a]),n}(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._remove=function(a){if(this.isDataLoaded()){var i=this._pull[a];if(i){if(!this.events.fire(u.DataEvents.beforeRemove,[i]))return;this._removeCore(i.id),this._onChange("remove",a,i)}this.events.fire(u.DataEvents.afterRemove,[i])}else(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._copy=function(a,i,n,e,t){if(this.isDataLoaded()){if(!this.exists(a))return null;var o=(0,s.uid)();return t&&(i=i===-1?-1:i+t),n?n instanceof r||!e?n.exists(a)?(n.add(b(b({},(0,p.copyWithoutInner)(this.getItem(a))),{id:o}),i),o):(n.add((0,p.copyWithoutInner)(this.getItem(a)),i),a):void n.add((0,p.copyWithoutInner)(this.getItem(a)),i):(this.add(b(b({},(0,p.copyWithoutInner)(this.getItem(a))),{id:o}),i),o)}(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._move=function(a,i,n,e,t,o){if(this.isDataLoaded()){if(t&&(i=i===-1?-1:i+t),n&&n!==this&&this.exists(a)){var c=(0,s.copy)(this.getItem(a),!0);return o&&(c.id=o),(!o&&n.exists(a)||n.exists(o))&&(c.id=(0,s.uid)()),e&&(c.parent=e),n.add(c,i),this.remove(a),c.id}if(this.getIndex(a)===i)return null;var f=this._order.splice(this.getIndex(a),1)[0];return i===-1&&(i=this._order.length),this._order.splice(i,0,f),this.events.fire(u.DataEvents.change,[a,"update",this.getItem(a)]),a}(0,p.dhxWarning)("the method doesn't work with lazyLoad")},r.prototype._addCore=function(a,i){var n;return this.config.init&&(a=this.config.init(a)),a.id=(n=a.id)!==null&&n!==void 0?n:(0,s.uid)(),this._pull[a.id]&&(0,p.dhxError)("Item ".concat(a.id," already exist")),this._initOrder&&!(0,p.isTreeCollection)(this)&&this._addToOrder(this._initOrder,a,i),this._addToOrder(this._order,a,i),a.id},r.prototype._removeCore=function(a){this.getIndex(a)>=0&&(this._order=this._order.filter(function(i){return i.id!==a}),delete this._pull[a]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(i){return i.id!==a}),delete this._pull[a])},r.prototype._parse_data=function(a){var i=this._order.length;this.config.prep&&(a=this.config.prep(a));for(var n=0,e=a;n<e.length;n++){var t=e[n];this._addCore(t,i++)}},r.prototype._approximate=function(a,i,n){for(var e=a.length,t=i.length,o=Math.floor(e/n),c=Array(Math.ceil(e/o)),f=0,v=0;v<e;v+=o){for(var x=(0,s.copy)(a[v]),k=Math.min(e,v+o),S=0;S<t;S++){for(var O=0,P=v;P<k;P++)O+=a[P][i[S]];x[i[S]]=O/(k-v)}c[f++]=x}return c},r.prototype._onChange=function(a,i,n){for(var e=0,t=0,o=this._changes.order;t<o.length;t++){var c=o[t],f=this._changes.order.indexOf(c);if(c.id===i&&!c.saving&&(e+=1,f===this._changes.order.length-1||this._changes.order[f+1].id!==i))return c.error&&(c.error=!1),c=b(b({},c),{obj:n,status:a}),(e+=1)>10?this._changes.order.splice(f,e-10,c):this._changes.order.splice(f+1,0,c),this._loader.updateChanges(this._changes),a==="remove"&&n.$emptyRow?void 0:void this.events.fire(u.DataEvents.change,[i,a,n])}this._changes.order.push({id:i,status:a,obj:b({},n),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(u.DataEvents.change,[i,a,n])},r.prototype._addToOrder=function(a,i,n){n>=0&&a[n]?(this._pull[i.id]=i,a.splice(n,0,i)):(this._pull[i.id]=i,a.push(i))},r.prototype._applySorters=function(a){this._sort.sort(this._order,a,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,a,this._sorter)},r.prototype._applyFilters=function(a){if(a){var i=typeof a!="function"?this._getRuleCallback(a):a,n=this._order.filter(function(e){return i(e)});this._initOrder||(this._initOrder=this._order),this._order=n}},r.prototype._reapplyFilters=function(a){a===void 0&&(a=!1);var i=this.getFilters({permanent:!0});i&&this.filter(i,{$restore:!0,add:!0},!0),a&&this._sorter&&this._applySorters()},r.prototype._getRuleCallback=function(a){if((0,s.isDefined)(a.by)&&(0,s.isDefined)(a.match))return a.compare?function(i){return a.compare(i[a.by],a.match,i,a.multi)}:function(i){return i[a.by]==a.match}},r.prototype._getPureFilters=function(a){return Object.keys(a).reduce(function(i,n){var e;return!((e=a[n].config)===null||e===void 0)&&e.$local||(i[n]=a[n]),i},{})},r.prototype._normalizeFilters=function(a){var i=[];for(var n in a){var e=a[n].rule;if(typeof e!="function")if((0,s.isDefined)(e.by))i.push(this._getRuleCallback(e));else for(var t in e)i.push(this._getRuleCallback(e[t]));else i.push(e)}return b({},i)},r}();g.DataCollection=l},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.dataDriversPro=g.dataDrivers=void 0;var w=y(70),m=y(71),_=y(132);g.dataDrivers={json:w.JsonDriver,csv:m.CsvDriver},g.dataDriversPro=b(b({},g.dataDrivers),{xml:_.XMLDriver})},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.JsonDriver=void 0;var b=function(){function w(){}return w.prototype.toJsonArray=function(m){return this.getRows(m)},w.prototype.serialize=function(m){return m},w.prototype.getFields=function(m){return m},w.prototype.getRows=function(m){return typeof m=="string"?JSON.parse(m):m},w}();g.JsonDriver=b},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.CsvDriver=void 0;var w=function(){function m(_){this.config=b(b({},{skipHeader:0,nameByHeader:!1,rowDelimiter:`
`,columnDelimiter:","}),_),this.config.nameByHeader&&(this.config.skipHeader=1)}return m.prototype.getFields=function(_,h){for(var d=new RegExp('(?<!")'.concat(this.config.columnDelimiter,'(?!")')),p=_.trim().split(d),u={},s=0;s<p.length;s++)u[h?h[s]:s+1]=isNaN(Number(p[s]))?p[s].replace(/"[,;"]"/gi,function(l){return l.split("").splice(1,1).slice(-1,1).join("")}):parseFloat(p[s]);return u},m.prototype.getRows=function(_){return _.trim().split(this.config.rowDelimiter)},m.prototype.toJsonArray=function(_){var h=this,d=this.getRows(_),p=this.config.names;if(this.config.skipHeader){var u=d.splice(0,this.config.skipHeader);this.config.nameByHeader&&(p=u[0].trim().split(this.config.columnDelimiter))}return d.map(function(s){return h.getFields(s,p)})},m.prototype.serialize=function(_,h){var d=_[0]?Object.keys(_[0]).filter(function(u){return!u.startsWith("$")}).join(this.config.columnDelimiter)+this.config.rowDelimiter:"",p=this._serialize(_);return h?p:d+p},m.prototype._serialize=function(_){var h=this;return _.reduce(function(d,p){var u=Object.keys(p),s=u.reduce(function(l,r,a){var i,n;return r.startsWith("$")||r==="items"?l:"".concat(l).concat(((n=(i=p[r])===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:"").replaceAll(/[,;"]/gi,function(e){return'"'.concat(e,'"')})).concat(a===u.length-1?"":h.config.columnDelimiter)},"");return p.items?"".concat(d).concat(d?`
`:"").concat(s).concat(h._serialize(p.items)):"".concat(d).concat(d?h.config.rowDelimiter:"").concat(s)},"")},m}();g.CsvDriver=w},function(H,g,y){var b,w=this&&this.__extends||(b=function(j,$){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,F){I.__proto__=F}||function(I,F){for(var E in F)Object.prototype.hasOwnProperty.call(F,E)&&(I[E]=F[E])},b(j,$)},function(j,$){if(typeof $!="function"&&$!==null)throw new TypeError("Class extends value "+String($)+" is not a constructor or null");function I(){this.constructor=j}b(j,$),j.prototype=$===null?Object.create($):(I.prototype=$.prototype,new I)}),m=this&&this.__assign||function(){return m=Object.assign||function(j){for(var $,I=1,F=arguments.length;I<F;I++)for(var E in $=arguments[I])Object.prototype.hasOwnProperty.call($,E)&&(j[E]=$[E]);return j},m.apply(this,arguments)},_=this&&this.__rest||function(j,$){var I={};for(var F in j)Object.prototype.hasOwnProperty.call(j,F)&&$.indexOf(F)<0&&(I[F]=j[F]);if(j!=null&&typeof Object.getOwnPropertySymbols=="function"){var E=0;for(F=Object.getOwnPropertySymbols(j);E<F.length;E++)$.indexOf(F[E])<0&&Object.prototype.propertyIsEnumerable.call(j,F[E])&&(I[F[E]]=j[F[E]])}return I},h=this&&this.__spreadArray||function(j,$,I){if(I||arguments.length===2)for(var F,E=0,V=$.length;E<V;E++)!F&&E in $||(F||(F=Array.prototype.slice.call($,0,E)),F[E]=$[E]);return j.concat(F||Array.prototype.slice.call($))};Object.defineProperty(g,"__esModule",{value:!0}),g.Grid=void 0;var d=y(0),p=y(3),u=y(2),s=y(1),l=y(14),r=y(5),a=y(8),i=y(138),n=y(18),e=y(26),t=y(15),o=y(139),c=y(7),f=y(25),v=y(24),x=y(163),k=y(167),S=y(168),O=y(31),P=y(33),T=function(j){function $(I,F){var E=j.call(this,I,F)||this;E._touch={duration:350,dblDuration:300,timer:null,start:!1},E._destructed=!1,E.version="6.0.1",E.config=(0,s.extend)({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:typeof I=="string"&&I||E._uid},E._normalizeConfig(F)),E.content=(0,x.getContent)(),E._scroll={top:0,left:0},E.config.autoWidth=E.config.autoWidth||E.config.fitToContainer,E.config.adjust=E.config.adjust||E.config.columnsAutoWidth,E.config.editable=E.config.editable||E.config.editing,E.config.leftSplit=E.config.leftSplit||E.config.splitAt,E.config.columns.forEach(function(R){R.format=R.format||R.dateFormat});var V=function(R,W,Q){var Z;if(R&&W&&(0,t.isTooltip)(E.config,W)){var B=void 0;if(W.editorType==="combobox"||W.editorType==="select"){var K=(0,n.getEditorOptions)(W,R).find(function(rt){var lt;return(rt instanceof Object?rt.id.toString():rt)===((lt=R[W.id])===null||lt===void 0?void 0:lt.toString())});B=K instanceof Object?K.value:K}else if(W.editorType==="multiselect"){var J=(Z=R[W.id])===null||Z===void 0?void 0:Z.toString().split(", ");J!=null&&J.length&&(B=(0,n.getEditorOptions)(W,R).filter(function(rt){return J.includes(rt instanceof Object?rt.id.toString():rt)}).map(function(rt){return rt instanceof Object?rt.value:rt}).join(", "))}var tt=(0,n.toFormat)(B||R[W.id],W.type,W.format),nt=function(){return!!tt||typeof tt=="boolean"};W.tooltipTemplate?tt=W.tooltipTemplate(tt,R,W)||null:nt()&&W.template&&(tt=W.template(tt,R,W)),nt()&&(0,t.showTooltip)({value:tt,node:Q,htmlEnable:(0,t.isHtmlEnable)(E.config,W)})}},z=function(R,W){var Q,Z;W===void 0&&(W="header");var B=R.target,K=B.getAttribute("data-dhx-text-id"),J=E.getColumn(B.getAttribute("data-dhx-id"));if(K&&J){var tt=(Q=J[W])===null||Q===void 0?void 0:Q.find(function(lt){return lt.id===K});if((0,t.isContentTooltip)(E.config,J,tt,W)){var nt=(tt==null?void 0:tt.content)&&["avg","sum","max","min","count"].includes(tt.content),rt=nt?(Z=E.content[tt.content])===null||Z===void 0?void 0:Z.toHtml(J,m(m({},E.config),{datacollection:E.data})):tt==null?void 0:tt.text;typeof(tt==null?void 0:tt.tooltipTemplate)=="function"&&(rt=tt.tooltipTemplate(rt,tt,J)),nt&&typeof J.template=="function"&&(rt=J.template(rt,tt,J)),rt!=null&&rt.toString().length&&(0,t.showTooltip)({value:rt,node:B,htmlEnable:(0,t.isHtmlEnable)(E.config,J,tt)})}}};if(E._htmlEvents={onclick:(0,u.eventHandler)(function(R){return(0,u.locate)(R)},{"dhx_grid-header-cell--sortable":function(R,W){var Q=R.target.getAttribute("dhx_resized"),Z=E.getColumn(W);if(Z&&(0,t.isSortable)(E.config,Z)&&!Q&&E.events.fire(c.GridEvents.beforeSort,[Z,E._sortDir==="asc"?"desc":"asc"])){var B=(0,u.locate)(R,"data-dhx-text-id"),K=Z.header.find(function(tt){return tt.id===B}),J=E._sortDir==="asc"&&E._sortBy===W?"desc":"asc";E._sort(W,J,K.sortAs)}},"dhx_grid-expand-cell":function(R,W){R.target.classList.contains("dhx_grid-expand-cell-icon")&&E.events.fire(c.GridEvents.expand,[W])},"dhx_span-expand-cell":function(R,W){R.target.classList.contains("dhx_span-expand-cell-icon")&&E.events.fire(c.GridEvents.expand,[W])}}),onscroll:function(R){E.events.fire(c.GridEvents.scroll,[{y:R.target.scrollTop,x:R.target.scrollLeft}])},onmouseover:{".dhx_grid-cell.dhx_boolean-cell .dhx_checkbox.dhx_cell-editor__checkbox":function(R){var W=R.composedPath(),Q=E.data.getItem(W[2].getAttribute("data-dhx-id")),Z=E.getColumn(W[1].getAttribute("data-dhx-col-id"));V(Q,Z,R.target)},".dhx_grid-cell:not(.dhx_boolean-cell)":function(R){var W=E.data.getItem(R.composedPath()[1].getAttribute("data-dhx-id")),Q=E.getColumn(R.target.getAttribute("data-dhx-col-id"));V(W,Q,R.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(R){var W=R.composedPath(),Q=E.data.getItem(W[2].getAttribute("data-dhx-id")),Z=E.getColumn(W[1].getAttribute("data-dhx-col-id"));V(Q,Z,R.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(R){var W=R.composedPath(),Q=E.data.getItem(W[3].getAttribute("data-dhx-id")),Z=E.getColumn(W[2].getAttribute("data-dhx-col-id"));V(Q,Z,W[2])},".dhx_span-cell:not(.dhx_grid-header-cell):not(.dhx_grid-footer-cell)":function(R){var W=R.target,Q=E.data.getItem(W.getAttribute("data-dhx-id")),Z=E.getColumn(W.getAttribute("data-dhx-col-id")),B=E.getSpan(Q.id,Z.id);if(Q&&B&&(0,t.isTooltip)(E.config,B)){var K=B.text||(0,n.toFormat)(Q[Z.id],Z.type,Z.format);B.tooltipTemplate?K=B.tooltipTemplate(K,B):Z.template&&(K=Z.template(K,Q,Z)),K&&(0,t.showTooltip)({value:K,node:W,htmlEnable:(0,t.isHtmlEnable)(E.config,Z)})}},".dhx_grid-header-cell":function(R){return z(R,"header")},".dhx_grid-footer-cell":function(R){return z(R,"footer")}}},E.config.eventHandlers)for(var X=0,Y=Object.entries(E.config.eventHandlers);X<Y.length;X++){var U=Y[X],A=U[0],M=U[1];E._htmlEvents[A]=(0,u.eventHandler)(function(R){return{col:E.getColumn((0,u.locate)(R,"data-dhx-col-id")||(0,u.locate)(R,"data-dhx-id"))||{},row:E.data.getItem((0,u.locate)(R,"data-dhx-id"))||{}}},M,E._htmlEvents[A])}return(E.config.dragMode||E.config.dragItem)&&(a.dragManager.setItem(E._uid,E),E.config.dragItem||(E.config.dragItem="row"),E.config.dragMode||(E.config.dragMode="both")),E._init(),E.config.columns&&E._parseColumns(!0),E._canDataParse()&&E.data.parse(E.config.data),E.selection=new o.Selection(E,{disabled:!E.config.selection},E.events,E._uid),E.mount(I,E._createView()),(0,d.awaitRedraw)().then(function(){E.config.keyNavigation&&(E.keyManager=new l.KeyManager(function(R,W){return!(W!==E._uid||!E.events.fire(c.GridEvents.beforeKeyDown,[R]))&&(E.events.fire(c.GridEvents.afterKeyDown,[R]),!0)}),E._initHotKey(),O.focusManager.setFocusId(E._uid))}),F.autoEmptyRow&&E.data.getLength()===0&&(E._addEmptyRow(),E.paint()),E}return w($,j),$.prototype.destructor=function(){this._destructed=!0,this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events&&this.events.clear(),this._events&&this._events.clear(),this.export=this.content=this.selection=null,this._activeFilters=this._filterData=this._scroll=this._touch=this._htmlEvents=this._hiddenFilters=null,this.unmount()},$.prototype.setColumns=function(I){var F=this;this._destroyContent(),this.config.columns=I,this._parseColumns(!0),(0,t.isAutoWidth)(this.config)&&this._applyAutoWidth(),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this._normalizeSpans(),this.paint(),this.config.keyNavigation&&(0,d.awaitRedraw)().then(function(){F._initHotKey(!0),F.paint()})},$.prototype.addRowCss=function(I,F){var E=this.data.getItem(I),V=E.$css||"";V.match(new RegExp(F,"g"))||(E.$css=V+" ".concat(F),this.paint())},$.prototype.removeRowCss=function(I,F){var E=this.data.getItem(I),V=E.$css?E.$css.replace(F,""):"";E.$css=V,this.paint()},$.prototype.addCellCss=function(I,F,E){var V=this.getColumn(F);if(V){V.$cellCss=V.$cellCss||{};var z=V.$cellCss[I];if(z){var X=z.match(new RegExp(E,"g"))?"":" ".concat(E);V.$cellCss[I]+=X}else this.data.getItem(I)&&(V.$cellCss[I]="".concat(E," "));this.paint()}},$.prototype.removeCellCss=function(I,F,E){var V=this.getColumn(F);V&&(V.$cellCss[I]?(V.$cellCss[I]=V.$cellCss[I].replace(E,""),this.paint()):this.data.getItem(I)&&(V.$cellCss[I]=""))},$.prototype.showColumn=function(I){var F=this.getColumn(I);if(F&&F.hidden&&this.events.fire(c.GridEvents.beforeColumnShow,[F])){F.hidden=!1,this.config.$totalWidth+=F.$width,this._parseColumns(),this.config.data=this._prepareData(this.data);var E=this._hiddenFilters&&this._hiddenFilters[F.id];E&&(this._activeFilters[F.id]=E,delete this._hiddenFilters[F.id],this._checkFilters(),this._checkSelectFilterValue()),this._normalizeSpans(),this.paint(),this.events.fire(c.GridEvents.afterColumnShow,[F])}},$.prototype.hideColumn=function(I){var F=this.getColumn(I);if(F&&!F.hidden&&this.events.fire(c.GridEvents.beforeColumnHide,[F])){F.hidden=!0,this.config.$totalWidth-=F.$width,this._parseColumns(),this.config.data=this._prepareData(this.data);var E=this._activeFilters&&this._activeFilters[F.id];E&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[F.id]=E,delete this._activeFilters[F.id],this._checkFilters()),this._normalizeSpans(),this.paint(),this.events.fire(c.GridEvents.afterColumnHide,[F])}},$.prototype.isColumnHidden=function(I){var F=this.getColumn(I);if(F)return!!F.hidden},$.prototype.showRow=function(I){if((0,s.isDefined)(I)){var F=I.toString(),E=this.data.getItem(F);E&&E.hidden&&this.events.fire(c.GridEvents.beforeRowShow,[E])&&(this.data.update(F,{hidden:!1}),this._checkFilters(!0),this.paint(),this.events.fire(c.GridEvents.afterRowShow,[E]))}},$.prototype.hideRow=function(I){if((0,s.isDefined)(I)){var F=I.toString(),E=this.data.getItem(F);E&&this.events.fire(c.GridEvents.beforeRowHide,[E])&&(this.data.update(F,{hidden:!0}),this._checkFilters(!0),this._checkSelectFilterValue(),this.paint(),this.events.fire(c.GridEvents.afterRowHide,[E]))}},$.prototype.isRowHidden=function(I){if((0,s.isDefined)(I)){var F=this.data.getItem(I.toString());return F?!!F.hidden:void 0}},$.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},$.prototype.scroll=function(I,F){var E=this.getRootView().refs.grid_body.el.querySelector(".scroll-view")||this.getRootView().refs.grid_body.el;E.scrollLeft=!I&&I!==0||typeof I!="number"?E.scrollLeft:I,E.scrollTop=!F&&F!==0||typeof F!="number"?E.scrollTop:F,this.paint()},$.prototype.scrollTo=function(I,F){var E=this.selection.getCell(),V=this.config.columns.filter(function(ct){return!ct.hidden}),z=(0,s.findIndex)(V,function(ct){return ct.id==F}),X=E?E.column:this.config.columns[0],Y=(0,s.findIndex)(V,function(ct){return ct.id==X.id}),U=this.config.leftSplit?(0,t.getTotalWidth)(V.slice(0,this.config.leftSplit)):0,A=(0,t.getTotalWidth)(V.slice(0,z))-(z-Y<0?U:0),M=this.data.getRawData(0,-1),R=(0,s.findIndex)(M,function(ct){return ct.id==I}),W=(0,t.getTotalHeight)(M.slice(0,R)),Q=this.getScrollState(),Z=this.config.$width+Q.x,B=this.config.$height+Q.y-this.config.$headerHeight,K=W-Q.y-M[R].$height,J=A-Q.x-V[z].$width,tt=W+2*M[R].$height+18-B,nt=A+2*V[z].$width+18-Z,rt=K>0&&tt<0?0:K<0?K:tt,lt=J>0&&nt<0?0:J<0?J:nt;this.scroll(lt+Q.x,rt+Q.y)},$.prototype.adjustColumnWidth=function(I,F){F===void 0&&(F=!0);var E=this.config.columns.filter(function(X){return!X.hidden}),V=E.filter(function(X){return X.id===I}),z=this._adjustColumnsWidth({rows:this.config.data,cols:V,totalCols:E,adjust:F});this.config.$totalWidth=E.reduce(function(X,Y){if(z[Y.id]){Y.$fixed=!0;var U=Y.maxWidth,A=Y.minWidth,M=z[Y.id];Y.$width=M,U&&M>U&&(Y.$width=U),A&&Y.$width<A&&(Y.$width=A)}return X+Y.$width},0),this.paint()},$.prototype.getCellRect=function(I,F){var E=this.config.columns.filter(function(U){return!U.hidden}),V=this.data.getRawData(0,-1),z=this.getSpan(I,F),X=(0,s.findIndex)(E,function(U){return U.id==(z?z.column:F)}),Y=(0,s.findIndex)(V,function(U){return U.id==(z?z.row:I)});return{x:(0,t.getTotalWidth)(E.slice(0,X)),y:(0,t.getTotalHeight)(V.slice(0,Y)),height:z!=null&&z.rowspan?(0,e.getHeight)(V,z.rowspan,Y):V[Y]?V[Y].$height:0,width:z!=null&&z.colspan?(0,e.getWidth)(this.config.columns,z.colspan,(0,s.findIndex)(this.config.columns,function(U){return U.id===z.column})):E[X]?E[X].$width:0}},$.prototype.getColumn=function(I){for(var F,E=0,V=(F=this.config)===null||F===void 0?void 0:F.columns;E<V.length;E++){var z=V[E];if(z.id==I)return z}},$.prototype.addSpan=function(I){this.config.spans=this.config.spans||[];var F=(0,s.findIndex)(this.config.spans,function(E){return"".concat(E.row)==="".concat(I.row)&&"".concat(E.column)==="".concat(I.column)});F>=0?this.config.spans[F]=I:(this.config.spans.push((0,P.normalizeSpan)(I,this.config,this.data)),this._checkMarks(),this.paint())},$.prototype.getSpan=function(I,F){var E,V=this;if(this.config.spans){var z=this.data.getIndex(I.toString()),X=this.config.columns.findIndex(function(U){return U.id===F}),Y=(0,s.findIndex)(this.config.spans,function(U){var A=V.data.getIndex(U.row.toString()),M=V.config.columns.findIndex(function(B){return B.id===U.column}),R=A,W=U.rowspan?A+U.rowspan:A+1,Q=M,Z=U.colspan?M+U.colspan:M+1;return z>=R&&z<W&&X>=Q&&X<Z});return(E=this.config)===null||E===void 0?void 0:E.spans[Y]}},$.prototype.removeSpan=function(I,F){if(this.config.spans){var E=(0,s.findIndex)(this.config.spans,function(V){return"".concat(V.row)=="".concat(I)&&"".concat(V.column)=="".concat(F)});this.config.spans.splice(E,1),this.paint()}},$.prototype.editCell=function(I,F,E){var V,z=this.data.getItem(I),X=this.getColumn(F);if(z&&X){var Y=X.editorType,U=this.getSpan(z.id,X.id);if(E||(E=this.config.autoHeight&&X.type!=="number"?"textarea":"input",X.type==="date"&&(E="datePicker"),X.type==="boolean"&&(E="checkbox"),Y&&(E=Y),(0,s.isDefined)(U==null?void 0:U.text)&&(E=this.config.autoHeight?"textarea":"input")),X.type==="number"&&!((0,s.isDefined)(U==null?void 0:U.text)&&["input","textarea"].includes(E))&&!["input","select","combobox"].includes(E))return;this.events.fire(c.GridEvents.beforeEditStart,[z,X,E])&&(((V=this.config.$editable)===null||V===void 0?void 0:V.editor)||this.config.$editable&&this.config.$editable.row===I&&this.config.$editable.col===F&&this.config.$editable.editorType===E||(this.config.$editable={row:z.id,col:X.id,isSpan:!!U,editorType:E},this.selection.config.disabled||this.selection.setCell(I.toString(),F.toString()),this.paint(),this.events.fire(c.GridEvents.afterEditStart,[z,X,E])))}else(0,a.dhxWarning)("item not found")},$.prototype.editEnd=function(I){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(I)},$.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},$.prototype.getHeaderFilter=function(I){var F=this,E=this.getColumn(I);if(E){var V=null;return E.header.forEach(function(z){z.content&&(V=F.content[z.content].element[I])}),V}},$.prototype.edit=function(I,F,E){this.editCell(I,F,E)},$.prototype.paint=function(){var I=this.config.hotkeys?Object.keys(this.config.hotkeys).length:0;!this.keyManager||this.keyManager.getKeyStorageLength()-I||this._initHotKey(!0),j.prototype.paint.call(this)},$.prototype._createView=function(){var I=this;return(0,d.create)({render:function(F,E){return I._destructed?(0,d.el)("div"):(0,f.render)(F,E,I._htmlEvents,I.selection,I._uid)},hooks:this._initHooks()},this)},$.prototype._parseColumns=function(I){I===void 0&&(I=!1);var F=this.config.columns.filter(function(E){return!E.hidden});this.normalizeColumns({config:this.config,columns:F,configChanged:I}),(0,n.countColumns)(this.config,F)},$.prototype.normalizeColumns=function(I){var F,E,V,z=this,X=I.config,Y=I.columns,U=I.configChanged;X.$headerHeightMap=[],X.$footerHeightMap=[],X.$headerHeight=X.$footerHeight=0;for(var A=0,M=Y;A<M.length;A++){(B=M[A]).htmlEnable=(F=B.htmlEnable)!==null&&F!==void 0?F:X.htmlEnable,B.$cellCss=B.$cellCss||{},(0,n.normalizeArray)(B,"header"),(0,n.normalizeArray)(B,"footer"),B.minWidth&&B.minWidth<20&&(B.minWidth=20),B.maxWidth&&B.maxWidth<20&&(B.maxWidth=20);var R=B.minWidth||100;B.width&&(R=(R=B.maxWidth&&B.minWidth?B.width>=B.minWidth&&B.width<=B.maxWidth?B.width:B.width>=B.maxWidth?B.maxWidth:B.minWidth:B.maxWidth?B.width<=B.maxWidth?B.width:B.maxWidth>100?B.maxWidth:100:B.minWidth?B.width>=B.minWidth?B.width:B.minWidth:B.width)<20?20:R),B.$width=B.$width&&!U?B.$width:R,B.$width>B.maxWidth&&(B.$width=B.maxWidth),B.$width<B.minWidth&&(B.$width=B.minWidth)}for(var W=function(K){if(!((E=K.header)===null||E===void 0)&&E.length){var J=0;K.header.forEach(function(nt,rt){(J=X.headerAutoHeight?z.getNormalizeContentHeight(nt,K,X):X.headerRowHeight)>(X.$headerHeightMap[rt]||0)&&(X.$headerHeightMap[rt]=Math.max(J,X.headerRowHeight))})}if(!((V=K.footer)===null||V===void 0)&&V.length){var tt=0;K.footer.forEach(function(nt,rt){(tt=X.footerAutoHeight?z.getNormalizeContentHeight(nt,K,X):X.footerRowHeight)>(X.$footerHeightMap[rt]||0)&&(X.$footerHeightMap[rt]=Math.max(tt,X.footerRowHeight))})}},Q=0,Z=Y;Q<Z.length;Q++){var B;W(B=Z[Q])}X.$headerHeight=X.$headerHeightMap.reduce(function(K,J){return K+J},0),X.$footerHeight=X.$footerHeightMap.reduce(function(K,J){return K+J},0)},$.prototype.getNormalizeContentHeight=function(I,F,E){return this.config.footerRowHeight},$.prototype._parseData=function(){this._detectColsTypes(),this.config.data=this.data.map(function(I){return I}),this.config.data=this._prepareData(this.data),this._checkMarks(),this._applyLocalFilter(),this._checkFilters(),this._render()},$.prototype._createCollection=function(I){this.data=new a.DataCollection({prep:I},this.events)},$.prototype._getRowIndex=function(I){return this.data.getIndex(I)},$.prototype._setEventHandlers=function(){var I=this,F=function(E){var V=E.source,z=E.target,X=_(E,["source","target"]);V!=null&&V.length&&V.map(function(Y){return I.data.exists(Y)&&I.data.update(Y,X)}),I.data.exists(z)&&I.data.update(z,X)};this.data.events.on(a.DataEvents.load,function(){I._applyLocalFilter(!0),I._parseData(),I.config.autoEmptyRow&&I._addEmptyRow(),I.config.data instanceof a.DataCollection?(0,d.awaitRedraw)().then(function(){return I._normalizeSpans()}):I._normalizeSpans()}),this.data.events.on(a.DataEvents.change,function(E,V,z){if(V!=="load")if(V!=="setPage"){if(V==="sort")z.dir?I._sortDir=z.dir:I._sortBy===z.by?I._sortDir=I._sortDir==="asc"?"desc":"asc":I._sortDir="asc",I._sortBy=z.by;else if(V==="add"||V==="update"||V==="remove"){if((0,s.isId)(E)&&V==="remove"){var X=I.selection.getCells().find(function(U){return U.row.id===E});X&&I.selection.removeCell(X.row.id,X.column.id)}I.config.data=I._prepareData(I.data)}else(0,a.isTreeCollection)(I.data)&&(I.config.data=I._prepareData(I.data)),I._adjustColumns();if((0,s.isId)(E)&&(I._checkFilters(),I._checkSelectFilterValue()),I._detectColsTypes(),I._removeMarks(),I._checkMarks(),I.config.autoEmptyRow&&(!I._activeFilters||(0,s.isEmptyObj)(I._activeFilters))){var Y=I.data.find({by:"$emptyRow",match:!0});if(Y){if(Y.id===E)return;I.data.move(Y.id,I.data.getLength()-1)}else I._addEmptyRow()}switch(V){case"add":case"remove":case"sort":I._normalizeSpans()}I._render()}else(0,d.awaitRedraw)().then(function(){var U=I.config.columns.find(function(A){return A.hidden!==!0});I.scrollTo(I.data.getId(z[0]).toString(),U.id.toString()),I._render()})}),this.data.events.on(a.DataEvents.filter,function(E){E||I.data.getRawFilters({permanent:!0})||I._applyLocalFilter(),!E||(0,a.isOnlyPermanentFilters)(E)?(I._filterData=I.data.map(function(V){return V})||[],I._setUniqueData(),I._clearFilterValue()):I._checkFilters(),I._removeMarks(),I._checkMarks(),I._normalizeSpans(),I.paint()}),this.data.events.on(a.DataEvents.removeAll,function(){I._hiddenFilters={},I.config.columns.map(function(E){E.header.map(function(V){!V.content||V.content!=="selectFilter"&&V.content!=="comboFilter"||(E.$uniqueData=[])})}),(0,s.isEmptyObj)(I._activeFilters)||I.data.resetFilter(),I._clearFilterValue(!0)}),this.events.on(a.DragEvents.beforeDrag,function(E,V){return I.data.getItem(E.start)?I.events.fire(c.GridEvents.beforeRowDrag,[E,V]):I.config.dragItem==="column"||I.config.dragItem==="both"?I.events.fire(c.GridEvents.beforeColumnDrag,[E,V]):void 0}),this.events.on(a.DragEvents.dragStart,function(E,V){var z=E.source,X=E.target,Y=E.start;F({source:z,target:X,$dragtarget:!0}),I.data.getItem(Y)?(I.events.fire(c.GridEvents.dragRowStart,[E,V]),I._autoScroll("vertical")):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||(I.events.fire(c.GridEvents.dragColumnStart,[E,V]),I._autoScroll("horizontal"))}),this.events.on(a.DragEvents.dragIn,function(E,V){I.data.getItem(E.start)?I.events.fire(c.GridEvents.dragRowIn,[E,V]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(c.GridEvents.dragColumnIn,[E,V])}),this.events.on(a.DragEvents.dragOut,function(E,V){I.data.getItem(E.start)?I.events.fire(c.GridEvents.dragRowOut,[E,V]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(c.GridEvents.dragColumnOut,[E,V])}),this.events.on(a.DragEvents.canDrop,function(E,V){var z=E,X=z.source,Y=z.target,U=z.dragItem;delete E.dragItem,F({source:X,target:Y,$drophere:!0}),U==="row"?I.events.fire(c.GridEvents.canRowDrop,[E,V]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(c.GridEvents.canColumnDrop,[E,V])}),this.events.on(a.DragEvents.cancelDrop,function(E,V){var z=E.source,X=E.target,Y=E.start;F({source:z,target:X,$drophere:void 0,$dragtarget:void 0}),I.data.getItem(Y)?I.events.fire(c.GridEvents.cancelRowDrop,[E,V]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(c.GridEvents.cancelColumnDrop,[E,V])}),this.events.on(a.DragEvents.beforeDrop,function(E,V){return I.config.dragItem!=="row"||I.config.dragMode!=="both"&&I.config.dragMode!=="target"?I.config.dragItem==="column"||I.config.dragItem==="both"?I.events.fire(c.GridEvents.beforeColumnDrop,[E,V]):void 0:I.events.fire(c.GridEvents.beforeRowDrop,[E,V])}),this.events.on(a.DragEvents.afterDrop,function(E,V){var z,X;if(I.data.getItem(E.start)){var Y=E.source;if(Y.some(function(nt){return nt==E.target}))return;for(var U=I.data.getItem(E.start),A=0,M=I.config.columns;A<M.length;A++){var R=M[A];U[R.id]===void 0&&I.data.update(U.id,((z={})[R.id]=null,z),!0)}var W=I.data.getInitialData(),Q=W==null?void 0:W.findIndex(function(nt){return nt.id==E.start}),Z=W==null?void 0:W.findIndex(function(nt){return nt.id==E.target});if(Q>-1&&Z>-1)if(((X=E.source)===null||X===void 0?void 0:X.length)>1){for(var B=[],K=function(nt){var rt=W==null?void 0:W.findIndex(function(ct){return ct.id==nt}),lt=W==null?void 0:W.splice(rt,1)[0];B.push(lt)},J=0,tt=Y;J<tt.length;J++)K(tt[J]);Z=W==null?void 0:W.findIndex(function(nt){return nt.id==E.target}),Z>0&&++Z,W==null||W.splice.apply(W,h([Z,0],B,!1))}else W==null||W.splice(Z,0,W==null?void 0:W.splice(Q,1)[0]);I.config.data=I._prepareData(W||I.data.map(function(nt){return nt})),I.data.parse(I.config.data),I._checkFilters(),I.paint(),I.events.fire(c.GridEvents.afterRowDrop,[E,V])}else I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(c.GridEvents.afterColumnDrop,[E,V])}),this.events.on(a.DragEvents.afterDrag,function(E,V){var z=E.source,X=E.target,Y=E.start;F({source:z,target:X,$dragtarget:void 0}),I.data.getItem(Y)?I.events.fire(c.GridEvents.afterRowDrag,[E,V]):I.config.dragItem!=="column"&&I.config.dragItem!=="both"||I.events.fire(c.GridEvents.afterColumnDrag,[E,V]),I.config.data=I._prepareData(I.data instanceof Array?I.data.map(function(U){return U}):I.data.getInitialData()||I.data),I.data.parse(I.config.data),I._normalizeSpans()}),this.events.on(c.GridEvents.cellMouseDown,function(E,V,z){z.targetTouches?(I._touch.timer=setTimeout(function(){I._dragStart(z)},I._touch.duration),I._touch.timeStamp?(I._touch.dblDuration>=I._touch.timeStamp-+z.timeStamp.toFixed()&&((V.editable!==!1&&I.config.editable||V.editable)&&I.editCell(E.id,V.id,V.editorType),z.preventDefault(),I.events.fire(c.GridEvents.cellDblClick,[E,V,z])),I._touch.timeStamp=null):I._touch.timeStamp=+z.timeStamp.toFixed(),setTimeout(function(){I._touch.timeStamp=null},I._touch.dblDuration)):I._dragStart(z)}),this._events.on(c.GridSystemEvents.cellTouchMove,function(E,V,z){I._touch.start&&z.preventDefault(),I._clearTouchTimer()}),this._events.on(c.GridSystemEvents.cellTouchEnd,function(){I._touch.start=!1,I._clearTouchTimer()}),this.events.on(c.GridEvents.filterChange,function(E,V,z,X){var Y,U,A;if(I.events.fire(c.GridEvents.beforeFilter,[E,V])){if(I.config.autoEmptyRow){var M=I.data.find({by:"$emptyRow",match:!0});M&&I.data.remove(M.id)}I._activeFilters||(I._activeFilters={});var R=I.getColumn(V),W=R.header.filter(function(Z){return Z.content===z&&Z.customFilter!==void 0})[0];if(z==="comboFilter"&&E!==void 0||z!=="comboFilter"&&E!==""){var Q=(0,n.getEditorOptions)(R);R.editorType!=="combobox"&&R.editorType!=="select"&&R.editorType!=="multiselect"||!Q||(E=Array.isArray(E)?E.map(function(Z){var B;return((B=Q.find(function(K){return typeof K=="string"?K===Z:K.value===Z}))===null||B===void 0?void 0:B.id)||Z}):(U=(Y=Q.find(function(Z){return typeof Z=="string"?Z===E:Z.value===E}))===null||Y===void 0?void 0:Y.id)!==null&&U!==void 0?U:E),I._activeFilters[V]={by:V,match:E,compare:(A=W==null?void 0:W.customFilter)!==null&&A!==void 0?A:function(Z){var B=I.getColumn(Z);return function(K,J,tt,nt){return I.content[z].match({val:K,match:J,obj:tt,multi:nt,col:B})}}(V),multi:(R==null?void 0:R.editorType)==="multiselect"}}else delete I._activeFilters[V];X||I.data.filter(I._activeFilters)}}),this.events.on(c.GridEvents.scroll,function(E){I._scroll={top:E.y,left:E.x},I.editEnd(),I.paint()}),this.events.on(c.GridEvents.cellDblClick,function(E,V,z){(0,u.locateNodeByClassName)(z,"dhx_boolean-cell")||E.hasOwnProperty("$groupName")||(V.editable!==!1&&I.config.editable||V.editable)&&I.editCell(E.id,V.id,V.editorType)}),this.events.on(c.GridEvents.afterEditEnd,function(E,V,z){var X,Y;if(!(!((Y=I.config.$editable)===null||Y===void 0)&&Y.editor)||I.config.$editable.col===z.id&&I.config.$editable.row===V.id){var U,A;I.config.$editable?(U=I.config.$editable.row,A=I.config.$editable.col):(U=V.id,A=z.id);var M=I.getSpan(U,A);if((0,s.isDefined)(M==null?void 0:M.text)&&E!==void 0)M.text=E.toString();else{var R=I.data.getItem(U);delete R.$emptyRow,E!==void 0&&I.data.update(U,m(m({},R),((X={})[A]=E,X)))}I.config.$editable=null,I.paint()}}),this.events.on(c.GridEvents.headerCellMouseDown,function(E,V){var z=V.target.getAttribute("dhx_resized");z&&I.events.fire(c.GridEvents.beforeResizeStart,[E,V])&&(0,k.startResize)(I,z.toString(),V,function(){I.paint(),I.config.$resizing=null,I.events.fire(c.GridEvents.afterResizeEnd,[E,V])}),V.targetTouches&&(I._touch.timeStamp?(I._touch.dblDuration>=I._touch.timeStamp-+V.timeStamp.toFixed()&&(V.preventDefault(),I.events.fire(c.GridEvents.headerCellDblClick,[E,V])),I._touch.timeStamp=null):I._touch.timeStamp=+V.timeStamp.toFixed(),setTimeout(function(){I._touch.timeStamp=null},I._touch.dblDuration))}),this.events.on(c.GridEvents.footerCellDblClick,function(E,V){V.targetTouches&&(I._touch.timeStamp?(I._touch.dblDuration>=I._touch.timeStamp-+V.timeStamp.toFixed()&&(V.preventDefault(),I.events.fire(c.GridEvents.footerCellDblClick,[E,V])),I._touch.timeStamp=null):I._touch.timeStamp=+V.timeStamp.toFixed(),setTimeout(function(){I._touch.timeStamp=null},I._touch.dblDuration))}),this.events.on(c.GridEvents.resize,function(){return I._parseColumns()}),this.events.on(c.GridEvents.afterResizeEnd,function(E){var V;I.config.columns=(V=I.config.columns)===null||V===void 0?void 0:V.map(function(z){return z.id==E.id&&(z.width=E.$width),z}),I._parseColumns()})},$.prototype._addEmptyRow=function(){var I=this.data.getId(this.data.getLength()-1),F=this.data.getItem(I),E=this.config.columns.filter(function(V){return!V.hidden});(0,t.isRowEmpty)(F)||this.data.add(E.reduce(function(V,z){return V[z.id]="",V},{$emptyRow:!0}))},$.prototype._sort=function(I,F,E){var V=this;F||(F=this._sortBy===I&&this._sortDir==="asc"?"desc":"asc"),this.data.sort({by:I,dir:F,as:E!=null?E:function(z){var X=V.getColumn(I);return z&&X.type==="date"?typeof z=="string"?(0,v.stringToDate)(z,X.format).getTime():z.getTime():z?"".concat(z):""}}),this.events.fire(c.GridEvents.afterSort,[this.getColumn(I),F])},$.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},$.prototype._checkFilters=function(I){if(I===void 0&&(I=!1),(0,s.isEmptyObj)(this._activeFilters))I&&this.data.resetFilter(),this._filterData=this.data.map(function(E){return E})||[],this._setUniqueData();else{var F=this.data.getRawFilters({permanent:!0});this.data.filter(F,{$restore:!0},!0),this._filterData=this.data.map(function(E){return E})||[],this._setUniqueData(),this.data.filter(null,{$restore:!0},!0),this._filterData=this.data.map(function(E){return E})||[],this._setUniqueData(!0)}},$.prototype._setUniqueData=function(I){var F=this;I===void 0&&(I=!1),this._filterData&&this.config.columns.forEach(function(E){E.header.forEach(function(V){if(V.content&&(V.content==="selectFilter"||V.content==="comboFilter")){var z=E.header.some(function(A){var M;return(M=A.filterConfig)===null||M===void 0?void 0:M.multiselection}),X=E.header.some(function(A){var M;return(M=A.filterConfig)===null||M===void 0?void 0:M.filter});if(!I||I&&!z&&!X){var Y=(0,n.getUnique)(F._filterData,E.id,z),U=(0,n.getEditorOptions)(E);E.editorType!=="combobox"&&E.editorType!=="select"&&E.editorType!=="multiselect"||!U||(Y=Y.map(function(A){var M=U.find(function(R){return typeof R=="string"?A===R:A===R.id});return M&&typeof M!="string"?M.value:A})),Y=E.type!=="string"?Array.from(new Set(Y.map(function(A){return(0,n.toFormat)(A,E.type,E.format)}))):Y,I?E.$activeFilterData=Y:(E.$uniqueData=Y,E.$activeFilterData&&delete E.$activeFilterData)}}})})},$.prototype._checkSelectFilterValue=function(){var I,F=(I=this.content)===null||I===void 0?void 0:I.selectFilter;if(F)for(var E in F.value){var V=this.getColumn(E),z=F.value[E];V.hidden||!z||V.$uniqueData.includes(z)||F.element[E].clear()}},$.prototype._clearFilterValue=function(I){var F=this;I===void 0&&(I=!1),["selectFilter","inputFilter"].map(function(E){var V;return(V=F.content)===null||V===void 0?void 0:V[E]}).filter(function(E){return E}).forEach(function(E){for(var V in E.value)!E.value[V]||!I&&F.getColumn(V).hidden||E.element[V].clear(!0)})},$.prototype._adjustColumns=function(){var I=this;if(typeof this.config.adjust=="boolean"||this.config.adjust==="data"||this.config.adjust==="header"||this.config.adjust==="footer"){if(!(V=this.config.columns.filter(function(z){return!z.hidden})).length)return;var F=this.config.data&&this.config.data.length?this.config.data:this.data.map(function(z){return z}),E=this._adjustColumnsWidth({rows:F,cols:V,totalCols:V});this.config.$totalWidth=V.reduce(function(z,X){X.$fixed=!0;var Y=X.maxWidth,U=X.minWidth,A=E[X.id];return X.$width=A,Y&&A>Y&&(X.$width=Y),U&&X.$width<U&&(X.$width=U),z+X.$width},0)}else{var V;if(!(V=this.config.columns.filter(function(z){return!z.hidden&&z.adjust})).length)return;V.forEach(function(z){I.adjustColumnWidth(z.id,z.adjust)})}},$.prototype._prepareData=function(I){var F=this;return(this.config.autoHeight||this.config.headerAutoHeight||this.config.footerAutoHeight)&&(this.config.autoHeight=this.config.headerAutoHeight=this.config.footerAutoHeight=!1),this._normalizeDataType(),this._adjustColumns(),I.map(function(E){return E.$height=E.height||F.config.rowHeight,E})},$.prototype._adjustColumnsWidth=function(I){var F,E,V,z,X=this,Y=I.rows,U=I.cols,A=I.adjust,M=A===void 0?this.config.adjust:A,R={};if(M==="header"||M===!0){var W=U.filter(function(ht){return ht.header});if(tt=(0,n.getMaxColsWidth)(this._prepareColumnData(W,"header"),W,{font:"bold 14.4px Arial"},"header"))for(var Q=0,Z=Object.entries(tt);Q<Z.length;Q++){var B=Z[Q],K=B[0],J=B[1];R=Object.assign(R,((F={})[K]=+J+24+(z=this.getColumn(K),(0,t.isSortable)(X.config,z)?16:0),F))}}if(M==="footer"||M===!0){var tt;if(W=U.filter(function(ht){return ht.footer}),tt=(0,n.getMaxColsWidth)(this._prepareColumnData(W,"footer"),W,{font:"bold 14.4px Arial"},"footer"))for(var nt=0,rt=Object.entries(tt);nt<rt.length;nt++){var lt=rt[nt];K=lt[0],J=lt[1],(R[K]&&R[K]<+J+24||!R[K])&&(R=Object.assign(R,((E={})[K]=+J+24,E)))}}if((M==="data"||M===!0)&&(tt=(0,n.getMaxColsWidth)(Y,U,{font:"normal 14.4px Arial"},"data")))for(var ct=0,ut=Object.entries(tt);ct<ut.length;ct++){var at=ut[ct];K=at[0],J=at[1],(R[K]&&R[K]<+J+24||!R[K])&&(R=Object.assign(R,((V={})[K]=+J+24,V)))}return R},$.prototype._prepareColumnData=function(I,F){for(var E,V,z,X,Y,U,A,M,R,W,Q,Z,B,K=[],J=0;J<I.length;J++){for(var tt=[],nt=0;nt<((V=I[J])===null||V===void 0?void 0:V[F].length);nt++){var rt={};if(!((X=(z=I[J])===null||z===void 0?void 0:z[F][nt])===null||X===void 0)&&X.text){var lt=(U=(Y=I[J])===null||Y===void 0?void 0:Y[F][nt])===null||U===void 0?void 0:U.htmlEnable;rt[I[J].id]=((M=(A=I[J])===null||A===void 0?void 0:A[F][nt])===null||M===void 0?void 0:M.text)||"",lt&&(rt[I[J].id]=(0,t.removeHTMLTags)(rt[I[J].id])),tt.push(rt)}else if(!((W=(R=I[J])===null||R===void 0?void 0:R[F][nt])===null||W===void 0)&&W.content){var ct=(Q=this.content)===null||Q===void 0?void 0:Q[(B=(Z=I[J])===null||Z===void 0?void 0:Z[F][nt])===null||B===void 0?void 0:B.content];typeof ct.calculate=="function"?rt[I[J].id]=(ct==null?void 0:ct.toHtml(this.getColumn(I[J].id),m(m({},this.config),{datacollection:this.data})))||"":rt[I[J].id]="",tt.push(rt)}}for(var ut=0;ut<tt.length;ut++)for(var at=0,ht=Object.entries(tt[ut]);at<ht.length;at++){var pt=ht[at],gt=pt[0],vt=pt[1];K[ut]=m({},K[ut])||{},K[ut]=Object.assign(K[ut],((E={})[gt]=vt,E))}}return K},$.prototype._dragStart=function(I){if(this.config.dragMode&&(this.config.dragItem==="row"||this.config.dragItem==="both")&&!this.config.$editable){var F=this.getColumn(I.target.getAttribute("data-dhx-col-id"));if((F==null?void 0:F.draggable)===!1)return;var E=(0,u.locateNode)(I,"data-dhx-id"),V=E&&E.getAttribute("data-dhx-id");return I.targetTouches&&(this._touch.start=!0),a.dragManager.onMouseDown(I,[V],[this._getRowGhost([V])])}},$.prototype._getRowGhost=function(I){var F=this._container||(0,u.toNode)(this._uid),E=I.map(function(z){return F.querySelector('.dhx_grid-row[data-dhx-id="'.concat(z,'"]'))}),V=document.createElement("div");return E.forEach(function(z){return z&&V.appendChild(z.cloneNode(!0))}),V},$.prototype._initHooks=function(){var I=this;return{didMount:function(){I._canDataParse(!0)&&(I._container||I._applyAutoWidth(),I.data.parse(I.config.data)),I.config.autoWidth&&I._parseColumns()}}},$.prototype._normalizeDataType=function(){var I=this,F=this.config.columns.reduce(function(E,V){return V.type==="number"&&E.push(V),E},[]);F.length&&this.data.forEach(function(E){for(var V,z=0,X=F;z<X.length;z++){var Y=X[z],U=(0,n.getValueForNumberColumn)(Y,E[Y.id]);if(Number.isNaN(U))throw new Error("Incorrect data in column with type 'number', see docs: https://docs.dhtmlx.com/suite/grid/api/api_gridcolumn_properties/");E[Y.id]!==U&&I.data.update(E.id,((V={})[Y.id]=U,V),!0)}})},$.prototype._applyLocalFilter=function(I){I===void 0&&(I=!1),I?this.data.filter(function(F){return F},{$local:!0},!0):this.data.filter(function(F){return!F.hidden},{$local:!0,permanent:!0},!0)},$.prototype._normalizeSpans=function(){var I,F=this;this.config.spans=(I=this.config.spans)===null||I===void 0?void 0:I.map(function(E){return(0,P.normalizeSpan)(E,F.config,F.data)})},$.prototype._canDataParse=function(I){var F;return I===void 0&&(I=!1),!!(((F=this.config.data)===null||F===void 0?void 0:F.length)&&this.config.data instanceof Array&&this.config.columns)&&(this.config.autoWidth&&this.config.autoHeight?I:!I)},$.prototype._init=function(){this.events=new p.EventSystem(this),this._events=new p.EventSystem(this),this._attachDataCollection(),this.export=new i.Exporter("grid",this.version,this),this._setEventHandlers()},$.prototype._attachDataCollection=function(){var I=this;if(this.config.data instanceof a.DataCollection)return this.data=this.config.data,this.data.config.collapsed=this.config.collapsed,void(this.config.data=this.data.serialize());this._createCollection(function(F){return F.spans&&(I.config.spans=F.spans,F=F.data),F})},$.prototype._setMarks=function(I,F){for(var E=[],V=0,z=this.data.map(function(U){return E.push(U[I.id]),{id:U.id,data:U[I.id],row:U}});V<z.length;V++){var X=z[V],Y=F(X.data,E,X.row,I);Y&&(I.$cellCss=I.$cellCss||{},I.$cellCss[X.id]+=" "+Y)}},$.prototype._checkMarks=function(){var I=this;this.config.columns.map(function(F){var E=F.mark;E&&(typeof E=="function"?I._setMarks(F,E):I._setMarks(F,function(V,z){var X=[];z.forEach(function(A){A!=null&&A!==""&&X.push(parseFloat(A))});var Y=(0,s.getMinArrayNumber)(X),U=(0,s.getMaxArrayNumber)(X);return E.max&&U===parseFloat(V)?E.max:!(!E.min||Y!==parseFloat(V))&&E.min}))})},$.prototype._removeMarks=function(){this.config.columns.forEach(function(I){I.mark&&(I.$cellCss={})})},$.prototype._detectColsTypes=function(){this.config.columns.forEach(function(I){return I.type?I:I.format?(I.type="number",I):void(I.type||(I.type="string"))})},$.prototype._destroyContent=function(){for(var I in this.content)I==="comboFilter"&&this.content[I].destroy()},$.prototype._render=function(){this.paint()},$.prototype._initHotKey=function(I){I===void 0&&(I=!1);var F=(0,S.getKeysHandlers)(this);for(var E in F)this.keyManager.exist(E)||this.keyManager.addHotKey(E,F[E]);if(!I)for(var E in this.config.hotkeys)this.keyManager.addHotKey(E,this.config.hotkeys[E])},$.prototype._normalizeConfig=function(I){return Object.keys(I).forEach(function(F){F.startsWith("$")&&delete I[F]}),I},$.prototype._autoScroll=function(I){var F,E,V,z=!((F=this.scrollView)===null||F===void 0)&&F.config.enable?(E=this.getRootNode())===null||E===void 0?void 0:E.querySelector(".scroll-view"):(V=this.getRootNode())===null||V===void 0?void 0:V.querySelector(".dhx_grid-body");if(z){var X=null,Y=z.getBoundingClientRect(),U=Y.top,A=Y.bottom,M=Y.left,R=Y.right,W=Y.height,Q=Y.width,Z=function(K){K==="up"||K==="down"?z.scrollBy(0,K==="up"?-40:40):z.scrollBy(K==="left"?-40:40,0),X=setTimeout(function(){Z(K)},100)},B=function(K){var J=K.clientX,tt=K.clientY;switch(I){case"horizontal":J>R-30&&J<R&&tt>U&&tt<A?X||Z("right"):J>M&&J<M+30&&tt>U&&tt<A?X||Z("left"):X&&(clearTimeout(X),X=null);break;case"vertical":tt>A-30&&tt<A&&J>M&&J<R?X||Z("down"):tt>U&&tt<U+30&&J>M&&J<R?X||Z("up"):X&&(clearTimeout(X),X=null)}};(Q<z.scrollWidth||W<z.scrollHeight)&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",function(){document.removeEventListener("pointermove",B),X&&clearTimeout(X)},{once:!0}))}},$.prototype._applyAutoWidth=function(){var I,F,E=this._container||((I=this.getRootView().node.parent)===null||I===void 0?void 0:I.el);if(E){var V=(0,f.getElementSizes)(E),z=(F=this.scrollView)===null||F===void 0?void 0:F.config.enable;(0,f.applyAutoWidth)(this.config,V,!0,!1,z)}},$}(r.View);g.Grid=T},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(145),g),w(y(78),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Cell=void 0;var _=y(1),h=y(0),d=y(5),p=y(50),u=y(146),s=y(3),l=y(49),r=function(a){function i(n,e){var t=a.call(this,n,e)||this;t._disabled=[];var o=n;return o&&o.isVisible&&(t._parent=o),t._parent&&t._parent.events?t.events=t._parent.events:t.events=new s.EventSystem(t),t.config.full=t.config.full===void 0?Boolean(t.config.header||t.config.collapsable||t.config.headerHeight||t.config.headerIcon||t.config.headerImage):t.config.full,t._afterWindowResized=t._resizedWindow.bind(t),t.id=t.config.id||(0,_.uid)(),t._initHandlers(),t._progress=!!t.config.progressDefault,t._stopProgressDefault=!1,t._isXDirection()&&!e.width&&(e.$autoWidth=!0),t._isXDirection()||e.height||(e.$autoHeight=!0),t}return w(i,a),i.prototype.paint=function(){var n;if(this.isVisible()){var e=this.getRootView();e?e.redraw():(n=this._parent)===null||n===void 0||n.paint()}},i.prototype.isVisible=function(){var n;if(!this._parent)return!(!this._container||!this._container.tagName)||Boolean(this.getRootNode());var e=(n=this._parent.config)===null||n===void 0?void 0:n.activeView;return(!e||e===this.id)&&!this.config.hidden&&(!this._parent||this._parent.isVisible())},i.prototype.hide=function(){this.events.fire(p.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._resetCellsSize(),this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(p.LayoutEvents.afterHide,[this.id]))},i.prototype.show=function(){this.events.fire(p.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&this._parent.config.activeView!==void 0?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this.events.fire(p.LayoutEvents.afterShow,[this.id]))},i.prototype.expand=function(){this.events.fire(p.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(p.LayoutEvents.afterExpand,[this.id]),this.paint())},i.prototype.collapse=function(){this.events.fire(p.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(p.LayoutEvents.afterCollapse,[this.id]),this.paint())},i.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},i.prototype._checkNextSize=function(n){var e=n!=null?n:this._getNextCell();return!!e&&(this._isXDirection()&&e.config.$autoWidth&&e.config.width?(e.config.width=void 0,!0):!this._isXDirection()&&e.config.$autoHeight&&e.config.height?(e.config.height=void 0,!0):!n&&e._checkNextSize())},i.prototype.getParent=function(){return this._parent},i.prototype.destructor=function(){var n;this.events&&this.events.clear(),window.removeEventListener("resize",this._afterWindowResized),this._ui&&this._ui.config&&typeof((n=this._ui)===null||n===void 0?void 0:n.destructor)=="function"&&this._ui.destructor(),this.config=this.events=this.id=this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},i.prototype.getWidget=function(){return this._ui},i.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},i.prototype.attach=function(n,e){return this.config.html=null,typeof n=="object"?this._ui=n:typeof n=="string"?this._ui=new window.dhx[n](null,e):typeof n=="function"&&(n.prototype instanceof d.View?this._ui=new n(null,e):this._ui={getRootView:function(){return n(e)}}),this.paint(),this._ui},i.prototype.attachHTML=function(n){this.config.html=n,this.paint()},i.prototype.detach=function(){this._stopProgressDefault=!1,this._ui=this.config.html=null,this.paint()},i.prototype.progressShow=function(){this.config.progressDefault&&(this._stopProgressDefault=!1),this._progress=!0,this.paint()},i.prototype.progressHide=function(){this.config.progressDefault&&(this._stopProgressDefault=!0),this._progress=!1,this.paint()},i.prototype.isVisibleProgress=function(){return this._progress},i.prototype.toVDOM=function(n){var e,t;if(this.config===null&&(this.config={}),!this.config.hidden){var o,c=this.config.$fieldset,f=this._calculateStyle(),v=(0,_.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",x=this.config.full||this.config.html?f:m(m({},f),v),k=this._checkProgress()?this._getProgressBar():null;if(!this.config.html)if(this._ui){var S=this._ui.getRootView();S.render&&(S=(0,h.inject)(S)),o=[S]}else o=n||null;var O=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?(0,h.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),m(m({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[(0,h.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,P={};if(this.config.on)for(var T in this.config.on)P["on"+T]=this.config.on[T];var j="",$=this.config.cols||this.config.rows;if(this.config.type&&$)switch(this.config.type){case"line":j=" dhx_layout-line";break;case"wide":j=" dhx_layout-wide";break;case"space":j=" dhx_layout-space"}var I=c?(0,h.el)("fieldset.dhx_form-fieldset",{class:this.config.$disabled?" dhx_form-fieldset--disabled":"",style:v,disabled:this.config.$disabled},[(0,h.el)("legend.dhx_form-fieldset-legend",{class:"dhx_form-fieldset-legend--".concat(this.config.labelAlignment||"left")},this.config.label),(0,h.el)(".dhx_layout-cell-content",{class:this._getCss(!1)},[].concat(o))]):this.config.full?[(0,h.el)("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to ".concat(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,h.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,h.el)(".dhx_layout-cell-header__image-wrapper",[(0,h.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,h.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,h.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,h.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,h.el)("div",{style:m(m({},v),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?j:"")},this.config.html?[(0,h.el)("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:o)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?o:[this.config.collapsed?null:(0,h.el)(".dhx_layout-cell-content",{style:v},[(0,h.el)(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})])],F=(0,h.el)("div",m(m(((e={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,e["data-cell-id"]=(t=this.config.id)!==null&&t!==void 0?t:null,e),P),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?j:""),style:c?f:x}),I||k?[].concat(I,k):null);return O?[].concat(F,O):F}},i.prototype._getProgressBar=function(){return(0,h.el)("span",{class:"dhx_progress-bar"},[(0,h.sv)("svg",{viewBox:"25 25 50 50",class:"dhx_spinner"},[(0,h.sv)("circle",{cx:"50",cy:"50",r:"20",class:"path"})])])},i.prototype._getCss=function(n){return"dhx_layout-cell"},i.prototype._initHandlers=function(){var n=this;window.addEventListener("resize",this._afterWindowResized),this._handlers={enterCollapse:function(v){v.keyCode===13&&n._handlers.toggle()},collapse:function(){n.config.collapsable&&n.collapse()},expand:function(){n.config.collapsable&&n.expand()},toggle:function(){n.config.collapsable&&n.toggle()}};var e={left:null,top:null,isActive:!1,range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null,collapsedSize:null},t=function(v,x){if(x===void 0&&(x={x:0,y:0}),e.isActive){var k=e.xLayout,S=v.targetTouches?v.targetTouches[0].clientX:v.clientX+x.x,O=v.targetTouches?v.targetTouches[0].clientY:v.clientY+x.y,P=k?S-e.range.min+window.pageXOffset:O-e.range.min+window.pageYOffset,T=k?"width":"height";P<0?P=e.resizerLength/2:P>e.size&&(P=e.size-e.resizerLength);var j=function(F){var E;return parseInt((E=n.config[F])===null||E===void 0?void 0:E.toString())},$=j(k?"maxWidth":"maxHeight"),I=j(k?"minWidth":"minHeight");(!$||P<$)&&(!I||P>I)&&(n.config[T]=P-e.resizerLength/2+"px",e.nextCell.config[T]=e.size-P-e.resizerLength/2+"px",e.nextCell._getAnyFlexCell()&&(e.nextCell._getAnyFlexCell().config[T]=void 0),n.paint(),n.events.fire(p.LayoutEvents.resize,[n.id]))}},o={},c=function(v){if(e.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),v.targetTouches)for(var x in document.removeEventListener("touchend",c),document.removeEventListener("touchmove",t),o)o[x].node.contentWindow.document.removeEventListener("touchend",c),o[x].node.contentWindow.document.removeEventListener("touchmove",o[x].listener);else for(var x in document.removeEventListener("mouseup",c),document.removeEventListener("mousemove",t),o)o[x].node.contentWindow.document.removeEventListener("mouseup",c),o[x].node.contentWindow.document.removeEventListener("mousemove",o[x].listener);n.events.fire(p.LayoutEvents.afterResizeEnd,[n.id])},f=function(v){if(v.targetTouches&&v.preventDefault(),v.which!==3&&(e.isActive&&c(v),n.events.fire(p.LayoutEvents.beforeResizeStart,[n.id]))){document.body.classList.add("dhx_no-select--resize");var x=n.getCellView(),k=n._getNextCell(),S=k.getCellView(),O=n._getResizerView(),P=x.el.getBoundingClientRect(),T=O.el.getBoundingClientRect(),j=S.el.getBoundingClientRect();e.xLayout=n._isXDirection(),e.left=P.left+window.pageXOffset,e.top=P.top+window.pageYOffset,e.collapsedSize=n._getCollapsedSize(n,k),e.margin=(0,u.getMarginSize)(n.getParent().config),e.range=(0,u.getBlockRange)(P,j,e.xLayout),e.size=e.range.max-e.range.min-e.margin-e.collapsedSize,e.isActive=!0,e.nextCell=k,e.resizerLength=e.xLayout?T.width:T.height}};this._resizerHandlers={onmousedown:function(v){f(v),document.addEventListener("mouseup",c),document.addEventListener("mousemove",t);var x=document.querySelectorAll("iframe");if(x.length)for(var k in x.forEach(function(S,O){var P={x:S.getBoundingClientRect().x,y:S.getBoundingClientRect().y};o[O]={node:S,listener:function(T){return t(T,P)}}}),o)o[k].node.contentWindow.document.addEventListener("mouseup",c),o[k].node.contentWindow.document.addEventListener("mousemove",o[k].listener)},ontouchstart:function(v){f(v),document.addEventListener("touchend",c),document.addEventListener("touchmove",t);var x=document.querySelectorAll("iframe");if(x.length)for(var k in x.forEach(function(S,O){var P={x:S.getBoundingClientRect().x,y:S.getBoundingClientRect().y};o[O]={node:S,listener:function(T){return t(T,P)}}}),o)o[k].node.contentWindow.document.addEventListener("touchend",c),o[k].node.contentWindow.document.addEventListener("touchmove",o[k].listener)},ondragstart:function(v){return v.preventDefault()}}},i.prototype._getCollapsedSize=function(n,e){var t=0,o=this._parent,c=o._cells.indexOf(n),f=o._cells.indexOf(e);if(f-c==1)return t;for(var v=c+1;v<f;v++)o._cells[v].config.collapsed&&(this._isXDirection()?t+=45:t+=Number(o._cells[v].config.headerHeight)||37);return t},i.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},i.prototype._isLastCell=function(){var n=this._parent;return n&&n._cells.indexOf(this)===n._cells.length-1},i.prototype._getNextCell=function(){var n=this._parent,e=n._cells.indexOf(this),t=!this._isLastCell()&&n._cells[e+1];return!!t&&(t.config.hidden||t.config.collapsed?t._getNextCell():t)},i.prototype._getAnyFlexCell=function(n){var e,t=this;n===void 0&&(n=!1);var o=this._parent,c=this._isXDirection()?"$autoWidth":"$autoHeight",f=(e=o==null?void 0:o._cells)===null||e===void 0?void 0:e.filter(function(v){return v.config[c]===!0&&(!!n||v.id!==t.id)});return!!(f!=null&&f.length)&&f[f.length-1]},i.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},i.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},i.prototype._checkProgress=function(){return this instanceof l.Layout?this.isVisibleProgress():(this._calculateProgressState(),(this._progress||this._checkAutoProgress())&&!this.config.collapsed&&!this.config.hidden&&!this._parent.isVisibleProgress())},i.prototype._checkAutoProgress=function(){if(this._stopProgressDefault)return!1;var n=this.config,e=n.html;return n.progressDefault&&!this._ui&&!e},i.prototype._calculateProgressState=function(){if(!this._stopProgressDefault){var n=this.config,e=n.html,t=n.progressDefault;!t||this._ui||e||(this._progress=!0),t&&(this._ui||e)&&(this._progress=!1)}},i.prototype._calculateStyle=function(){var n=this.config;if(n){var e={},t=!1,o=!1;isNaN(Number(n.width))||(n.width=n.width+"px"),isNaN(Number(n.height))||(n.height=n.height+"px"),isNaN(Number(n.minWidth))||(n.minWidth=n.minWidth+"px"),isNaN(Number(n.minHeight))||(n.minHeight=n.minHeight+"px"),isNaN(Number(n.maxWidth))||(n.maxWidth=n.maxWidth+"px"),isNaN(Number(n.maxHeight))||(n.maxHeight=n.maxHeight+"px"),n.width==="content"&&(t=!0),n.height==="content"&&(o=!0);var c=n,f=c.width,v=c.height,x=c.cols,k=c.rows,S=c.minWidth,O=c.minHeight,P=c.maxWidth,T=c.maxHeight,j=c.gravity,$=c.collapsed,I=c.$fixed,F=Math.sign(j)===-1?0:j;typeof j=="boolean"&&(F=j?1:0);var E=typeof j=="boolean"?!j:Math.sign(j)===-1;this._isXDirection()?(I||f||j===void 0&&(S||P))&&(E=!0):(I||v||j===void 0&&(O||T))&&(E=!0);var V=this._checkFullSizeCell(),z=E&&!V?0:V?1:F||1,X=this._isXDirection()?"x":"y";if(S===void 0||$||(e.minWidth=S),O===void 0||$||(e.minHeight=O),P!==void 0&&(e.maxWidth=P),T!==void 0&&(e.maxHeight=T),this._parent===void 0&&!X!==void 0&&(X=!0),V||f===void 0||f==="content"){if(X===!0)e.width="100%";else if(X==="x")if(t)e.flex="0 0 auto";else{var Y=this._isXDirection()?"1px":"auto";e.flex="".concat(z," ").concat(x||k?"0 ".concat(Y):"1 auto")}}else e.width=f;return V||v===void 0||v==="content"?X===!0?e.height="100%":X==="y"&&(o?e.flex="0 0 auto":(Y=this._isXDirection()?"auto":"1px",e.flex="".concat(z," ").concat(x||k?"0 ".concat(Y):"1 auto"))):e.height=v,X===!0&&n.width===void 0&&n.height===void 0&&(e.flex="".concat(z," 1 auto")),$&&(this._isXDirection()?e.width="auto":e.height="auto",e.flex="0 0 auto"),e}},i.prototype._resizedWindow=function(){var n;if(this._isLastFlexCell===void 0?this._isLastFlexCell=((n=this._getAnyFlexCell(!0))===null||n===void 0?void 0:n.id)===this.id:this._isLastFlexCell||window.removeEventListener("resize",this._afterWindowResized),this._isLastFlexCell){var e=this._isXDirection()?"width":"height";this.config[e]=void 0,this.paint()}},i.prototype._resetCellsSize=function(){var n=this,e=this._parent._cells.filter(function(f){return f!==n&&!f.config.hidden&&!f.config.collapsed}),t=this._isXDirection(),o=t?"$autoWidth":"$autoHeight",c=t?"width":"height";e.forEach(function(f){f.config[o]&&(f.config[c]=void 0)})},i.prototype._checkFullSizeCell=function(){var n=this;if(!this._parent)return!1;var e=this._isXDirection()?"$autoWidth":"$autoHeight";if(!this.config[e])return!1;var t=this._parent._cells.filter(function(o){return o!==n&&!o.config.hidden});return!!t.length&&t.every(function(o){return o.config.collapsed})},i}(d.View);g.Cell=r},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(149),g),w(y(77),g)},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.PopupEvents=void 0,function(w){w.beforeHide="beforeHide",w.beforeShow="beforeShow",w.afterHide="afterHide",w.afterShow="afterShow",w.click="click"}(b||(g.PopupEvents=b={}))},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.SliderEvents=void 0,function(w){w.beforeChange="beforeChange",w.change="change",w.focus="focus",w.blur="blur",w.keydown="keydown",w.mousedown="mousedown",w.mouseup="mouseup"}(b||(g.SliderEvents=b={}))},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.TimepickerEvents=void 0,function(w){w.beforeChange="beforeChange",w.change="change",w.beforeApply="beforeApply",w.afterApply="afterApply",w.beforeClose="beforeClose",w.afterClose="afterClose",w.apply="apply",w.close="close",w.save="save"}(b||(g.TimepickerEvents=b={}))},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.CalendarEvents=void 0,function(w){w.change="change",w.beforeChange="beforechange",w.modeChange="modeChange",w.monthSelected="monthSelected",w.yearSelected="yearSelected",w.cancelClick="cancelClick",w.dateMouseOver="dateMouseOver",w.dateHover="dateHover"}(b||(g.CalendarEvents=b={}))},function(H,g,y){var b,w=this&&this.__extends||(b=function(x,k){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(S[P]=O[P])},b(x,k)},function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function S(){this.constructor=x}b(x,k),x.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}),m=this&&this.__spreadArray||function(x,k,S){if(S||arguments.length===2)for(var O,P=0,T=k.length;P<T;P++)!O&&P in k||(O||(O=Array.prototype.slice.call(k,0,P)),O[P]=k[P]);return x.concat(O||Array.prototype.slice.call(k))};Object.defineProperty(g,"__esModule",{value:!0}),g.Combobox=g.$template=void 0;var _=y(1),h=y(0),d=y(3),p=y(2),u=y(156),s=y(5),l=y(8),r=y(16),a=y(81),i=y(11),n=y(160),e=y(84),t=y(35),o=y(85),c=y(86);function f(x,k){return typeof k=="function"?k(x):x+" "+e.default.selectedItems}g.$template=function(x){return x.icon?(0,h.el)("div.dhx_combobox-options-wrapper",[(0,h.el)("span",{class:"".concat(x.icon," dhx_combobox-options__icon")}),(0,h.el)("span",{class:"dhx_combobox-options__value"},x.value)]):x.src?(0,h.el)("div.dhx_combobox-options-wrapper",[(0,h.el)("img",{class:"dhx_combobox-options__image",alt:x.value,src:x.src}),(0,h.el)("span",{class:"dhx_combobox-options__value"},x.value)]):(0,h.el)("span",{class:"dhx_combobox-options__value"},x.value)};var v=function(x){function k(S,O){var P=x.call(this,S,(0,_.extend)({listHeight:224,disabled:!1,readOnly:!1,newOptions:!1,htmlEnable:!0},O))||this;P.config.itemsCount=P.config.itemsCount||P.config.showItemsCount,P.config.helpMessage=P.config.helpMessage||P.config.help,P.config.cellHeight&&P.config.itemHeight===36&&(P.config.itemHeight=P.config.cellHeight),P.config.labelInline&&(P.config.labelPosition="left"),Array.isArray(P.config.data)?(P.events=new d.EventSystem(P),P.data=new l.DataCollection({}),P.data.parse(P.config.data)):P.config.data?(P.data=P.config.data,P.events=new d.EventSystem(P),P.events.context=P):(P.events=new d.EventSystem(P),P.data=new l.DataCollection({})),P.popup=new i.Popup,P.popup.events.on(i.PopupEvents.afterShow,function(){P.paint()}),P.popup.events.on(i.PopupEvents.afterHide,function(){P.config.multiselection&&(P._state.value=""),P.paint()}),P.popup.events.on(i.PopupEvents.beforeHide,function(j){j&&P._hideOptions()}),(P.config.readonly||P.config.readOnly)&&(P.config.readOnly=P.config.readOnly||P.config.readonly,P._keyListener=new n.KeyListener),P._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:c.ComboState.default,creatingState:!1},P._initHandlers(),P._createLayout(),P.config.value&&P._setValue(P.config.value,!0),P._initEvents();var T=(0,h.create)({render:function(){return P._draw()},hooks:{didRedraw:function(){P.popup.isVisible()&&(P.focus(),P._configurePopup())}}});return P.mount(S,T),P}return w(k,x),k.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},k.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},k.prototype.enable=function(){this.config.disabled=!1,this.paint()},k.prototype.disable=function(){this.config.disabled=!0,this.paint()},k.prototype.isDisabled=function(){return this.config.disabled},k.prototype.clear=function(){this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},k.prototype.getValue=function(S){var O=this.list.selection.getId();return S?(0,_.wrapBox)(O):Array.isArray(O)?O.join(","):O},k.prototype.setValue=function(S,O){return this._setValue(S,O)},k.prototype.addOption=function(S,O){if(O===void 0&&(O=!0),S){var P;typeof S=="string"?P=this.data.add({value:S}):typeof S=="object"&&(P=this.data.add(S));var T=this.config.multiselection&&O?m(m([],this.list.selection.getId(),!0),[P],!1):P;this.setValue(T)}},k.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this._keyListener&&this._keyListener.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},k.prototype.setState=function(S){switch(S){case"success":this._state.currentState=c.ComboState.success;break;case"error":this._state.currentState=c.ComboState.error;break;default:this._state.currentState=c.ComboState.default}this.paint()},k.prototype._setValue=function(S,O){var P=this;if(O===void 0&&(O=!1),!this._exsistId(S))return!1;if(this._filter(),this.list.selection.remove(null,O),this.config.multiselection)typeof S=="string"&&(S=S.split(",")),typeof S=="number"&&(S=[S]),S.forEach(function($){P.list.selection.add($,!1,!1,O)});else{var T=(0,_.unwrapBox)(S);this.list.selection.add(T,!1,!1,O);var j=this.data.getItem(T);j&&(this._state.value=this._getItemText(j))}this.paint()},k.prototype._createLayout=function(){var S=this.list=new a.List(null,{$template:g.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),O=this._layout=new r.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});O.getCell("list").attach(S),this.config.multiselection&&this.config.selectAllButton&&O.getCell("select-unselect-all").attach(o.selectAllView)},k.prototype._initHandlers=function(){var S=this;this.config.helpMessage&&(this._helper=new i.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={addOption:function(){return S.addOption(S._state.value)},showHelper:function(O){O.preventDefault(),O.stopPropagation(),S._helper.show(O.target,{mode:S.config.labelPosition==="left"?"bottom":"right",theme:O.target})},selectAll:function(){S._state.unselectActive?(S.list.selection.remove(),S.config.selectAllButton&&(S._layout.getCell("select-unselect-all").attach(o.selectAllView),S._state.unselectActive=!1)):(S.data.filter(),S.list.selection.add(),S.config.selectAllButton&&(S._layout.getCell("select-unselect-all").attach(o.unselectAllView),S._state.unselectActive=!0)),S._changePopupPosition(),S.paint()},onkeydown:function(O){if(O.key==="Tab"&&S.popup.isVisible())S._hideOptions();else if(S.popup.isVisible()||O.which!==u.KEY_CODES.DOWN_ARROW||S._showOptions(),S.popup.isVisible()&&(O.which===u.KEY_CODES.RIGHT_ARROW&&S.config.readOnly&&!S.config.multiselection&&(S.list.moveFocus(a.MOVE_DOWN),O.preventDefault()),O.which===u.KEY_CODES.LEFT_ARROW&&S.config.readOnly&&!S.config.multiselection&&(S.list.moveFocus(a.MOVE_UP),O.preventDefault()),O.which===u.KEY_CODES.DOWN_ARROW&&(S.list.moveFocus(a.MOVE_DOWN),O.preventDefault()),O.which===u.KEY_CODES.UP_ARROW&&(S.list.moveFocus(a.MOVE_UP),O.preventDefault()),O.which===u.KEY_CODES.ESC&&S._hideOptions(),O.which===u.KEY_CODES.ENTER)){if(S.data.getLength()){var P=S.list.getFocus(),T=S.config.multiselection?m(m([],S.list.selection.getId(),!0),[P],!1):P;S.setValue(T)}else S.config.newOptions&&S.addOption(S._state.value,!0);S.config.multiselection?S._updatePopup():S.data.getLength()&&S._hideOptions()}S.events.fire(c.ComboboxEvents.keydown,[O,S.list.getFocus()])},onkeyup:function(O){if(S.config.multiselection&&!S.config.itemsCount){if(S._state.ignoreNext)S._state.ignoreNext=!1;else if(O.which===u.KEY_CODES.BACKSPACE&&!S._state.value&&S.config.multiselection&&S.list.selection.getId().length){var P=S.list.selection.getId(),T=P[P.length-1];S.list.selection.remove(T),S._changePopupPosition(),S.paint()}}},oninput:function(O){if(!S.config.disabled){var P=O.target.value;S.events.fire(c.ComboboxEvents.input,[P]),S._state.value=P,S._filter(!0),P.length?S._state.canDelete=!1:(S._state.ignoreNext=!0,S._state.canDelete=!0),S.config.multiselection||(S.list.selection.remove(),S.paint()),S.popup.isVisible()||S._showOptions(),S._updatePopup()}},oninputclick:function(O){var P;if(!S.config.disabled){if(S.focus(),O.target.classList.contains("dhx_combobox__action-remove")){var T=(P=S.data.getItem((0,p.locate)(O)))===null||P===void 0?void 0:P.id;return(0,_.isId)(T)?(S.list.selection.remove(T),S._changePopupPosition(),void S.paint()):void 0}if(O.target.classList.contains("dhx_combobox__action-clear-all"))return S.list.selection.getId().forEach(function(j){return S.list.selection.remove(j)}),S.config.selectAllButton&&S._state.unselectActive&&(S._layout.getCell("select-unselect-all").attach(o.selectAllView),S._state.unselectActive=!1),void S.paint();O.preventDefault(),S.popup.isVisible()?S.focus():S._showOptions()}},toggleIcon:function(){S.focus(),S.popup.isVisible()?S._hideOptions():S._showOptions()},onfocus:function(){var O;return(O=S.events)===null||O===void 0?void 0:O.fire(c.ComboboxEvents.focus,[])},onblur:function(){var O;return(O=S.events)===null||O===void 0?void 0:O.fire(c.ComboboxEvents.blur,[])}}},k.prototype._initEvents=function(){var S=this;this.data.events.on(l.DataEvents.load,function(){S.config.value&&S._setValue(S.config.value,!0),S._filter()}),this.data.events.on(l.DataEvents.afterAdd,function(){S.config.multiselection?S._changePopupPosition():S._hideOptions()}),this.list.events.on(a.ListEvents.click,function(){S.config.multiselection||S._hideOptions(),S._changePopupPosition()}),this.list.selection.events.on(t.SelectionEvents.beforeSelect,function(O){var P=S.config.multiselection?m(m([],S.getValue(S.config.multiselection),!0),[O],!1):O;return S.events.fire(c.ComboboxEvents.beforeChange,[P])}),this.list.selection.events.on(t.SelectionEvents.afterSelect,function(){var O=S.getValue(S.config.multiselection);S.events.fire(c.ComboboxEvents.change,[O]),S._updateSelectedItem(O)}),this.list.selection.events.on(t.SelectionEvents.beforeUnSelect,function(O){var P=S.config.multiselection?S.getValue(S.config.multiselection).filter(function(T){return T!=O}):O;return S.events.fire(c.ComboboxEvents.beforeChange,[P])}),this.list.selection.events.on(t.SelectionEvents.afterUnSelect,function(){var O=S.config.multiselection,P=S.getValue(O);S.events.fire(c.ComboboxEvents.change,[P]),O&&S._updateSelectedItem(P)}),this.popup.events.on(i.PopupEvents.beforeShow,function(){if(!S.popup.isVisible()&&!S._isPopupConfiqureted)return S._configurePopup(),!1}),this.config.readOnly&&this.popup.events.on(i.PopupEvents.afterShow,function(){if(S._state.value){var O=S.list.selection.getId();S.list.setFocus(O)}else S.list.setFocus(S.data.getId(0));S._keyListener.startNewListen(function(P){return S._findBest(P)})})},k.prototype._showOptions=function(){this.events.fire(c.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(c.ComboboxEvents.open),this.events.fire(c.ComboboxEvents.afterOpen)))},k.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var S=this.getRootView();return!!(S&&S.refs&&S.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},k.prototype._hideOptions=function(){var S=this;this.events.fire(c.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),(0,h.awaitRedraw)().then(function(){return S.popup.isVisible()&&S.popup.hide()}),this.events.fire(c.ComboboxEvents.afterClose),this.events.fire(c.ComboboxEvents.close),this.data.resetFilter(),this._filter(),this.paint())},k.prototype._filter=function(S){var O=this;if(S===void 0&&(S=!1),!this.config.readOnly){if(this.config.filter?this.data.filter(function(I){return O.config.filter(I,O._state.value)}):S&&this.data.filter(function(I){return(0,_.isExistValue)(O._getItemText(I)||"",O._state.value)}),this.config.multiselection)this.list.setFocus(this.data.getId(0));else{var P=this.data.getIndex(this.list.selection.getId());this.list.setFocus(this.data.getId(P>-1?P:0))}var T=this._layout.getCell("list"),j=this._layout.getCell("not-found");if(this.data.getLength()===0){this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),T.hide(),this._state.creatingState=!0;var $=this.config.newOptions?this._state.value:"";j.height=(0,o.emptyListHeight)($,this.getRootView().refs.holder.el.offsetWidth),j.attach(o.emptyListView,$),j.show()}else this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),!(this._state.value&&this.data.find(function(I){return I.value===O._state.value}))&&this._state.value?(this._state.creatingState=this.config.newOptions,T.show(),this.config.newOptions?($=this._state.value,j.height=(0,o.emptyListHeight)($,this.getRootView().refs.holder.el.offsetWidth),j.attach(o.emptyListView,$),j.show()):j.hide()):(this._state.creatingState=!1,j.isVisible()&&(T.show(),j.hide()))}},k.prototype._findBest=function(S){var O=this,P=this.data.find(function(T){return(0,_.isExistValue)(O._getItemText(T)||"",S)});P&&this.list.selection.getId()!==P.id&&(this.list.setFocus(P.id),this.paint())},k.prototype._exsistId=function(S){var O=this;return S instanceof Array?S.every(function(P){return O.data.exists(P)}):this.data.exists(S)},k.prototype._draw=function(){if(!this.config)return(0,h.el)("div");var S=this.config,O=S.multiselection,P=S.labelPosition,T=S.hiddenLabel,j=S.required,$=S.disabled,I=S.css,F=S.helpMessage,E=S.readOnly,V=S.placeholder,z=O?null:this.data.getItem(this.list.selection.getId()),X=!this.list.selection.getId()||typeof this.list.selection.getId()=="object"&&this.list.selection.getId().length===0,Y=(0,p.getLabelStyle)(this.config),U=!this.config.multiselection&&(this.config.readOnly||!this.popup.isVisible()),A=U&&this.config.htmlEnable&&this.config.template,M=U&&((z==null?void 0:z.icon)||(z==null?void 0:z.src))&&!this.config.template;return(0,h.el)("div",{"data-dhx-widget-id":this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+(P==="left"?" dhx_combobox--label-inline":"")+(T?" dhx_combobox--sr_only":"")+(j?" dhx_combobox--required":"")+($?" dhx_combobox--disabled":"")+(I?" ".concat(I):"")},[Y?(0,h.el)("label.dhx_label.dhx_combobox__label",{style:Y.style,class:F?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},F?[(Y.label||j)&&(0,h.el)("span.dhx_label__holder",Y.label),(0,h.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_".concat(this._uid)})]:Y.label):null,(0,h.el)("div.dhx_combobox-input-box"+($?".dhx_combobox-input-box--disabled":"")+(E?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===c.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===c.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[(0,h.el)("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[(0,h.el)("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),(0,h.el)("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[(0,h.el)("ul.dhx_combobox-input-list",m(m([],this._drawSelectedItems(),!0),[(0,h.el)("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[(A||M)&&z?(0,h.el)("div.dhx_combobox-input__template",{".innerHTML":A?this.config.template(z):null},M?[(0,g.$template)(z)]:null):null,(0,h.el)("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:X&&V?V:void 0,value:E&&z?this._getItemText(z):this._state.value,readOnly:E||$,required:j,"aria-label":E?"Select value":"Type or select value","aria-describedby":F?"dhx_label__help_".concat(this._uid):null,"aria-expanded":!0})])],!1))])])])},k.prototype._drawSelectedItems=function(){var S=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var O=this.list.selection.getId().length;return O?[(0,h.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",[(0,h.el)("span.dhx_combobox-tag__value",f(O,this.config.itemsCount)),(0,h.el)("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[(0,h.el)("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map(function(P){var T=S.data.getItem(P);if(!T)return null;var j=S._drawImageOrIcon(T);return(0,h.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",{"data-dhx-id":P},m(m([],j||!S.config.template?[j,(0,h.el)("span.dhx_combobox-tag__value",S._getItemText(T))]:[(0,h.el)("span.dhx_combobox-tag__template",{".innerHTML":S.config.template(T)})],!0),[(0,h.el)("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[(0,h.el)("span.dhx_button__icon.dxi.dxi-close-circle")])],!1))})},k.prototype._drawImageOrIcon=function(S){return S.src?(0,h.el)("img.dhx_combobox-tag__image",{src:S.src,alt:""}):S.icon?(0,h.el)("span.dhx_combobox-tag__icon",{class:S.icon}):null},k.prototype._getItemText=function(S){return S?S.value:null},k.prototype._updateSelectedItem=function(S){var O;this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===S.length?(this._layout.getCell("select-unselect-all").attach(o.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(o.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=S.length===0,this.data.resetFilter(),this._filter())):this._state.value=(O=this._getItemText(this.data.getItem(S)))!==null&&O!==void 0?O:"",this.paint()},k.prototype._changePopupPosition=function(){var S=this;this.config.multiselection&&(0,h.awaitRedraw)().then(function(){S._updatePopup()})},k.prototype._updatePopup=function(){var S=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=S.offsetWidth+"px",this.popup.show(S,{mode:"bottom",theme:this.getRootNode()})},k}(s.View);g.Combobox=v},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(82),g),w(y(159),g),w(y(83),g),w(y(52),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(t,o){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v])},b(t,o)},function(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function c(){this.constructor=t}b(t,o),t.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}),m=this&&this.__assign||function(){return m=Object.assign||function(t){for(var o,c=1,f=arguments.length;c<f;c++)for(var v in o=arguments[c])Object.prototype.hasOwnProperty.call(o,v)&&(t[v]=o[v]);return t},m.apply(this,arguments)},_=this&&this.__spreadArray||function(t,o,c){if(c||arguments.length===2)for(var f,v=0,x=o.length;v<x;v++)!f&&v in o||(f||(f=Array.prototype.slice.call(o,0,v)),f[v]=o[v]);return t.concat(f||Array.prototype.slice.call(o))};Object.defineProperty(g,"__esModule",{value:!0}),g.List=g.MOVE_DOWN=g.MOVE_UP=void 0;var h=y(1),d=y(8),p=y(0),u=y(14),s=y(35),l=y(5),r=y(83),a=y(2),i=y(52),n=y(157);g.MOVE_UP=1,g.MOVE_DOWN=2;var e=function(t){function o(c,f){f===void 0&&(f={});var v=this,x=f.itemHeight||(f.virtual?37:null);x&&typeof x=="number"&&(x=x.toString()+"px"),(v=t.call(this,c,(0,h.extend)({itemHeight:x,keyNavigation:!0,editable:!1,selection:!0,htmlEnable:!0},f))||this)._destructed=!1,v._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null};var k=v.config.data;k instanceof d.DataCollection?(v.data=k,v.events=k.events):(v.data=new d.DataCollection({}),v.events=v.data.events,k&&v.data.parse(k)),v.selection=new r.Selection({disabled:!v.config.selection,multiselection:v.config.multiselection},v.data,v.events),v.config.keyNavigation&&(v.keyManager=new u.KeyManager(function(V,z){return z==v._uid&&(!v._edited||v._edited&&V.key!=="escape")}),v._initHotKey()),v.events.on(d.DataEvents.change,function(V,z,X){z==="setPage"&&v.scrollTo(v.data.getId(X[0])),v.paint()}),v.events.on(d.DataEvents.filter,function(){v.paint()}),v.events.on(s.SelectionEvents.afterUnSelect,function(){return v.paint()}),v.events.on(s.SelectionEvents.afterSelect,function(V){(0,h.isId)(V)&&v.config.selection&&v.setFocus(V),v.paint()}),v.events.on(i.ListEvents.afterEditEnd,v.editEnd.bind(v));var S=function(V){return function(z){v.data.setMeta(v.data.getItem(z.target),"drop",V),v.paint()}};v.events.on(d.DragEvents.canDrop,S(!0)),v.events.on(d.DragEvents.cancelDrop,S(!1));var O=function(V){return function(z){z.source.map(function(X){return v.data.setMeta(v.data.getItem(X),"drag",V)}),v.paint()}};v.events.on(d.DragEvents.dragStart,O(!0)),v.events.on(d.DragEvents.afterDrag,O(!1)),v._handlers={onmousedown:function(V){v._dragStart(V)},ontouchstart:function(V){v._touch.timer=setTimeout(function(){v._dragStart(V)},v._touch.duration),v._touch.timeStamp?(v._touch.dblDuration>=v._touch.timeStamp-+V.timeStamp.toFixed()&&(V.preventDefault(),v._dblClick(V)),v._touch.timeStamp=null):v._touch.timeStamp=+V.timeStamp.toFixed(),setTimeout(function(){v._touch.timeStamp=null},v._touch.dblDuration)},ontouchmove:function(V){v._touch.start&&V.preventDefault(),v._clearTouchTimer()},ontouchend:function(){v._touch.start=!1,v._clearTouchTimer()},ondragstart:function(){return!(v.config.dragMode&&!v._edited)&&null},oncontextmenu:function(V){var z,X=(z=v.data.getItem((0,a.locate)(V)))===null||z===void 0?void 0:z.id;(0,h.isId)(X)&&v.events.fire(i.ListEvents.itemRightClick,[X,V])},onclick:function(V){var z,X=(z=v.data.getItem((0,a.locate)(V)))===null||z===void 0?void 0:z.id;(0,h.isId)(X)&&(v.selection.add(X,V.ctrlKey||V.metaKey,V.shiftKey),v.config.selection&&(v._focus=X),v.events.fire(i.ListEvents.click,[X,V]),v.paint())},ondblclick:function(V){v._dblClick(V)},onscroll:function(V){v.config.virtual&&(v._topOffset=V.target.scrollTop,v._visibleHeight=V.target.offsetHeight,v.paint())},onmouseover:function(V){var z,X=(z=v.data.getItem((0,a.locate)(V)))===null||z===void 0?void 0:z.id;(0,h.isId)(X)&&X!==(0,a.locate)(V.relatedTarget)&&v.events.fire(i.ListEvents.itemMouseOver,[X,V])}};var P=v.config.eventHandlers;if(P)for(var T=0,j=Object.entries(P);T<j.length;T++){var $=j[T],I=$[0],F=$[1];v._handlers[I]=(0,a.eventHandler)(function(V){return(0,a.locate)(V)},F,v._handlers[I])}v.config.dragMode&&d.dragManager.setItem(v._uid,v),v._topOffset=v._visibleHeight=0;var E=(0,p.create)({render:function(){return v._destructed?(0,p.el)("div"):v._renderList()},hooks:{didMount:function(V){v.config.virtual&&(v._visibleHeight=V.node.el.offsetHeight)},didRedraw:function(V){return v._didRedraw(V)}}});return v.mount(c,E),v}return w(o,t),o.prototype._didRedraw=function(c){},o.prototype._dblClick=function(c){var f,v=(0,a.locate)(c);v&&(v=(f=this.data.getItem(v))===null||f===void 0?void 0:f.id,this.config.editable&&this.editItem(v),this.events.fire(i.ListEvents.doubleClick,[v,c]))},o.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},o.prototype._dragStart=function(c){var f=this;this._touch.start=!0;var v=[],x=(0,a.locateNode)(c,"data-dhx-id"),k=x&&x.getAttribute("data-dhx-id"),S=this.selection.getId();return this.config.multiselection&&S instanceof Array&&(S.map(function(O){O!==k&&f.getRootView().refs[O]&&v.push(f.getRootView().refs[O].el)}),S=_([],S,!0)),typeof S=="string"&&(S=[S]),this.config.dragMode&&!this._edited?d.dragManager.onMouseDown(c,S||[k],v):null},o.prototype.disableSelection=function(){this.selection.disable()},o.prototype.enableSelection=function(){this.selection.enable()},o.prototype.editItem=function(c){this._edited=c,this.data.getItem(this._edited)&&this.events.fire(i.ListEvents.beforeEditStart,[c])?(this.paint(),this.events.fire(i.ListEvents.afterEditStart,[c])):this._edited=null},o.prototype.editEnd=function(c,f){if(this._edited){if(c!==null){var v=this.data.getItem(f);this.data.update(f,m(m({},v),{value:c})),this._changed=!0}this._edited=null,this.paint()}},o.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},o.prototype.setFocus=function(c){this._focus!=c&&this.data.exists(c)&&(this._focus=c,this.events.fire(i.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.scrollTo(c),this.paint())},o.prototype.getFocus=function(){return this._focus},o.prototype.destructor=function(){this._destructed=!0,this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},o.prototype.scrollTo=function(c){var f=this.getRootView();if(f&&f.node&&f.node.el&&c!==void 0){var v=this.getRootNode();this._scrollTo(c,v)}},o.prototype._scrollTo=function(c,f){if(f){var v=this.data.getIndex(c);if(v!==-1){var x=this.config.virtual,k=Math.floor(v/f.children.length)||0,S=f.children[v-f.children.length*k];if(x||S){var O=x?parseInt(this.config.itemHeight):S.clientHeight,P=x?v*O:S.offsetTop;P>=f.scrollTop+f.clientHeight-O?f.scrollTo(0,P-f.clientHeight+O):P<f.scrollTop&&f.scrollTo(0,P)}}}},o.prototype._renderItem=function(c,f){var v=function(j){j.class+=" dhx_list-item--empty"},x=this.config.itemHeight;if(c.$empty)return(0,p.el)("li",{class:"dhx_list-item",style:{height:x}});var k="";this.config.template&&(k=this.config.template(c)),c.html&&(k=c.html);var S=c.id==this._focus&&this.config.keyNavigation;if(c.id==this._edited)return(0,n.getEditor)(c,this).toHTML();var O=this.data.getMetaMap(c),P=m(m(m(m({},this._events),{class:"dhx_list-item"+(O&&O.selected?" dhx_list-item--selected":"")+(S?" dhx_list-item--focus":"")+(O&&O.drop&&!this._edited?" dhx_list-item--drophere":"")+(O&&O.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(c.css?" "+c.css:""),"data-dhx-id":c.id,_ref:c.id.toString(),style:{height:x},_key:c.id}),this.getItemAriaAttrs(this,c)),{tabindex:S?0:-1});if(k)return k===c.html||this.config.htmlEnable?(P[".innerHTML"]=k,(0,p.el)("li",P)):(0,p.el)("li",P,k);if(this.config.$template)return c.value||v(P),(0,p.el)("li",P,[this.config.$template(c)]);var T=c.text||c.value;return T||v(P),this.config.htmlEnable?P[".innerHTML"]=T:P.class+=" dhx_list-item--text",this.config.htmlEnable?(0,p.el)("li",P):(0,p.el)("li",P,T)},o.prototype._renderList=function(){var c=this,f=this._getRange(),v=this.data.getRawData(f[0],f[1]).map(function(x,k){return c._renderItem(x,k)});return this.config.virtual&&(v=_(_([(0,p.el)(".div",{style:{height:f[2]+"px"}})],v,!0),[(0,p.el)(".div",{style:{height:f[3]+"px"}})],!1)),(0,p.el)("ul.dhx_widget.dhx_list",m(m({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),v)},o.prototype.moveFocus=function(c,f){var v=this.data.getLength();if(v){var x=this._focus,k=x?this.data.getIndex(x):-1;f=f||1,c===g.MOVE_DOWN?x=this.data.getId(Math.min(k+f,v-1)):c===g.MOVE_UP&&(x=this.data.getId(Math.max(k-f,0))),this.setFocus(x)}},o.prototype._getRange=function(){if(this.config.virtual){var c=this._visibleHeight||parseInt(this.config.height),f=parseInt(this.config.itemHeight),v=this.data.getRawData(0,-1).length,x=v*f,k=this._topOffset;k=Math.max(0,Math.min(k,x-c));var S=Math.floor(k/f),O=Math.min(v-S,Math.floor(c/f)+5);return this._topOffset=k,[S,O+S,S*f,x-f*(O+S)]}return[0,-1,0,0]},o.prototype._getHotkeys=function(){var c=this;return{arrowDown:function(f){c.moveFocus(g.MOVE_DOWN),c._changed&&(c._changed=!1),f.preventDefault()},arrowUp:function(f){c.moveFocus(g.MOVE_UP),c._changed&&(c._changed=!1),f.preventDefault()},escape:function(){c.editEnd(null),c._changed&&(c._changed=!1)},enter:function(f){var v;if(c._changed)c._changed=!1;else{var x=c.selection.getItem(),k=x instanceof Array?(v=x[0])===null||v===void 0?void 0:v.id:x==null?void 0:x.id;c.config.editable&&!c._edited&&(x&&k===c._focus||!x)?c.editItem(c._focus):c.selection.add(c._focus),c.events.fire(i.ListEvents.click,[c._focus,f])}},"shift+enter":function(f){c.selection.add(c._focus,!1,!0),c.events.fire(i.ListEvents.click,[c._focus,f])},"ctrl+enter":function(f){c.selection.add(c._focus,!0,!1),c.events.fire(i.ListEvents.click,[c._focus,f])},"ctrl+a":function(f){c.config.multiselection&&(f.preventDefault(),c.selection.remove(),c.data.map(function(v){return v.id}).forEach(function(v){c.config.multiselection==="ctrlClick"?c.selection.add(v,!0):c.selection.add(v)}))}}},o.prototype._initHotKey=function(){var c=this._getHotkeys();for(var f in c)this.keyManager.addHotKey(f,c[f]);for(var f in this.config.hotkeys)this.keyManager.addHotKey(f,this.config.hotkeys[f])},o.prototype.getItemAriaAttrs=function(c,f){return m(m({role:"option","aria-selected":f.$selected?"true":"false"},function(v,x){return v.config.dragMode&&!v._edited?{"aria-grabbed":Boolean(x.$dragtarget&&!v._edited).toString()}:{}}(c,f)),function(v){return v.config.editable?{"aria-roledescription":"".concat(v._edited?"Press Enter to stop editing":"Double click to edit content")}:{}}(c))},o.prototype._getListAriaAttrs=function(c,f){return{role:"listbox","aria-label":"Listbox ".concat(c.title||"",", count of options = ").concat(f,".").concat(c.editable?" Content is editable.":""),"aria-multiselectable":c.selection&&c.multiselection?"true":"false","aria-readonly":c.editable?"false":"true"}},o}(l.View);g.List=e},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.Selection=void 0;var b=y(35),w=y(8),m=y(1),_=function(){function h(d,p,u){var s=this;this.config=d,this.events=u,this._data=p,this._selected=[],this._data.events.on(w.DataEvents.removeAll,function(){s._selected=[]}),typeof this.config.multiselection=="string"&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(w.DataEvents.beforeRemove,function(l){if(s._nextSelection=null,s._selected.length===1){var r=s._data.getIndex(l.id),a=s._data.getLength();if(a>1){var i=a==r-1?r-1:r+1;s._nextSelection=s._data.getId(i)}}}),this._data.events.on(w.DataEvents.afterRemove,function(l){var r=s._selected.indexOf(l.id);r!==-1&&s._selected.splice(r,1),(0,m.isId)(s._nextSelection)&&(s.add(s._nextSelection),s._nextSelection=null)})}return h.prototype.enable=function(){this.config.disabled=!1},h.prototype.disable=function(){this.remove(),this.config.disabled=!0},h.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},h.prototype.getItem=function(){var d=this;return this.config.multiselection?this._selected.map(function(p){return d._data.getItem(p)}):this._selected.length?this._data.getItem(this._selected[0]):null},h.prototype.contains=function(d){return(0,m.isId)(d)?this._selected.includes(d):this._selected.length>0},h.prototype.remove=function(d,p){var u=this;(0,m.isId)(d)?this._unselectItem(d,p):(this._selected.forEach(function(s){return u._unselectItem(s,p)}),this._selected=[])},h.prototype.add=function(d,p,u,s){var l=this;if(!this.config.disabled)if(d!==void 0){var r=this.config.multiselection;u&&this._selected.length&&r?this._addMulti(d,s):this._addSingle(d,r&&(r!=="ctrlClick"||p),s)}else{var a=this._data.serialize().filter(function(i){var n=i.id;return!l._selected.includes(n)});a.forEach(function(i){var n=i.id;l._addMulti(n,s)})}},h.prototype.destructor=function(){var d=this;this._selected.forEach(function(p){return d._unselectItem(p,!0)})},h.prototype._addMulti=function(d,p){var u,s=this._selected[this._selected.length-1],l=this._data.getIndex(s),r=this._data.getIndex(d);for(l>r&&(l=(u=[r,l])[0],r=u[1]);l<=r;l++){var a=this._data.getId(l);this._selectItem(a,p)}},h.prototype._addSingle=function(d,p,u){var s=this;p||this._selected.forEach(function(l){l!=d&&s._unselectItem(l)}),p&&this._selected.includes(d)?this._unselectItem(d,u):this._selectItem(d,u)},h.prototype._selectItem=function(d,p){var u=this._data.getItem(d);u&&!this._data.getMeta(u,"selected")&&(p||this.events.fire(b.SelectionEvents.beforeSelect,[d]))&&(this._selected.push(d),this._data.setMeta(u,"selected",!0),p||this.events.fire(b.SelectionEvents.afterSelect,[d]))},h.prototype._unselectItem=function(d,p){(p||this.events.fire(b.SelectionEvents.beforeUnSelect,[d]))&&(this._selected=this._selected.filter(function(u){return u!==d}),this._data.setMeta(this._data.getItem(d),"selected",!1),p||this.events.fire(b.SelectionEvents.afterUnSelect,[d]))},h}();g.Selection=_},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items",createItem:"Create"}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.emptyListHeight=g.emptyListView=g.unselectAllView=g.selectAllView=void 0;var b=y(0),w=y(84);g.selectAllView=function(){return(0,b.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",w.default.selectAll)},g.unselectAllView=function(){return(0,b.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",w.default.unselectAll)},g.emptyListView=function(m){return(0,b.el)("ul.dhx_list",[(0,b.el)("li.dhx_list-item.dhx_combobox-options__item".concat(m?".dhx_combobox-options__action-create-option":""),{},m?"".concat(w.default.createItem,' "').concat(m,'"'):w.default.notFound)])},g.emptyListHeight=function(m,_){var h=document.createElement("canvas").getContext("2d",{alpha:!1});h.font="normal 14px Roboto";var d=m?"".concat(w.default.createItem,' "').concat(m,'"'):w.default.notFound;return 13+20*Math.ceil(h.measureText(d).width/(_-16))}},function(H,g,y){var b,w;Object.defineProperty(g,"__esModule",{value:!0}),g.ComboState=g.ComboboxEvents=void 0,function(m){m.beforeChange="beforeChange",m.change="change",m.focus="focus",m.blur="blur",m.keydown="keydown",m.input="input",m.beforeOpen="beforeOpen",m.afterOpen="afterOpen",m.beforeClose="beforeClose",m.afterClose="afterClose",m.open="open",m.close="close"}(b||(g.ComboboxEvents=b={})),function(m){m[m.default=0]="default",m[m.error=1]="error",m[m.success=2]="success"}(w||(g.ComboState=w={}))},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},b.apply(this,arguments)},w=this&&this.__spreadArray||function(s,l,r){if(r||arguments.length===2)for(var a,i=0,n=l.length;i<n;i++)!a&&i in l||(a||(a=Array.prototype.slice.call(l,0,i)),a[i]=l[i]);return s.concat(a||Array.prototype.slice.call(l))};Object.defineProperty(g,"__esModule",{value:!0}),g.getFixedCols=g.getFixedColsHeader=void 0;var m=y(0),_=y(7),h=y(33),d=y(88),p=y(15),u=y(25);g.getFixedColsHeader=function(s,l,r){if((r!==_.Split.left||typeof s.leftSplit=="number"&&s.fixedColumns.left.length)&&(r!==_.Split.right||typeof s.rightSplit=="number"&&s.fixedColumns.right.length)){var a=s.leftSplit,i=s.rightSplit,n=s.$positions,e=s.$totalWidth,t=s.$scrollBarWidth,o=r===_.Split.right,c=o?s.fixedColumns.right:s.fixedColumns.left,f=(0,p.getTotalWidth)(c),v=(0,d.getFixedRows)(b(b({},s),{currentColumns:c,$positions:b(b({},n),{xStart:0,xEnd:o?i:a}),scroll:{top:0,left:0},filteredColumns:c}),b(b({},l),{name:"header",position:"top",shifts:{x:0,y:0}}),r),x=b(b({},l),{name:"header",position:"top"});return(0,m.el)(".dhx_".concat(x.name,"-fixed-cols"),b({onwheel:p.scrollFixedColsAndRows,class:o?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:0,left:o?e<l.wrapper.width-t.y-u.BORDERS?e-f:l.wrapper.width-f-t.y-u.BORDERS:0,width:f,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":v.length}),v.body)}},g.getFixedCols=function(s,l,r,a){if((r!==_.Split.left||typeof s.leftSplit=="number"&&s.fixedColumns.left.length)&&(r!==_.Split.right||typeof s.rightSplit=="number"&&s.fixedColumns.right.length)){var i,n=s.leftSplit,e=s.rightSplit,t=s.$totalWidth,o=s.$totalHeight,c=s.headerHeight,f=s.footerHeight,v=s.$positions,x=s.scroll,k=s.data,S=s.$scrollBarWidth,O=r===_.Split.right,P=o+c+f;i=P>l.gridBodyHeight?s.$footer?P-S.x:l.gridBodyHeight:P<l.gridBodyHeight-S.x?P:s.$footer?l.gridBodyHeight:l.gridBodyHeight-S.x;var T=O?s.fixedColumns.right:s.fixedColumns.left,j=(0,p.getTotalWidth)(T),$=O?"rightFixedCols":"leftFixedCols",I=(0,h.getCells)(b(b({},s),{filteredColumns:T,$renderFrom:$,$positions:b(b({},v),{xStart:0,xEnd:O?e:n})})),F=l.sticky,E=b(b({},l),{name:"footer",position:"bottom"}),V=(0,d.getRows)(b(b({},s),{currentColumns:T,$positions:b(b({},v),{xStart:0,xEnd:O?e:n})}),b(b({},l),{name:"footer",position:"bottom"})),z=0;V.forEach(function(R){return z+=R.attrs.style.height});var X=(0,d.getFixedSpans)(b(b({},s),{filteredColumns:T}),b(b({},l),{name:"footer",position:"bottom"}),r),Y=function(R){return{role:"rowgroup","aria-rowcount":R}},U=F?(0,m.el)(".dhx_".concat(E.name,"-fixed-cols"),b({onwheel:p.scrollFixedColsAndRows,class:O?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:i<l.gridBodyHeight?i-z:null,left:O?t<l.wrapper.width-S.y-u.BORDERS?t-j:l.wrapper.width-j-S.y-u.BORDERS:0,bottom:i>=l.gridBodyHeight?"".concat(F?S.x:0,"px"):null}},Y(V.length)),[V,(0,m.el)("span.dhx_span-spans",{class:"dhx_footer-spans",role:"presentation"},X)]):null,A=v,M=(0,h.getSpans)(b(b({},s),{$renderFrom:$}),a||(O?_.Split.right:_.Split.left));return[(0,m.el)(".dhx_grid-fixed-cols-wrap",b({style:{left:O?t<l.wrapper.width-S.y-u.BORDERS?t-j:l.wrapper.width-j-S.y-u.BORDERS:0,height:i>=l.gridBodyHeight?(F?l.gridBodyHeight:l.gridBodyHeight+c)-S.x:i,paddingTop:c,overflow:"hidden",width:j}},{role:"presentation","aria-label":"Fixed column"}),[(0,m.el)(".dhx_grid-fixed-cols",b(b({onwheel:p.scrollFixedColsAndRows,class:O?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{top:-x.top+c-1+"px",paddingTop:l.shifts.y,height:o,position:"absolute"},_flags:m.KEYED_LIST},(0,h.getHandlers)(A.yStart,A.xStart,s)),Y(k.length)),w(w([],I,!0),[M&&(0,m.el)("span.dhx_span-spans",{role:"presentation"},[M])],!1)),O?(0,m.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{left:0}}):(0,m.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{right:0}})]),s.$footer?U:null]}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(o){for(var c,f=1,v=arguments.length;f<v;f++)for(var x in c=arguments[f])Object.prototype.hasOwnProperty.call(c,x)&&(o[x]=c[x]);return o},b.apply(this,arguments)},w=this&&this.__spreadArray||function(o,c,f){if(f||arguments.length===2)for(var v,x=0,k=c.length;x<k;x++)!v&&x in c||(v||(v=Array.prototype.slice.call(c,0,x)),v[x]=c[x]);return o.concat(v||Array.prototype.slice.call(c))};Object.defineProperty(g,"__esModule",{value:!0}),g.getFixedDataRows=g.getFixedRows=g.getFixedSpans=g.getRows=void 0;var m=y(0),_=y(26),h=y(15),d=y(7),p=y(33),u=y(87),s=y(1),l=2;function r(o,c,f,v){f&&(f.toLocaleLowerCase().includes("touch")?c._events.fire(f,[o,v]):c.events.fire(f,[o,v]))}function a(o,c,f){return{onclick:[r,o,f,d.GridEvents[c+"CellClick"]],onmouseover:[r,o,f,d.GridEvents[c+"CellMouseOver"]],onmousedown:[r,o,f,d.GridEvents[c+"CellMouseDown"]],ontouchstart:[r,o,f,d.GridEvents[c+"CellMouseDown"]],ondblclick:[r,o,f,d.GridEvents[c+"CellDblClick"]],oncontextmenu:[r,o,f,d.GridEvents[c+"CellRightClick"]],ontouchmove:[r,o,f,d.GridSystemEvents[c+"CellTouchMove"]],ontouchend:[r,o,f,d.GridSystemEvents[c+"CelltouchEnd"]]}}function i(o,c,f,v,x,k,S){x===void 0&&(x=""),S===void 0&&(S=!1);var O=c.type?"dhx_".concat(c.type,"-cell"):"dhx_string-cell",P=f.content[o.content]&&f.content[o.content].toHtml(c,f),T={};f.filteredColumns.forEach(function($){var I=!!f.content[$[v][k].content];T[$.id]=I&&f.content[$[v][k].content].toHtml($,f)||$[v][k].text});var j=c.template&&typeof P=="string"?c.template(P,T,c):P;return(0,m.el)(".".concat(O),{style:{class:x.trim(),padding:0}},[P&&(typeof P=="string"||typeof P=="number"?(0,m.el)("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":S?j:null},S?null:j):P)])}function n(o,c){if(!o.data||!o.filteredColumns)return[];var f,v=c.name,x=v==="header"?o.headerAutoHeight:o.footerAutoHeight,k=o.$positions,S=o.currentColumns,O=function(T,j){var $=T.map(function(I){return I[j]||[{}]});return(0,h.transpose)($)}(S,v),P=1;return O.map(function(T,j){var $=(v==="header"?o.$headerHeightMap:o.$footerHeightMap)[j];return(0,m.el)(".dhx_".concat(v,"-row"),b({style:{height:$}},{role:"row","aria-rowindex":j+1}),T.map(function(I,F){var E,V=I.css||"",z=S[F],X=k.xStart+F+1,Y=(0,h.isHtmlEnable)(o,z,I),U="dxi dxi-sort-variant dhx_grid-sort-icon",A="none";if(o.sortBy&&"".concat(z.id)===o.sortBy&&!I.content){var M=o.sortDir||"asc";U+=" dhx_grid-sort-icon--".concat(M),V+=" dhx_grid-".concat(v,"-cell--sorted "),A=M==="asc"?"ascending":"descending"}var R=(0,h.isSortable)(o,z)&&I.text&&v!=="footer"&&I.headerSort!==!1;R&&(V+=" dhx_grid-header-cell--sortable");var W=F===0?"dhx_first-column-cell":"",Q=F===S.length-1?"dhx_last-column-cell":"";I.content||(I.align?V+=" dhx_grid-header-cell--align_".concat(I.align," "):V+=" dhx_grid-header-cell--".concat(z.type==="number"||z.type==="percent"||z.type==="date"?"align_right":"align_left"," ")),V+="".concat(W," ").concat(Q);var Z=z.resizable!==void 0?z.resizable:o.resizable;if(Z){var B=o.rightSplit&&o.$scrollBarWidth.xState&&o.fixedColumns.right.includes(z);Z=(0,m.el)("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[(0,m.el)("div",{class:"dhx_resizer_grip"+(B?" dhx_resizer_grip--left":" dhx_resizer_grip--right"),dhx_resized:z.id,style:{height:"".concat(100*O.length,"%")}},[(0,m.el)("div",{class:"dhx_resizer_grip_line"})])]);var K=z.header&&((E=z.header[0])===null||E===void 0?void 0:E.colspan);K&&(f=K,P=1),f&&P!==f&&(j===0&&(Z=null),P++),v==="footer"&&(Z=null)}I.align&&(V+=" dhx_align-".concat(I.align));var J=function(rt,lt,ct){var ut={"aria-colindex":lt};return rt==="footer"||I.content?ut.role="gridcell":(ut.role="columnheader",ut["aria-sort"]=ct),ut};if(I.content)return(0,m.el)(".dhx_grid-".concat(v,"-cell.dhx_grid-custom-content-cell"),b(b({class:V.trim(),"data-dhx-id":z.id,"data-dhx-text-id":I.id,_key:z.id,style:{width:z.$width,height:v==="footer"?$+l/2+"px":$+"px"}},a(z,v,o)),J(v,X,A)),[i(I,z,o,v,"",j,Y),Z||null]);var tt,nt="dhx_grid-header-cell-text_content";return x&&(nt+=" dhx_grid-header-cell-text_content-auto-height"),(0,m.el)(".dhx_grid-".concat(v,"-cell"),b(b({class:V.trim(),"data-dhx-id":z.id,"data-dhx-text-id":I.id,_key:z.id,style:{width:z.$width,height:v==="footer"?$+l/2+"px":$+"px"}},a(z,v,o)),J(v,X,A)),[(0,m.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,m.el)("span",b(b({class:nt},(tt=I.text,R?{role:"button","aria-label":"Sort by ".concat(tt)}:{})),{".innerHTML":Y?I.text:null}),Y?null:I.text),Z||null]),R&&(0,m.el)("div",{class:U,"aria-hidden":"true"})])}))})}function e(o,c,f){var v=o.columns,x=o.filteredColumns,k=(0,h.transpose)(x.map(function(j){return j[c.name]||[]})),S=c.name,O=S==="header"?o.headerAutoHeight:o.footerAutoHeight,P=S==="header"?o.$headerHeightMap:o.$footerHeightMap,T=0;return k.map(function(j,$){T=0;var I=P[$];return(0,m.el)(".dhx_span-row",{class:"dhx_header-row","aria-hidden":"true"},j.map(function(F,E){var V,z=x[E];if(f===d.Split.right&&E===0&&!F.colspan){var X=(0,h.transpose)(v.map(function(_t){return _t[c.name]||[]}));t:for(var Y=0;Y<X[$].length;Y++){var U=X[$][Y];if(U.colspan>1){for(var A=v.slice(Y,Y+U.colspan),M=0;M<A.length;M++)if(A[M].id===z.id){V={cell:U,col:v[Y],widthBefore:(0,_.getWidth)(A,M,0),isLastCol:Y+U.colspan>=v.length};break t}}}}var R=(V==null?void 0:V.cell)||F,W=(V==null?void 0:V.col)||z,Q=(0,h.isHtmlEnable)(o,z,F);T+=W.hidden?0:W.$width;var Z=E===0?"dhx_first-column-cell":"",B=f?1:o.fixedColumns.right.length+1,K=F.colspan&&(0,_.getReducedColspan)(v,z.id,F.colspan),J=(V==null?void 0:V.isLastCol)||E===x.length-B||(K||1)+(E-1)>=x.length-B?"dhx_last-column-cell":"",tt=I,nt=I*$;if(R.rowspan){for(var rt=R.rowspan-1;rt>0;)tt+=P[$+rt],rt--;tt-=1}if(R.rowspan||R.colspan)for(nt=0,Y=$-1;Y>=0;Y--)nt+=P[Y];var lt=(0,h.isSortable)(o,W)&&R.rowspan&&R.text&&c.name!=="footer"&&R.headerSort!==!1,ct="dxi dxi-sort-variant dhx_grid-sort-icon";o.sortBy&&"".concat(W.id)===o.sortBy&&!R.content&&(ct+=" dhx_grid-sort-icon--".concat(o.sortDir||"asc"));var ut=W.align?"dhx_align-".concat(W.align):W.type!=="number"&&W.type!=="percent"&&W.type!=="date"||R.colspan?"dhx_align-left":"dhx_align-right",at="dhx_grid-".concat(S,"-cell ").concat(Z," ").concat(J," ").concat(R.rowspan?"dhx_span-cell__rowspan":""," ").concat(R.align?"dhx_align-".concat(R.align):ut," ").concat(R.css?R.css:"");lt&&(at+=" dhx_grid-header-cell--sortable"),R.content||(R.align?at+=" dhx_grid-header-cell--align_".concat(R.align," "):at+=" dhx_grid-header-cell--".concat(W.type==="number"||W.type==="percent"||W.type==="date"?"align_right":"align_left"," "));var ht=null;R.content&&((ht=i(R,W,o,S,at,$)).attrs.style=b(b({},ht.attrs.style),{width:"100%",borderRight:"0"}));var pt="";T-W.$width>0&&(pt="var(--dhx-border)");var gt="dhx_grid-header-cell-text_content";O&&(gt+=" dhx_grid-header-cell-text_content-auto-height");var vt=(0,m.el)("span",{class:gt,".innerHTML":Q?R.text:null},Q?null:R.text);return R.colspan||R.rowspan?(0,m.el)(".dhx_span-cell",b({style:{width:(0,_.getWidth)(v,R.colspan,(0,s.findIndex)(v,function(_t){return _t.id===W.id})),height:tt,left:T-W.$width-((V==null?void 0:V.widthBefore)||0),borderLeft:pt,top:nt},class:at.trim(),"data-dhx-id":W.id,"data-dhx-text-id":R.id},a(W,S,o)),[ht||R.rowspan?(0,m.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[vt]):vt,lt&&(0,m.el)("div",{class:ct}),f===d.Split.left&&K&&E+K>x.length||V?(0,m.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{left:((V==null?void 0:V.widthBefore)||(0,_.getWidth)(x,x.length-E,E))-l/2}}):null]):null}).filter(function(F){return F}))})}function t(o){return{role:"rowgroup","aria-rowcount":o}}g.getRows=n,g.getFixedSpans=e,g.getFixedRows=function(o,c,f){var v,x=o.leftSplit,k=o.$totalWidth,S=n(o,c),O=e(o,c,f),P=null;if(c.name==="footer"&&!c.sticky){var T=o.rightSplit,j=o.fixedColumns,$=function(E){E===void 0&&(E=!1);var V=E?j.right:j.left;return!E&&x>=0||E&&T>=0?n(b(b({},o),{currentColumns:V,$positions:b(b({},o.$positions),{xStart:0,xEnd:E?T:x})}),c):[]};P=w(w([],$(),!0),$(!0),!0)}var I,F=((v={position:"sticky"})[c.position]=0,v);return c.sticky||(F.left=-o.scroll.left,I=-o.scroll.left,F.position="relative"),(0,m.el)(".dhx_".concat(c.name,"-wrapper").concat(o.rightSplit?".dhx_grid__rows_right--fixed":""),{class:c.sticky?"":"dhx_compatible-".concat(c.name),style:b(b({},F),{left:c.sticky?I:0,height:c.name==="footer"?o[c.name+"Height"]+l/2:o[c.name+"Height"],width:c.sticky?k:c.wrapper.width-l}),role:"presentation"},[(0,m.el)(".dhx_grid-".concat(c.name).concat(x?".dhx_grid_fixed_left":""),{style:{height:c.name==="footer"?o[c.name+"Height"]+l/2:o[c.name+"Height"],left:I,paddingLeft:c.shifts.x,width:k},role:"presentation"},[(0,m.el)(".dhx_".concat(c.name,"-rows"),b({},t(w([],S,!0).length)),w([],S,!0)),(0,m.el)(".dhx_".concat(c.name,"-spans"),{style:{marginLeft:-c.shifts.x},class:"dhx_".concat(c.name,"-rows"),role:"presentation"},O),P&&(0,m.el)(".dhx_".concat(c.name,"-fixed-cols"),{style:{position:"absolute",top:0,left:o.scroll.left+"px",height:"100%"}},P)]),(0,m.el)("div",{style:{width:k},role:"presentation"})])},g.getFixedDataRows=function(o,c,f){if(!(f===d.Split.top&&typeof o.topSplit!="number"||f===d.Split.bottom&&typeof o.bottomSplit!="number")){var v=o.$totalWidth,x=o.topSplit,k=o.bottomSplit,S=o.$positions,O=o.data,P=o.$totalHeight,T=o.$width,j=o.headerHeight,$=o.footerHeight,I=o.$scrollBarWidth,F=f===d.Split.bottom,E=F?o.fixedRows.bottom:o.fixedRows.top,V=F?"bottomFixedRows":"topFixedRows",z=(0,p.getCells)(b(b({},o),{data:E,$renderFrom:V,$positions:b(b({},S),{yStart:0,yEnd:F?k:x})})),X=E.reduce(function(R,W){return R+W.$height},0),Y=(0,p.getSpans)(b(b({},o),{$renderFrom:V,data:O}),F?d.Split.bottom:d.Split.top),U=(0,h.getTotalHeight)(o.fixedRows.bottom),A=function(R){return(0,u.getFixedCols)(b(b({},o),{headerHeight:0,data:E,$renderFrom:V,scroll:b(b({},o.scroll),{top:-1}),$positions:b(b({},S),{yStart:0,yEnd:F?k:x}),$totalHeight:X,$data:O}),b(b({},c),{shifts:b(b({},c.shifts),{y:0})}),R,f)||[]},M=w(w([],A(d.Split.left),!0),A(d.Split.right),!0);return[(0,m.el)(".dhx_grid-fixed-data-rows-wrap",{class:F?"dhx_grid__rows_bottom--fixed":"",style:{top:F?P+j+$<c.wrapper.height-I.x-l?P+j-U+l/2:c.wrapper.height-U-$-l/2-I.x:j,overflow:"hidden",height:X>c.wrapper.height?c.wrapper.height:X,width:v+I.y+l<T?v:T-I.y-l}},w(w([(0,m.el)(".dhx_grid-fixed-cols",b(b({onwheel:h.scrollFixedColsAndRows,style:{left:-o.scroll.left+"px",paddingLeft:c.shifts.x,position:"absolute",width:v},_flags:m.KEYED_LIST},(0,p.getHandlers)(0,S.xStart,o)),t(O.length)),[(0,m.el)(".dhx_grid-fixed-rows",{class:o.rightSplit?"dhx_grid__rows_right--fixed":""},w(w([],z,!0),[Y&&(0,m.el)(".dhx_span-spans",{role:"presentation"},[Y])],!1))])],M,!0),[o.bottomSplit?(0,m.el)(".dhx_grid__rows-border--frozen",{role:"presentation"}):null],!1))]}}},function(H,g,y){var b,w=this&&this.__extends||(b=function(s,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},b(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function r(){this.constructor=s}b(s,l),s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}),m=this&&this.__assign||function(){return m=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},m.apply(this,arguments)},_=this&&this.__spreadArray||function(s,l,r){if(r||arguments.length===2)for(var a,i=0,n=l.length;i<n;i++)!a&&i in l||(a||(a=Array.prototype.slice.call(l,0,i)),a[i]=l[i]);return s.concat(a||Array.prototype.slice.call(l))};Object.defineProperty(g,"__esModule",{value:!0}),g.Card=void 0;var h=y(0),d=y(28),p=y(19),u=function(s){function l(r,a){return s.call(this,r,a)||this}return w(l,s),l.prototype.render=function(){var r=this,a=this.config,i=a.id,n=a.angle,e=a.width,t=a.height,o=a.headerColor,c=a.$group,f=a.$selected,v=c||f?f?2:1:0,x=this.config.$selected?o:"#E4E4E4",k=this.getCoords(this.config),S=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(O,P){S.push((0,p.getCircleTpl)(r.config,P))}):S.push((0,p.getCircleTpl)(this.config)),(0,h.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_card",{_key:i,"data-dhx-id":i,class:this.getCss(),style:{transform:"rotate(".concat(n||0,"deg)"),position:"absolute",top:k.y,left:k.x,zIndex:v}},_([(0,h.el)("div",{style:{height:t,width:e,border:"1px solid ".concat(x),borderRadius:"1px"}}),(0,p.getHeaderTpl)(this.config),(0,p.getTextTemplate)(this.config,this.getContent())],S,!0))},l.prototype.setDefaults=function(r,a){var i=r.width,n=r.height,e=r.text,t=r.headerColor,o=r.fixed,c=a.width?parseFloat(a.width):140,f=a.height?parseFloat(a.height):90;return r.width=i||c,r.height=n||f,r.text=typeof e=="string"?e:a.text||"",r.headerColor=t||a.headerColor||"",r.fixed=o||!1,r.editable=typeof r.editable!="boolean"||r.editable,r},l.prototype.getContent=function(){var r=this.config,a=r.$editable,i=r.text;return(0,h.el)("span.dhx_diagram_item__text",{style:(0,p.getShapeCss)(m(m({},this.config),{textAlign:"center",textVerticalAlign:"center"}))},a?[this.getEditorNode()]:i)},l}(d.BaseShape);g.Card=u},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}),m=this&&this.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var r,a=0,i=s.length;a<i;a++)!r&&a in s||(r||(r=Array.prototype.slice.call(s,0,a)),r[a]=s[a]);return u.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(g,"__esModule",{value:!0}),g.CustomShape=void 0;var _=y(0),h=y(28),d=y(19),p=function(u){function s(l,r){var a=u.call(this,l,r)||this;return a.shapes=r.shapes,a}return w(s,u),s.prototype.render=function(){var l=this,r=this.config,a=r.id,i=r.angle,n=r.width,e=r.height,t=r.$group,o=r.$selected,c=t||o?o?2:1:0,f=this.getCoords(this.config),v=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(x,k){v.push((0,d.getCircleTpl)(l.config,k))}):v.push((0,d.getCircleTpl)(this.config)),(0,_.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_template",{_key:a,class:this.getCss(),"data-dhx-id":a,style:{transform:"rotate(".concat(i||0,"deg)"),zIndex:c,position:"absolute",height:e,width:n,top:f.y,left:f.x}},m([this._getCustomContent()],v,!0))},s.prototype.setDefaults=function(l,r){Object.keys(r).forEach(function(n){l[n]=l[n]||r[n]});var a=r.width?parseFloat(r.width):140,i=r.height?parseFloat(r.height):90;return l.width=l.width||a,l.height=l.height||i,l.x=l.x||0,l.y=l.y||0,l.fixed=l.fixed||!1,l},s.prototype._getCustomContent=function(){var l=this.config,r=l.type,a=l.width,i=l.height,n=this.shapes[r];if(typeof n=="function")return(0,_.el)("div.dhx_diagram_shape__content",{style:{width:a,height:i}},this._getShapeFromFunction(n))},s.prototype._normalizeConfigText=function(l){var r=this;return Array.isArray(l)?l.forEach(function(a){return r._normalizeConfigText(a)}):typeof l=="string"&&(l.includes("&")&&(l=l.replace(/&/g,"&amp;")),l.includes("<")&&(l=l.replace(/</g,"&lt;")),l.includes(">")&&(l=l.replace(/>/g,"&gt;")),l.includes("'")&&(l=l.replace(/'/g,"&apos;")),l.includes('"')&&(l=l.replace(/"/g,"&quot;"))),l},s.prototype._getShapeFromFunction=function(l){var r=this,a={};Object.entries(this.config).forEach(function(n){var e=n[0],t=n[1];(e!=="id"&&e!=="type"&&e!=="preview"&&!e.startsWith("$")&&typeof t=="string"||Array.isArray(t))&&(a[e]=r._normalizeConfigText(t))});var i=new DOMParser().parseFromString(l(Object.assign({},this.config,a)),"text/xml");return[(0,_.jsonToVDOM)((0,_.xmlToJson)(i))]},s}(h.BaseShape);g.CustomShape=p},function(H,g,y){var b,w=this&&this.__extends||(b=function(s,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},b(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function r(){this.constructor=s}b(s,l),s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}),m=this&&this.__assign||function(){return m=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},m.apply(this,arguments)},_=this&&this.__spreadArray||function(s,l,r){if(r||arguments.length===2)for(var a,i=0,n=l.length;i<n;i++)!a&&i in l||(a||(a=Array.prototype.slice.call(l,0,i)),a[i]=l[i]);return s.concat(a||Array.prototype.slice.call(l))};Object.defineProperty(g,"__esModule",{value:!0}),g.ShapesCollection=void 0;var h=y(1),d=y(8),p=y(27),u=function(s){function l(r,a){var i=s.call(this,r,a)||this;return i._groupChildren={},i._children={},i._roots=[],i.events.on(p.DataEvents.change,function(n,e,t){var o,c=(o=t==null?void 0:t.$item)===null||o===void 0?void 0:o.getBaseType();if(i.config.diagramConfig.type==="default")switch(e){case"add":c!=="group"&&c!=="swimlane"||(c==="swimlane"&&i._checkSwimlaneCells(t),i._setGroupChildren(t));break;case"update":c!=="group"&&c!=="swimlane"||i._setGroupChildren(t);break;case"remove":c!=="group"&&c!=="swimlane"||i._removeGroupChildren(t)}else e==="add"&&t.parent&&i._addCore({from:t.parent,to:t.id},-1);e==="remove"&&(i._removeNested(t),i._removeCore(t.$parent)),i._mark_chains()}),i.events.on(p.DataEvents.filter,function(){return i._mark_chains()}),i}return w(l,s),l.prototype.getChildren=function(r,a){a===void 0&&(a=!0);var i=this._groupChildren[r]||this._children[r],n=[];if(i&&(n=_(_([],n,!0),i,!0),a))for(var e=0;e<i.length;e++)n=_(_([],n,!0),this.getChildren(i[e].id),!0);return n},l.prototype.eachChild=function(r,a,i){i===void 0&&(i=!0);var n=this._groupChildren[r]||this._children[r];if(n)for(var e=0;e<n.length;e++){var t=n[e];a.call(this,t),(this._groupChildren[t.id]||this._children[t.id])&&i&&this.eachChild(t.id,a)}},l.prototype.eachParent=function(r,a,i){i===void 0&&(i=!1);var n=this.getItem(r);if(n&&!this._roots.includes(r)){i&&a.call(this,n);var e=this.getItem(n.parent||n.$group);a.call(this,e),this.eachParent(n.parent||n.$group,a)}},l.prototype.getNearId=function(r){var a=this._pull[r];if(!a)return this._order.length?this._order[0].id:"";for(var i=a,n=this.config.diagramConfig.type;(n==="org"||n==="mindmap")&&i.$parent;)if((i=this._pull[this._pull[i.$parent].from]).open===!1)return i.id;return a.id},l.prototype.mapVisible=function(r){var a=this,i=[],n=this.config.diagramConfig.type;if(n==="mindmap"||n==="org")for(var e=this.getRoots(),t=0;t<e.length;t++)this._eachBranch(this.getItem(e[t]),r,i);else this.forEach(function(o){if(!o.hidden){if(o.$item.getBaseType()==="line"){var c=a.getItem(o.from)||{},f=a.getItem(o.to)||{};if(c.hidden||f.hidden)return;a._setLineLevel(o,c,f)}i.push(r(o))}});return i},l.prototype.getRoots=function(){return this._roots},l.prototype.getRoot=function(r){if(r&&this.exists(r)){var a=this.getItem(r);return a.$group||a.parent?this.getRoot(a.$group||a.parent):r}},l.prototype.serialize=function(){return this._serialize(_([],s.prototype.serialize.call(this),!0))||[]},l.prototype._serialize=function(r){var a=this;if(r.length)return r.map(function(i){if((0,h.isType)(i)==="object"){var n=m({},i);return Object.entries(n).forEach(function(e){var t=e[0],o=e[1];t.startsWith("$")?delete n[t]:Array.isArray(o)?n[t]=a._serialize(o):(0,h.isType)(o)==="object"&&(n[t]=a._serialize([o])[0])}),n}return i})},l.prototype._removeNested=function(r){var a=this,i=this.config.diagramConfig.type,n=r.$connection,e=r.$group;if(i==="default"&&(e&&this._setGroupChildren(this.getItem(e)),r.$item.getBaseType()==="line"&&this.eachChild(r.id,function(o){return a._removeCore(o.id)})),n)for(var t=0;t<n.length;t++)i!=="mindmap"&&i!=="org"||(this._removeNested(this.getItem(n[t][1])),this._removeCore(n[t][1])),this._removeCore(n[t][0]),this.eachChild(n[t][0],function(o){return a._removeCore(o.id)})},l.prototype._eachBranch=function(r,a,i){if(!r.hidden&&(i.push(a(r)),r.open!==!1)){var n=r.$connection;if(n)for(var e=0;e<n.length;e++){var t=this.getItem(n[e][1]);t.hidden||(i.push(a(this.getItem(n[e][0]))),this._eachBranch(t,a,i))}}},l.prototype._parse_data=function(r){for(var a=this,i=[],n=!1,e=0;e<r.length;e++){var t=r[e];t.parent&&!n&&i.push({from:t.parent,to:t.id}),t.from&&(n=!0)}i.length&&!n&&(r=r.concat(i)),s.prototype._parse_data.call(this,r),this._mark_chains(),this.mapVisible(function(o){var c=o==null?void 0:o.$item.getBaseType();c!=="group"&&c!=="swimlane"||(c==="swimlane"&&a._checkSwimlaneCells(o),a._setGroupChildren(o))})},l.prototype._mark_chains=function(){var r=this;this._roots=[],this._children={};var a={},i={},n={},e={},t={},o=this.config.diagramConfig.type;if(this.forEach(function(f){if(f.$item.getBaseType()==="line"){var v=f;i[v.to]=v.id,a[v.from]||(a[v.from]=[]),a[v.from].push([f.id,v.to]),o==="default"&&(a[v.to]||(a[v.to]=[]),a[v.to].push([f.id,v.from])),n[v.to]=v.from}o==="org"&&(f.assistant&&(e[f.parent]||(e[f.parent]=[]),e[f.parent].push(f.id)),f.partner&&(t[f.parent]||(t[f.parent]=[]),t[f.parent].push(f.id)))}),this.forEach(function(f){var v=f.$item.getBaseType(),x=f.id,k=r.config.diagramConfig,S=k.type,O=k.lineConfig;f.$typeConfig={type:S,lineConfig:O},v==="shape"&&(f.$connection=a[x]),S==="default"?(f.$group||r._roots.push(x),v==="lineTitle"&&(r._children[f.parent]||(r._children[f.parent]=[]),r._children[f.parent].push(f),f.$item.parent=r.getItem(f.parent))):v==="shape"&&(f.$parent=i[x],f.parent||(f.parent=n[x]),f.parent?(r._children[f.parent]||(r._children[f.parent]=[]),r._children[f.parent].push(f)):r._roots.push(x),e[x]?f.$assistants=e[x]:delete f.$assistants,t[x]?f.$partners={common:t[x]}:delete f.$partners)}),o!=="default"){if(o==="mindmap"){var c=this.getItem(this._roots[0]);!(0,h.isEmptyObj)(c==null?void 0:c.openDir)&&Object.values(c==null?void 0:c.openDir).every(function(f){return!f})&&(c.open=!1)}this._setBranchLevel(this.getItem(this._roots[0]))}},l.prototype._setBranchLevel=function(r,a){if(a===void 0&&(a=0),r){var i=r==null?void 0:r.$connection;if(i)for(var n=void 0,e=0;e<i.length;e++)(n=this.getItem(i[e][1])).hidden||(r.$level=a,this._setBranchLevel(n,a+1));r.$level=a++}},l.prototype._setLineLevel=function(r,a,i){if(a||i){var n=0;if((a==null?void 0:a.$group)&&(a==null?void 0:a.id)){var e=[];this.eachParent(a.id,function(o){return(o==null?void 0:o.id)&&e.push(o.id)}),e.length>n&&(n=e.length)}if((i==null?void 0:i.$group)&&(i==null?void 0:i.id)){var t=[];this.eachParent(i.id,function(o){return(o==null?void 0:o.id)&&t.push(o.id)}),t.length>n&&(n=t.length)}r.$level=n}else r.$level=0},l.prototype._setGroupChildren=function(r){var a;if(r){if(this._groupChildren[r.id]=[],r.groupChildren||(r.groupChildren=[]),(a=r==null?void 0:r.layout)===null||a===void 0?void 0:a.length){var i=new Set(r.layout.flat(1/0));r.groupChildren=Array.from(i)}var n=r.groupChildren;if(Array.isArray(n)&&n.length)for(var e=0;e<n.length;e++){var t=this._pull[n[e]];t&&(t.$group=r.id,this._groupChildren[r.id].push(t),t.$item.getBaseType()!=="group"||this._groupChildren[t.id]||this._setGroupChildren(t))}this._setGroupVisible(r)}},l.prototype._removeGroupChildren=function(r){var a=r.id;if(this._groupChildren[a].length)for(var i=0;i<this._groupChildren[a].length;i++)this.remove(this._groupChildren[a][i].id);delete this._groupChildren[a]},l.prototype._setGroupVisible=function(r){var a=this,i=r.id,n=r.open,e=r.header;!(e!=null&&e.enable)||!(e!=null&&e.closable)||n?this.eachChild(i,function(t){var o,c;((o=a._pull[t.$group])===null||o===void 0?void 0:o.open)&&!(!((c=a._pull[t.$group])===null||c===void 0)&&c.hidden)&&a.update(t.id,{hidden:!n},!0)}):this.eachChild(i,function(t){return a.update(t.id,{hidden:!n},!0)})},l.prototype._checkSwimlaneCells=function(r){for(var a=r.layout,i={},n=0;n<a.length;n++)for(var e=a[n],t=0;t<e.length;t++){var o=e[t];i[o]||this.exists(o)||(i[o]={type:"$sgroup",id:o})}this.add(Object.values(i))},l}(d.DataCollection);g.ShapesCollection=u},function(H,g,y){var b,w,m;Object.defineProperty(g,"__esModule",{value:!0}),g.DirVectors=g.Direction=g.LineMode=void 0,function(_){_[_.Direct=1]="Direct",_[_.Edges=2]="Edges"}(w||(g.LineMode=w={})),function(_){_[_.Top=1]="Top",_[_.Bottom=2]="Bottom",_[_.Right=3]="Right",_[_.Left=4]="Left"}(m||(g.Direction=m={})),g.DirVectors=((b={})[m.Bottom]={x:0,y:1},b[m.Top]={x:0,y:-1},b[m.Right]={x:1,y:0},b[m.Left]={x:-1,y:0},b)},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.setHeaderColor=void 0;var b=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];g.setHeaderColor=function(w){w.forEach(function(m){var _=m.$connection;if(_){var h=w.getItem(_[0][1]).headerColor;m.$expandColor=h||b[(m.$level+1)%b.length]}var d=b[m.$level%b.length];m.partner&&(d=b[(m.$level-1)%b.length]),m.assistant&&(d=b[(m.$level+2)%b.length]),m.stroke=m.stroke||d,m.headerColor=m.headerColor||d})}},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},m.apply(this,arguments)},_=this&&this.__spreadArray||function(r,a,i){if(i||arguments.length===2)for(var n,e=0,t=a.length;e<t;e++)!n&&e in a||(n||(n=Array.prototype.slice.call(a,0,e)),n[e]=a[e]);return r.concat(n||Array.prototype.slice.call(a))};Object.defineProperty(g,"__esModule",{value:!0}),g.Swimlane=void 0;var h=y(0),d=y(1),p=y(57),u=y(58),s=y(19),l=function(r){function a(i,n){var e=r.call(this,i,n)||this;return e.subHeaderNearCells={rows:[],cols:[]},e.children={},e}return w(a,r),a.prototype.getBaseType=function(){return"swimlane"},a.prototype.isEditable=function(i){var n,e;if(i){var t=this.getSubHeaderType(i),o=this.config[t==="col"?"subHeaderCols":"subHeaderRows"],c=(o==null?void 0:o.headers).find(function(f){var v=f.id;return i===v});return typeof(c==null?void 0:c.editable)=="boolean"?c.editable:o==null?void 0:o.editable}return(e=(n=this.config)===null||n===void 0?void 0:n.header)===null||e===void 0?void 0:e.editable},a.prototype.getChildHtmlNodes=function(i,n){return this.removeExtraDefaults(n),this.setExtraDefaults(i,n),r.prototype.getChildHtmlNodes.call(this,i,n)},a.prototype.render=function(i){var n,e=this.config,t=e.id,o=e.header,c=e.open,f=e.$width,v=e.$height,x=e.subHeaderCols,k=e.subHeaderRows,S=i||this.data.getChildren(this.id,!1);n=this.getChildHtmlNodes(this.config,S);var O=!(o!=null&&o.enable)||!(o!=null&&o.closable)||c;if(n.length||!O){this.setServiceProp(this.config);var P=o==null?void 0:o.enable,T=O&&(x==null?void 0:x.enable),j=O&&(k==null?void 0:k.enable),$="dhx_diagram_item dhx_diagram_group ";return o!=null&&o.enable&&($+="dhx_diagram_group--position_".concat(o.position)),(0,h.el)("div.dhx_diagram_swimlane",{_key:t},[(0,h.el)("div",{"data-dhx-id":t,class:"".concat($," ").concat(this.getCss()),style:(0,s.getSwimlaneContainerStyle)(this.config,this.getCoords(this.config))},[(0,h.el)("div.dhx_diagram_group__children",_([(0,h.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:f,height:v},this.getChildSvgNodes(this.config,this.data))],n,!0)),P&&this.getGroupHeader(this.config,this.getEditorNode()),T&&this.getSubHeaderNode(this.config,"cols"),j&&this.getSubHeaderNode(this.config,"rows")]),(0,h.el)("div.dhx_diagram_group--background",{style:(0,s.getSwimlaneBackGround)(this.config,this.getCoords(this.config))})])}},a.prototype.setDefaults=function(i){this.setServiceProp(i),r.prototype.setDefaults.call(this,i);var n={fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",iconColor:"#808080",editable:!0,fill:"#EEF1F6"};return i.subHeaderRows&&(i.subHeaderRows=m(m({height:40,enable:!0,position:"left"},n),i.subHeaderRows),Array.isArray(i.subHeaderRows.headers)||(i.subHeaderRows.headers=[])),i.subHeaderCols&&(i.subHeaderCols=m(m({height:40,enable:!0,position:"top"},n),i.subHeaderCols),Array.isArray(i.subHeaderCols.headers)||(i.subHeaderCols.headers=[])),i},a.prototype.setExtraDefaults=function(i,n){var e,t,o,c,f,v,x,k,S=i.layout,O=i.height,P=i.width,T=i.header,j=i.x,$=i.y,I=i.subHeaderCols,F=i.subHeaderRows,E=i.style,V=E.stroke,z=E.strokeWidth,X={},Y=0,U=0,A=this.getHeaderStates(i),M=A.isHeaderBottom,R=A.isHeaderLeft,W=A.isHeaderRight,Q=A.isHeaderTop,Z=A.isSubHeaderBottom,B=A.isSubHeaderLeft,K=A.isSubHeaderRight,J=A.isSubHeaderTop,tt=parseFloat(T==null?void 0:T.height)||0,nt=parseFloat(F==null?void 0:F.height)||0,rt=parseFloat(I==null?void 0:I.height)||0;if(O){var lt=0;(Q||M)&&(lt+=tt),(J||Z)&&(lt+=rt),Y=(O-lt)/S.length}if(P){lt=0,(W||R)&&(lt+=tt),(K||B)&&(lt+=nt);for(var ct=0,ut=0;ut<S.length;ut++){var at=S[ut].length;at>ct&&(ct=at)}U=(P-lt)/ct}this.subHeaderNearCells={rows:[],cols:[]},this.children={};for(var ht=0;ht<n.length;ht++)this.children[n[ht].id]=n[ht];for(ht=0;ht<S.length;ht++)for(var pt=S[ht],gt=0;gt<pt.length;gt++){var vt=pt[gt],_t=X[vt],N=gt!==0&&X[pt[gt-1]],dt=ht!==0&&X[S[ht-1][gt]];if(!_t&&this.children[vt]){X[vt]=this.children[vt],X[vt].height=Y,X[vt].width=U,X[vt].$rowCount=1,X[vt].$colCount=1,gt===0?(lt=0,R&&(lt+=tt),B&&(lt+=nt),X[vt].x=j+lt,this.subHeaderNearCells.rows.push(X[vt])):X[vt].x=N.x+N.width,ht===0?(lt=0,Q&&(lt+=tt),J&&(lt+=rt),X[vt].y=$+lt,this.subHeaderNearCells.cols.push(X[vt])):X[vt].y=dt.y+dt.height;var bt=this.subHeaderNearCells.rows.length-1;!((e=i==null?void 0:i.subHeaderRows)===null||e===void 0)&&e.enable&&(!((t=i.subHeaderRows)===null||t===void 0)&&t.headers[bt]||(i.subHeaderRows.headers[bt]={text:p.default.shapebar.untitled,id:(0,d.uid)()}),!((c=(o=i.subHeaderRows)===null||o===void 0?void 0:o.headers[bt])===null||c===void 0)&&c.id||(i.subHeaderRows.headers[bt].id=(0,d.uid)()));var xt=this.subHeaderNearCells.cols.length-1;!((f=i==null?void 0:i.subHeaderCols)===null||f===void 0)&&f.enable&&(!((v=i.subHeaderCols)===null||v===void 0)&&v.headers[xt]||(i.subHeaderCols.headers[xt]={text:p.default.shapebar.untitled,id:(0,d.uid)()}),!((k=(x=i.subHeaderCols)===null||x===void 0?void 0:x.headers[xt])===null||k===void 0)&&k.id||(i.subHeaderCols.headers[xt].id=(0,d.uid)())),X[vt].style.stroke=V,X[vt].style.strokeWidth=z}else _t&&(N===_t&&dt!==_t&&(X[vt].width+=U,X[vt].$colCount++),dt===_t&&N!==_t&&(X[vt].height+=Y,X[vt].$rowCount++));N&&N!==_t&&(X[vt].$borderPosition.left=!0),dt&&dt!==_t&&(X[vt].$borderPosition.top=!0)}X=null},a.prototype.removeExtraDefaults=function(i){for(var n=0;n<i.length;n++)i[n].$borderPosition={left:!1,top:!1}},a.prototype.getSubHeaderNode=function(i,n){var e,t,o=i.header,c=i.subHeaderCols,f=i.subHeaderRows,v=i.height,x=i.width,k=i.id,S=this.getHeaderStates(i),O=S.isHeaderBottom,P=S.isHeaderLeft,T=S.isHeaderRight,j=S.isHeaderTop,$=S.isSubHeaderBottom,I=S.isSubHeaderLeft,F=S.isSubHeaderRight,E=S.isSubHeaderTop,V=parseFloat(o==null?void 0:o.height)||0,z=parseFloat(f==null?void 0:f.height)||0,X=parseFloat(c==null?void 0:c.height)||0,Y=0,U=0,A=0,M=0;n==="cols"&&(U=X,Y=x,E&&j&&(M=V),$&&(M=v-X,O&&(M=v-V-X)),P&&(A=V,Y=x-V),T&&(Y=x-V)),n==="rows"&&(U=v,Y=z,I&&P&&(A=V),F&&(A=x-z,T&&(A=x-z-V)),j&&(M=V,U=v-V),O&&(U=v-V),E&&(M+=X,U-=X),$&&(U-=X));for(var R={height:U,width:Y,top:M,left:A},W=this.subHeaderNearCells[n].length,Q=n==="cols"?c.headers:f.headers,Z=[],B=0;B<W;B++){var K=Q[B],J=n==="rows"?(e=this.subHeaderNearCells.rows[B])===null||e===void 0?void 0:e.height:"100%",tt="100%";if(K.$subMenu={enable:!0,data:[]},K.$subMenu.enable){var nt="".concat(k,"/").concat(K.id,"/");n==="cols"&&(K.$subMenu.data=[{id:nt+"add_column_left",value:p.default.menuAddColumnLeft,icon:"dxi dxi-table-column-plus-before",add:"left"},{id:nt+"add_column_right",value:p.default.menuAddColumnRight,icon:"dxi dxi-table-column-plus-after",add:"right"},{id:nt+"move_column_left",value:p.default.menuMoveColumnLeft,icon:"dxi dxi-arrow-left",disabled:B===0,move:"left"},{id:nt+"move_column_right",value:p.default.menuMoveColumnRight,icon:"dxi dxi-arrow-right",disabled:B===W-1,move:"right"},{type:"separator"},{id:nt+"remove",value:p.default.menuDeleteCol,icon:"dxi dxi-delete-outline",disabled:W===1,remove:"col"}]),n==="rows"&&(K.$subMenu.data=[{id:nt+"add_row_up",value:p.default.menuAddRowUp,icon:"dxi dxi-table-row-plus-before",add:"up"},{id:nt+"add_row_down",value:p.default.menuAddRowDown,icon:"dxi dxi-table-row-plus-after",add:"down"},{id:nt+"move_row_up",value:p.default.menuMoveRowUp,icon:"dxi dxi-arrow-up",disabled:B===0,move:"up"},{id:nt+"move_row_down",value:p.default.menuMoveRowDown,icon:"dxi dxi-arrow-down",disabled:B===W-1,move:"down"},{type:"separator"},{id:nt+"remove",value:p.default.menuDeleteRow,icon:"dxi dxi-delete-outline",disabled:W===1,remove:"row"}])}n==="cols"&&(tt=(t=this.subHeaderNearCells.cols[B])===null||t===void 0?void 0:t.width,(I&&B===0||F&&B===W-1)&&(tt+=z)),Z.push(this.getSubHeaderCellNode(m(m({},K),{type:n,index:B,width:tt,height:J}),this.config,this.getEditorNode()))}return(0,h.el)("div.dhx_diagram_swimlane__subheader.dhx_diagram_swimlane__subheader--position_".concat(n),{style:R},_([],Z,!0))},a.prototype.getSubHeaderCellNode=function(i,n,e){var t=this.getHeaderStates(n),o=t.isSubHeaderLeft,c=t.isSubHeaderTop,f=n.style,v=f.strokeWidth,x=f.stroke,k=i.width,S=i.height,O=i.id,P=i.text,T=i.type,j=i.index,$=T==="cols"?n.subHeaderCols:n.subHeaderRows,I=$.lineHeight,F=$.textAlign,E=$.textVerticalAlign,V=$.fontSize,z=$.fontColor,X=$.fontStyle,Y=$.fontWeight,U=$.fill,A=$.iconColor,M={lineHeight:i.lineHeight||I,textAlign:i.textAlign||F,textVerticalAlign:i.textVerticalAlign||E,fontSize:i.fontSize||V,fontColor:i.fontColor||z,fontStyle:i.fontStyle||X,fontWeight:i.fontWeight||Y},R={width:k,height:S};if(T==="cols"){var W=j!==0?", ".concat(v,"px 0px 0px ").concat(x," inset"):"";R.boxShadow="0px ".concat(c?"-":"").concat(v,"px 0px ").concat(x," inset ").concat(W)}if(T==="rows"){var Q=j!==0?", 0px ".concat(v,"px 0px ").concat(x," inset"):"";R.boxShadow="".concat(o?"-":"").concat(v,"px 0px 0px ").concat(x," inset ").concat(Q)}return(0,h.el)("div.dhx_diagram_swimlane__subheader_container",{_key:O,subheader_id:O,style:R},[(0,h.el)("div.dhx_diagram_swimlane__subheader_text",{style:m({},(0,s.getTextStyle)(m(m({},M),{container:{width:k,height:S}})))},n.$editable&&this.editableProperty.editableId===O?[e]:P),i.$subMenu.enable&&(0,s.getMenuIcon)({dir:T,color:i.iconColor||A}),(0,h.el)("div",{style:{position:"absolute",width:k,height:S,background:i.fill||U,zIndex:-1}})])},a.prototype.getHeaderStates=function(i){var n=i.header,e=i.subHeaderRows,t=i.subHeaderCols;return{isHeaderTop:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="top",isHeaderBottom:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="bottom",isHeaderRight:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="right",isHeaderLeft:(n==null?void 0:n.enable)&&(n==null?void 0:n.position)==="left",isSubHeaderTop:(t==null?void 0:t.enable)&&(t==null?void 0:t.position)==="top",isSubHeaderBottom:(t==null?void 0:t.enable)&&(t==null?void 0:t.position)==="bottom",isSubHeaderRight:(e==null?void 0:e.enable)&&(e==null?void 0:e.position)==="right",isSubHeaderLeft:(e==null?void 0:e.enable)&&(e==null?void 0:e.position)==="left"}},a.prototype.getSubHeaderType=function(i){var n,e,t=this.config,o=t.subHeaderCols,c=t.subHeaderRows,f=(c==null?void 0:c.enable)&&((n=c==null?void 0:c.headers)===null||n===void 0?void 0:n.length),v=(o==null?void 0:o.enable)&&(o==null?void 0:o.headers.length),x=-1,k=-1;return f&&(x=c.headers.findIndex(function(S){var O=S.id;return i===O}),x!==-1&&(e="row")),v&&(k=o.headers.findIndex(function(S){var O=S.id;return i===O}),k!==-1&&(e="col")),e},a}(u.BaseGroup);g.Swimlane=l},function(H,g,y){var b,w=this&&this.__extends||(b=function(p,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])},b(p,u)},function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=p}b(p,u),p.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}),m=this&&this.__spreadArray||function(p,u,s){if(s||arguments.length===2)for(var l,r=0,a=u.length;r<a;r++)!l&&r in u||(l||(l=Array.prototype.slice.call(u,0,r)),l[r]=u[r]);return p.concat(l||Array.prototype.slice.call(u))};Object.defineProperty(g,"__esModule",{value:!0}),g.Group=void 0;var _=y(0),h=y(19),d=function(p){function u(s,l){return p.call(this,s,l)||this}return w(u,p),u.prototype.setDefaults=function(s){return s.width=s.width||300,s.height=s.height||200,this.setServiceProp(s),p.prototype.setDefaults.call(this,s),s},u.prototype.render=function(){this.setServiceProp(this.config);var s=this.config,l=s.id,r=s.header,a=s.$width,i=s.$height,n="dhx_diagram_item dhx_diagram_group ";r!=null&&r.enable&&(n+="dhx_diagram_group--position_".concat(r.position));var e=this.getChildHtmlNodes(this.config,this.data),t=this.getChildSvgNodes(this.config,this.data);return(0,_.el)("div",{_key:l,"data-dhx-id":l,class:"".concat(n," ").concat(this.getCss()),style:(0,h.getGroupContainerStyle)(this.config,this.getCoords(this.config))},[(0,_.el)("div.dhx_diagram_group__children",m([(0,_.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:a,height:i},t)],e,!0)),(r==null?void 0:r.enable)&&this.getGroupHeader(this.config,this.getEditorNode())])},u}(y(58).BaseGroup);g.Group=d},function(H,g,y){var b,w=this&&this.__extends||(b=function(p,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])},b(p,u)},function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=p}b(p,u),p.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)}),m=this&&this.__assign||function(){return m=Object.assign||function(p){for(var u,s=1,l=arguments.length;s<l;s++)for(var r in u=arguments[s])Object.prototype.hasOwnProperty.call(u,r)&&(p[r]=u[r]);return p},m.apply(this,arguments)},_=this&&this.__spreadArray||function(p,u,s){if(s||arguments.length===2)for(var l,r=0,a=u.length;r<a;r++)!l&&r in u||(l||(l=Array.prototype.slice.call(u,0,r)),l[r]=u[r]);return p.concat(l||Array.prototype.slice.call(u))};Object.defineProperty(g,"__esModule",{value:!0}),g.GroupSwimlane=void 0;var h=y(0),d=function(p){function u(s,l){var r=p.call(this,s,l)||this;return r.setServiceProp(s),r}return w(u,p),u.prototype.setServiceProp=function(s){var l=s.height,r=s.width,a=s.$borderPosition;s.$captureArea=s.$captureArea||"out",s.$borderPosition=m({left:!1,top:!1},a),s.entryArea.catchArea=25,s.$width=r,s.$height=l},u.prototype.setDefaults=function(s){return p.prototype.setDefaults.call(this,s),delete s.header,s},u.prototype.render=function(){this.setServiceProp(this.config);var s=this.config,l=s.id,r=s.header,a=s.$width,i=s.$height,n="dhx_diagram_item dhx_diagram_group ";r!=null&&r.enable&&(n+="dhx_diagram_group--position_".concat(r.position," "));var e=this.getChildHtmlNodes(this.config,this.data),t=this.getChildSvgNodes(this.config,this.data);return(0,h.el)("div.dhx_diagram_group_swimlane",{_key:l},[(0,h.el)("div",{"data-dhx-id":l,class:"".concat(n," ").concat(this.getCss()),style:function(o,c){var f,v=o.$width,x=o.$height,k=o.$captureArea,S=o.$borderPosition,O=o.style,P=O.overFill,T=O.partiallyFill,j=O.fill,$=O.strokeWidth,I=O.stroke;switch(k){case"over":f=P;break;case"partially":f=T;break;default:f=j}var F=S!=null&&S.left?$:0,E=S!=null&&S.top?$:0,V="".concat(F,"px ").concat(E,"px 0px ").concat(I," inset");return{position:"absolute",background:f,width:v,height:x,top:c.y,left:c.x,boxShadow:V}}(this.config,this.getCoords(this.config))},[(0,h.el)("div.dhx_diagram_group__children",_([(0,h.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:a,height:i},t)],e,!0))])])},u}(y(58).BaseGroup);g.GroupSwimlane=d},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.drag=void 0;var b=function(){function w(){var m=this;this._moveHandler=function(_){var h=_.clientX,d=_.clientY;if(_.pointerType==="touch"&&_.preventDefault(),m._handler.onMove&&(Math.abs(h-m._start.x)>5||Math.abs(d-m._start.y)>5)){m._isMove=!0;var p={x:h-m._start.x,y:d-m._start.y};m._handler.onMove(_,p,m._context),m._start.x+=p.x*m._scale,m._start.y+=p.y*m._scale}},this._upHandler=function(_){_.pointerType==="touch"&&_.preventDefault(),document.removeEventListener("pointermove",m._moveHandler),document.removeEventListener("pointerup",m._upHandler),document.body.classList.remove("dhx_noselect"),m._isMove?m._handler.onUp(_):typeof m._handler.connectOnUp=="function"&&m._handler.connectOnUp(_),m._isMove=m._handler=m._start=null}}return w.prototype.start=function(m,_,h,d){this._handler=_,this._context=h,this._scale=d||1,this._start={x:m.clientX,y:m.clientY},document.addEventListener("pointermove",this._moveHandler),document.addEventListener("pointerup",this._upHandler),document.body.classList.add("dhx_noselect")},w}();g.drag=new b},function(H,g,y){var b,w=this&&this.__extends||(b=function(o,c){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(f[x]=v[x])},b(o,c)},function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function f(){this.constructor=o}b(o,c),o.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}),m=this&&this.__assign||function(){return m=Object.assign||function(o){for(var c,f=1,v=arguments.length;f<v;f++)for(var x in c=arguments[f])Object.prototype.hasOwnProperty.call(c,x)&&(o[x]=c[x]);return o},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.BaseDiagramEditor=void 0;var _=y(1),h=y(0),d=y(3),p=y(14),u=y(5),s=y(29),l=y(97),r=y(99),a=y(209),i=y(210),n=y(211),e=y(37),t=function(o){function c(f,v){var x=o.call(this,f,(0,_.extend)({scale:1,grid:!0,gridStep:10,shapeToolbar:!0,defaults:{},resizePoints:!0},v))||this;return x._touch={duration:350},x.version="6.0.1",x.events=new d.EventSystem(x),x._initDiagram(),x._initUI(f),x.history=new r.HistoryManager(x.diagram.data),x.model=new i.CopyManager(x),x._keyManager=new p.KeyManager(function(k,S){return S===x.diagram._uid}),x._setHandlers(),x}return w(c,o),c.prototype.paint=function(){this.view.paint()},c.prototype.parse=function(f){this.diagram.data.parse(f)},c.prototype.serialize=function(){return this.diagram.data.serialize()},c.prototype.zoomIn=function(f){f===void 0&&(f=.05),this.config.scale=this.diagram.config.scale+=f,this.events.fire(e.DiagramEditorEvents.zoomIn,[f]),this.paint()},c.prototype.zoomOut=function(f){f===void 0&&(f=.05),this.config.scale=this.diagram.config.scale=this.config.scale<=f?f:this.config.scale-f,this.events.fire(e.DiagramEditorEvents.zoomOut,[f]),this.paint()},c.prototype.import=function(f){this.diagram.data.parse(f.data.serialize())},c.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.view&&this.view.destructor(),this.diagram&&this.diagram.destructor(),this.events&&this.events.clear(),this.history.reset(),this.view=this.diagram=this.events=this.history=this.model=this._resizer=this._selectionBox=null,this.unmount()},c.prototype._setHandlers=function(){var f=this;this._initHotkeys(),this.diagram.events.on(s.SelectionEvents.afterUnSelect,function(v){var x=v.id,k=f.diagram.data.getItem(x);k!=null&&k.$connectMode&&(k.$connectMode=!1),f.paint()}),[s.DataEvents.change,s.DataEvents.filter,s.SelectionEvents.afterSelect].forEach(function(v){return f.diagram.events.on(v,function(){return f.paint()})}),[e.DiagramEditorEvents.zoomIn,e.DiagramEditorEvents.zoomOut].forEach(function(v){f.events.on(v,function(){var x=document.getElementById("scaleValue");x&&(x.innerText=(100*f.diagram.config.scale).toFixed(0)+"%")})}),this.diagram.events.on(s.DiagramEvents.emptyAreaMouseDown,function(v){if(f._resizer.connect.removeNearShape(),v.button===0){var x=f.diagram.getRootView().node.el,k=f.getBlockSelectedCoords(v,x);v.pointerType==="mouse"?(f._dragStart(v,x,k),f.paint()):(document.addEventListener("contextmenu",function(S){return S.preventDefault()},{once:!0}),f._touch.timer=setTimeout(function(){f._dragStart(v,x,k)},f._touch.duration),document.addEventListener("pointerup",function(S){S.timeStamp-v.timeStamp<f._touch.duration&&f._clearTouchTimer()},{once:!0}),document.addEventListener("pointermove",function(S){S.timeStamp-v.timeStamp<f._touch.duration&&f._clearTouchTimer()},{once:!0}),f.paint())}}),(0,h.awaitRedraw)().then(function(){f.view.getRootView().node.el.addEventListener("wheel",function(v){(v.ctrlKey||v.metaKey)&&((v.deltaY||v.detail||v.wheelDelta)>0?f.zoomOut():f.zoomIn(),v.preventDefault?v.preventDefault():v.returnValue=!1)})}),this.diagram.events.on(s.DiagramEvents.beforeRender,function(v){return f._diagramSize=v})},c.prototype._initHotkeys=function(){var f=this;this._keyManager.addHotKey("ctrl+a",function(v){if(!f.editbar.isFocused()){v.preventDefault();var x=[];f.diagram.data.forEach(function(P){f.config.type!=="default"&&P.$item.getBaseType()==="line"||x.push(P.id)});for(var k=0,S=x;k<S.length;k++){var O=S[k];f.diagram.selection.add({id:O,join:!0,batch:x})}f.paint()}}),this._keyManager.addHotKey("ctrl+shift+a",function(v){f.editbar.isFocused()||(v.preventDefault(),f.diagram.selection.remove())}),this._keyManager.addHotKey("delete",function(){f.editbar.isFocused()||f._removeSelected()}),this._keyManager.addHotKey("backspace",function(){f.editbar.isFocused()||f.diagram.editor.isEditable()||f._removeSelected()}),this._keyManager.addHotKey("ctrl+z",function(){f.editbar.isFocused()||f.history.undo()}),this._keyManager.addHotKey("ctrl+shift+z",function(){f.editbar.isFocused()||f.history.redo()}),this._keyManager.addHotKey("arrowLeft",function(){f.editbar.isFocused()||f.diagram.selection.getIds().forEach(function(v){var x=f.diagram.data.getItem(v);x.$group||f._moveItem(x,f.config.gridStep,"left")})}),this._keyManager.addHotKey("arrowRight",function(){f.editbar.isFocused()||f.diagram.selection.getIds().forEach(function(v){var x=f.diagram.data.getItem(v);x.$group||f._moveItem(x,f.config.gridStep,"right")})}),this._keyManager.addHotKey("arrowUp",function(){f.editbar.isFocused()||f.diagram.selection.getIds().forEach(function(v){var x=f.diagram.data.getItem(v);x.$group||f._moveItem(x,f.config.gridStep,"up")})}),this._keyManager.addHotKey("arrowDown",function(){f.editbar.isFocused()||f.diagram.selection.getIds().forEach(function(v){var x=f.diagram.data.getItem(v);x.$group||f._moveItem(x,f.config.gridStep,"down")})}),this._keyManager.addHotKey("alt+ctrl+c",function(v){v.preventDefault(),f.editbar.isFocused()||f.model.copyStyles()}),this._keyManager.addHotKey("alt+ctrl+v",function(){f.editbar.isFocused()||f.model.pasteStyles()}),this._keyManager.addHotKey("alt+1",function(){f.view.isVisible("shapebar")?f.view.hide("shapebar"):f.view.show("shapebar")}),this._keyManager.addHotKey("alt+2",function(){f.view.isVisible("editbar")?f.view.hide("editbar"):f.view.show("editbar")}),this._keyManager.addHotKey("alt+3",function(){f.config.grid=!f.config.grid,f.paint()})},c.prototype._getDefaults=function(){var f={};return Object.keys(s.flowShapes).forEach(function(v){return f[v]={}}),f=m(m({},f),{text:{text:"Text"}}),m(m({},f),this.config.defaults)},c.prototype._removeItem=function(f){var v=this.diagram.data.getItem(f);!v||(v==null?void 0:v.$level)===0&&this.config.type!=="default"||(this.diagram.data.remove(f),this._resizer.onUp())},c.prototype._getToolbarConfig=function(f){var v=f.type,x=f.shapeToolbar,k=[];switch(v){case"mindmap":k.push.apply(k,(0,n.getMindmapShapeToolbar)(s.locale));break;case"org":k.push.apply(k,(0,n.getOrgShapeToolbar)(s.locale));break;default:k.push.apply(k,(0,n.getDefaultShapeToolbar)(s.locale,this.config))}if(typeof x=="boolean"&&x)return k;if(Array.isArray(x)&&x.length){var S=[];return x.forEach(function(O){typeof O=="boolean"&&O&&S.push.apply(S,k);var P=k.find(function(T){return T.id===O});typeof O=="string"&&P&&S.push(P),(0,_.isObject)(O)&&typeof(O==null?void 0:O.id)=="string"&&typeof(O==null?void 0:O.content)=="string"&&S.push(O)}),S}return[]},c.prototype._moveItem=function(f,v,x){var k=this;if(!(arguments.length<3)&&f){var S=f.$item,O=f.id,P=f.x,T=f.y,j=f.dx,$=j===void 0?0:j,I=f.dy,F=I===void 0?0:I,E=S.getBaseType();E!=="group"&&E!=="swimlane"||this.diagram.data.eachChild(O,function(z){switch(x){case"left":if(k.config.type==="default")z.x=z.x%v==0?z.x-v:Math.ceil((z.x-v)/v)*v;else{var X=z.dx||0,Y=z.x;z.dx=(Y+X)%v==0?$-v:Math.ceil((Y+X-v)/v)*v-Y}break;case"right":k.config.type==="default"?z.x=z.x%v==0?z.x+v:Math.floor((z.x+v)/v)*v:(X=z.dx||0,Y=z.x,z.dx=(Y+X)%v==0?X+v:Math.floor((Y+X+v)/v)*v-Y);break;case"up":if(k.config.type==="default")z.y=z.y%v==0?z.x-v:Math.ceil((z.y-v)/v)*v;else{var U=z.dy||0,A=z.dy||0;z.dy=(A+U)%v==0?U-v:Math.ceil((A+U-v)/v)*v-A}break;case"down":k.config.type==="default"?z.y=z.y%v==0?z.x+v:Math.floor((z.y+v)/v)*v:(U=z.dy||0,A=z.dy||0,z.dy=(A+U)%v==0?U+v:Math.floor((A+U+v)/v)*v-A)}});var V={};switch(x){case"left":V=this.config.type==="default"?{x:P%v==0?P-v:Math.ceil((P-v)/v)*v}:{dx:(P+$)%v==0?$-v:Math.ceil((P+$-v)/v)*v-P};break;case"right":V=this.config.type==="default"?{x:P%v==0?P+v:Math.floor((P+v)/v)*v}:{dx:(P+$)%v==0?$+v:Math.floor((P+$+v)/v)*v-P};break;case"up":V=this.config.type==="default"?{y:T%v==0?T-v:Math.ceil((T-v)/v)*v}:{dy:(T+F)%v==0?F-v:Math.ceil((T+F-v)/v)*v-T};break;case"down":V=this.config.type==="default"?{y:T%v==0?T+v:Math.floor((T+v)/v)*v}:{dy:(T+F)%v==0?F+v:Math.floor((T+F+v)/v)*v-T}}this.diagram.data.update(O,V)}},c.prototype._removeSelected=function(){var f=this,v=this.diagram.selection.getIds();if(v.length)if(v.length===1){var x=this.diagram.selection.getItem();this._removeItem(x.id)}else v.forEach(function(k){return f._removeItem(k)}),this.diagram.selection.remove()},c.prototype._dragStart=function(f,v,x){var k=this;this._selectionBox=new a.SelectionBox(x,this.diagram),l.drag.start(f,{onMove:function(S){k._selectionBox.end=k.getBlockSelectedCoords(S,v),k.paint()},onUp:function(){f.pointerType==="touch"&&k._clearTouchTimer(),k._selectionBox.isValid()&&k._selectionBox.addSelected(),k._selectionBox=null,k.paint()}},null)},c.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null),document.body.classList.remove("dhx_notouch")},c.prototype.getBlockSelectedCoords=function(f,v){var x=v.getBoundingClientRect(),k=this.diagram.config.margin,S=this._diagramSize||{left:-k.x,top:-k.y},O=this.diagram.config.scale,P=v.scrollLeft,T=v.scrollTop;return{x:(f.clientX-x.left+P)/O-k.x+(S.left+k.x),y:(f.clientY-x.top+T)/O-k.y+(S.top+k.y),$rx:f.clientX-x.left+P,$ry:f.clientY-x.top+T}},c}(u.View);g.BaseDiagramEditor=t},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.HistoryManager=void 0;var b=y(8),w=function(){function m(_){var h=this;this.saveDelay=500,this.disabled=!1,this._data=_,this.reset(),this._data.events.on(b.DataEvents.change,function(d,p){h._inProgress||!p||h.disabled||h.add(h._data.serialize())})}return m.prototype.enable=function(){this.reset(),this.disabled=!1},m.prototype.disable=function(){this.disabled=!0},m.prototype.add=function(_){if(!this.disabled){this._position!==this._state.length-1&&(this._state=this._state.slice(0,this._position+1));var h=this._state.length-1,d=new Date,p={time:d,state:_};d.valueOf()-this._state[h].time.valueOf()>this.saveDelay?(this._state.push(p),this._position++):this._state[h]=p}},m.prototype.reset=function(){this._inProgress||(this._state=[{time:new Date,state:this._data.serialize()}],this._position=0)},m.prototype.undo=function(_){this.isUndo()&&!this.disabled&&(_?(this._position=0,this._state=this._state.slice(0,1)):this._position--,this._apply(this._state[this._position]))},m.prototype.redo=function(){this.isRedo()&&!this.disabled&&(this._position++,this._apply(this._state[this._position]))},m.prototype.isUndo=function(){return this._position>0},m.prototype.isRedo=function(){return this._position+1<=this._state.length-1},m.prototype._apply=function(_){this._inProgress=!0,this._data.parse(JSON.parse(JSON.stringify(_.state))),this._inProgress=!1},m}();g.HistoryManager=w},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.View=void 0;var w=y(101),m=y(16),_=y(212),h=y(214),d=y(215),p=y(216),u=function(){function s(l,r){var a,i,n,e,t,o;this._views={},this._editor=r,this._diagram=r.diagram,this._config=r.config.view,this._isDefault=this._diagram.config.type==="default";var c=this._isDefault?" dhx_editor-default":" dhx_editor-org",f=[{id:"area",css:"dhx_editor_area"},{id:"editbar",width:(a=this._config.editbar.width)!==null&&a!==void 0?a:d.base.editbar.width,css:"dhx_editor_editbar "+(((i=this._config.editbar)===null||i===void 0?void 0:i.css)||""),hidden:!this.isViewEnable("editbar")}];this._isDefault&&f.unshift({id:"shapebar",width:(n=this._config.shapebar.width)!==null&&n!==void 0?n:d.base.shapebar.width,css:"dhx_editor_shapebar "+(((e=this._config.shapebar)===null||e===void 0?void 0:e.css)||""),hidden:!this.isViewEnable("shapebar")}),this._layout=new m.Layout(l,{height:"100%",css:"dhx_editor"+c,rows:[{id:"toolbar",height:"content",css:"dhx_editor_toolbar "+(((t=this._config.toolbar)===null||t===void 0?void 0:t.css)||""),hidden:!this.isViewEnable("toolbar")},{id:"main",css:"dhx_editor__wrapper",cols:f}]}),this.events=this._layout.events,this._toolbar=new _.Toolbar(b({items:this._isDefault?w.defaultToolbarItems:w.orgToolbarItems},this._config.toolbar||{}),this._editor),this._editbar=new p.Editbar(this._layout.getCell("editbar"),this._config.editbar,this._editor),this._views.toolbar=this._toolbar,this._views.editbar=this._editbar,this._isDefault&&(this._shapebar=new h.Shapebar(b(b({},this._config.shapebar||{}),{preview:b({gap:d.base.shapebar.gap,scale:d.base.shapebar.scale},((o=this._config.shapebar)===null||o===void 0?void 0:o.preview)||{})}),this._editor),this._layout.getCell("shapebar").attach(this._shapebar),this._views.shapebar=this._shapebar),this._layout.getCell("toolbar").attach(this._toolbar),this._layout.getCell("area").attach(this._diagram)}return s.prototype.hide=function(l){var r=this;l&&(l=l.toLocaleLowerCase(),this._views[l])?this._layout.getCell(l).hide():this._layout.forEach(function(a){return r._views[a.id]&&a.hide()})},s.prototype.show=function(l){var r=this;l&&(l=l.toLocaleLowerCase(),this._views[l])?this._layout.getCell(l).show():this._layout.forEach(function(a){return r._views[a.id]&&a.show()})},s.prototype.isVisible=function(l){var r;return(r=this._layout.getCell(l==null?void 0:l.toLocaleLowerCase()))===null||r===void 0?void 0:r.isVisible()},s.prototype.getViews=function(){return this._views},s.prototype.paint=function(){this._layout.paint(),this._diagram.paint()},s.prototype.destructor=function(){this._layout.destructor()},s.prototype.getRootView=function(){return this._layout.getRootView()},s.prototype.isViewEnable=function(l){var r,a;return!!((a=(r=this._config[l])===null||r===void 0?void 0:r.show)!==null&&a!==void 0?a:this._config[l])},s}();g.View=u},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.meta=g.orgToolbarItems=g.defaultToolbarItems=void 0;var b=y(1),w=y(0);function m(d,p){var u,s;p.config.type==="default"&&p.diagram.autoPlace({root:p.diagram.selection.getIds()[0],placeMode:d,mode:(u=p.config.autoplacement)===null||u===void 0?void 0:u.mode,graphPadding:(s=p.config.autoplacement)===null||s===void 0?void 0:s.graphPadding})}function _(d,p){return!!p&&(!p.dataset.dhxTheme&&d==="light"||p.dataset.dhxTheme===d)}function h(d){(0,w.awaitRedraw)().then(function(){var p=document.getElementById("scaleValue");p&&(p.innerText=(100*d.config.scale).toFixed(0)+"%")})}g.defaultToolbarItems=["file","edit","view","arrange","spacer","scale"],g.orgToolbarItems=["file","edit","view","spacer","scale"],g.meta=function(d,p){return{separator:{type:"separator"},spacer:{type:"spacer"},file:{id:"$file",type:"menuItem",value:d.toolbar.file,items:["importJson","export"]},importJson:{id:"$importJson",value:d.toolbar.importJson,handler:function(u){var s=document.createElement("input");s.type="file",s.setAttribute("accept","application/JSON"),s.onchange=function(l){var r,a=new FileReader;a.onload=function(){u.parse(a.result)},a.readAsText((r=l.target.files)===null||r===void 0?void 0:r[0])},s.click()}},export:{id:"$export",value:d.toolbar.export,items:["exportJson","exportPdf","exportPng"]},exportJson:{id:"$exportJson",value:d.toolbar.exportJson,handler:function(u){var s=JSON.stringify(u.serialize());(0,b.downloadFile)(s,"data.json","text/json")}},exportPdf:{id:"$exportPdf",value:d.toolbar.exportPdf,handler:function(u){return u.diagram.export.pdf()}},exportPng:{id:"$exportPng",value:d.toolbar.exportPng,handler:function(u){return u.diagram.export.png()}},edit:{id:"$edit",type:"menuItem",value:d.toolbar.edit,items:p==="default"?["undo","redo","separator","duplicate","copy","paste","separator","copyStyle","pasteStyle","separator","selectAll","selectNone"]:["undo","redo","separator","copyStyle","pasteStyle","separator","selectAll","selectNone"]},undo:{id:"$undo",value:d.toolbar.undo,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Z"]:d.hotkey["Ctrl+Z"],handler:function(u){return u.history.undo()}},redo:{id:"$redo",value:d.toolbar.redo,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Shift+Z"]:d.hotkey["Ctrl+Shift+Z"],handler:function(u){return u.history.redo()}},duplicate:{id:"duplicate",value:d.toolbar.duplicate,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+D"]:d.hotkey["Ctrl+D"],handler:function(u){u.model.copy(),u.model.paste()}},copy:{id:"$copy",value:d.toolbar.copy,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+C"]:d.hotkey["Ctrl+C"],handler:function(u){return u.model.copy()}},paste:{id:"$paste",value:d.toolbar.paste,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+V"]:d.hotkey["Ctrl+V"],handler:function(u){return u.model.paste()}},copyStyle:{id:"$copyStyle",value:d.toolbar.copyStyle,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Alt+C"]:d.hotkey["Ctrl+Alt+C"],handler:function(u){return u.model.copyStyles()}},pasteStyle:{id:"$pasteStyle",value:d.toolbar.pasteStyle,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Alt+V"]:d.hotkey["Ctrl+Alt+V"],handler:function(u){return u.model.pasteStyles()}},selectAll:{id:"$selectAll",value:d.toolbar.selectAll,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+A"]:d.hotkey["Ctrl+A"],handler:function(u){var s=[];u.diagram.data.forEach(function(i){u.config.type!=="default"&&i.$item.getBaseType()==="line"||s.push(i.id)});for(var l=0,r=s;l<r.length;l++){var a=r[l];u.diagram.selection.add({id:a,join:!0,batch:s})}u.paint()}},selectNone:{id:"$selectNone",value:d.toolbar.selectNone,hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Shift+A"]:d.hotkey["Ctrl+Shift+A"],handler:function(u){u.diagram.selection.remove(),u.paint()}},view:{id:"$view",value:d.toolbar.view,type:"menuItem",items:p==="default"?["theme","separator","shapebar","editbar","grid","separator","connectionPoints","resizePoints","magnetic","separator","zoomIn","zoomOut"]:["theme","separator","editbar","separator","grid","separator","resizePoints","itemsDraggable","separator","zoomIn","zoomOut"]},theme:{id:"$theme",value:d.toolbar.theme,items:["themeLight","themeDark","themeLightContrast","themeDarkContrast"]},themeLight:{id:"$themeLight",value:d.toolbar.themeLight,checkIcon:function(u){var s;return _("light",(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){var s,l=(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode();(0,w.setTheme)("light",l)}},themeDark:{id:"$themeDark",value:d.toolbar.themeDark,checkIcon:function(u){var s;return _("dark",(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){var s,l=(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode();(0,w.setTheme)("dark",l)}},themeLightContrast:{id:"$themeLightContrast",value:d.toolbar.themeLightContrast,checkIcon:function(u){var s;return _("contrast-light",(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){var s,l=(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode();(0,w.setTheme)("contrast-light",l)}},themeDarkContrast:{id:"$themeDarkContrast",value:d.toolbar.themeDarkContrast,checkIcon:function(u){var s;return _("contrast-dark",(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){var s,l=(s=u.view)===null||s===void 0?void 0:s._layout.getRootNode();(0,w.setTheme)("contrast-dark",l)}},shapebar:{id:"$shapebar",value:d.toolbar.shapebar,hotkey:d.hotkey["Alt+1"],checkIcon:function(u){var s;return!((s=u.view)===null||s===void 0)&&s.isVisible("shapebar")?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){u.view.isVisible("shapebar")?u.view.hide("shapebar"):u.view.show("shapebar")}},editbar:{id:"$editbar",value:d.toolbar.editbar,hotkey:d.hotkey["Alt+2"],checkIcon:function(u){var s;return!((s=u.view)===null||s===void 0)&&s.isVisible("editbar")?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){u.view.isVisible("editbar")?u.view.hide("editbar"):u.view.show("editbar")}},grid:{id:"$grid",value:d.toolbar.grid,hotkey:d.hotkey["Alt+3"],checkIcon:function(u){return u.config.grid?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){u.config.grid=!u.config.grid,u.paint()}},magnetic:{id:"$magnetic",value:d.toolbar.magnetic,checkIcon:function(u){var s,l;return((l=(s=u.config.magnetic)===null||s===void 0?void 0:s.show)!==null&&l!==void 0?l:u.config.magnetic)?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){typeof u.config.magnetic=="boolean"&&(u.config.magnetic=!u.config.magnetic),typeof u.config.magnetic=="object"&&(u.config.magnetic.show=!u.config.magnetic.show),u._resizer.setConfig({magnetic:u.config.magnetic}),u.paint()}},connectionPoints:{id:"$connectionPoints",value:d.toolbar.connectionPoints,checkIcon:function(u){return u.config.connectionPoints?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){u.config.connectionPoints=!u.config.connectionPoints,u.diagram.data.forEach(function(s){return s.$connectMode=!1}),u._resizer.setConfig({connectionPoints:u.config.connectionPoints}),u.paint()}},resizePoints:{id:"$resizePoints",value:d.toolbar.resizePoints,checkIcon:function(u){return u.config.resizePoints?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){u.config.resizePoints=!u.config.resizePoints,u._resizer.setConfig({resizePoints:u.config.resizePoints}),u.paint()}},itemsDraggable:{id:"$itemsDraggable",value:d.toolbar.itemsDraggable,checkIcon:function(u){return u.config.itemsDraggable?"dxi dxi-check":"dxi dxi-empty"},handler:function(u){u.config.itemsDraggable=!u.config.itemsDraggable,u.paint()}},zoomIn:{id:"$zoomIn",value:d.toolbar.zoomIn,icon:"dxi dxi-plus",handler:function(u){u.zoomIn(),h(u)},hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Mousewheel"]:d.hotkey["Ctrl+Mousewheel"]},zoomOut:{id:"$zoomOut",value:d.toolbar.zoomOut,icon:"dxi dxi-minus",handler:function(u){u.zoomOut(),h(u)},hotkey:(0,b.isMacintosh)()?d.hotkey["CMD+Mousewheel"]:d.hotkey["Ctrl+Mousewheel"]},arrange:{id:"$arrange",value:d.toolbar.arrange,type:"menuItem",items:["layout","separator","align","distribute"]},layout:{id:"$layout",value:d.toolbar.layout,items:["layoutMode","separator","layoutOrthogonal","layoutRadial"]},layoutMode:{id:"$layoutMode",value:d.toolbar.layoutMode,items:["layoutModeDirect","layoutModeEdges"]},layoutModeDirect:{id:"$layoutModeDirect",value:d.toolbar.layoutModeDirect,handler:function(u){u.config.autoplacement.mode="direct"},checkIcon:function(u){var s;return((s=u.config.autoplacement)===null||s===void 0?void 0:s.mode)==="direct"?"dxi dxi-check":"dxi dxi-empty"}},layoutModeEdges:{id:"$layoutModeEdges",value:d.toolbar.layoutModeEdges,handler:function(u){u.config.autoplacement.mode="edges"},checkIcon:function(u){var s;return((s=u.config.autoplacement)===null||s===void 0?void 0:s.mode)==="edges"?"dxi dxi-check":"dxi dxi-empty"}},layoutOrthogonal:{id:"$layoutOrthogonal",value:d.toolbar.layoutOrthogonal,handler:function(u){return m("orthogonal",u)}},layoutRadial:{id:"$layoutRadial",value:d.toolbar.layoutRadial,handler:function(u){return m("radial",u)}},align:{id:"$align",value:d.toolbar.align,items:["alignHorizontalLeft","alignHorizontalCenter","alignHorizontalRight","separator","alignVerticalTop","alignVerticalCenter","alignVerticalBottom"]},alignHorizontalLeft:{id:"$alignHorizontalLeft",value:d.toolbar.alignHorizontalLeft,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.alignItems(s,-1,"x")}},alignHorizontalCenter:{id:"$alignHorizontalCenter",value:d.toolbar.alignHorizontalCenter,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.alignItems(s,0,"x")}},alignHorizontalRight:{id:"$alignHorizontalRight",value:d.toolbar.alignHorizontalRight,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.alignItems(s,1,"x")}},alignVerticalTop:{id:"$alignVerticalTop",value:d.toolbar.alignVerticalTop,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.alignItems(s,-1,"y")}},alignVerticalCenter:{id:"$alignVerticalCenter",value:d.toolbar.alignVerticalCenter,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.alignItems(s,0,"y")}},alignVerticalBottom:{id:"$alignVerticalBottom",value:d.toolbar.alignVerticalBottom,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.alignItems(s,1,"y")}},distribute:{id:"$distribute",value:d.toolbar.distribute,items:["distributeVertical","distributeHorizontal"]},distributeVertical:{id:"$distributeVertical",value:d.toolbar.distributeVertical,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.distributeItems(s,"y")}},distributeHorizontal:{id:"$distributeHorizontal",value:d.toolbar.distributeHorizontal,handler:function(u){var s=u.diagram.selection.getIds().map(function(l){return u.diagram.data.getItem(l)});u.distributeItems(s,"x")}},scale:{id:"$scale",type:"customHTML",html:`
			<div class="dhx_toolbar_item-scale">
				<button class="dhx_toolbar_item-scale__button">
					<i class="dxi dxi-minus dhx_toolbar_item-scale__button--zoom-out"></i>
				</button>
				<span id="scaleValue" class="dhx_toolbar_item-scale__text"></span>
				<button class="dhx_toolbar_item-scale__button">
					<i class="dxi dxi-plus dhx_toolbar_item-scale__button--zoom-in"></i>
				</button>
			</div>
		`,handler:function(u,s){s.target.classList.contains("dhx_toolbar_item-scale__button--zoom-in")&&u.zoomIn(),s.target.classList.contains("dhx_toolbar_item-scale__button--zoom-out")&&u.zoomOut()},checkIcon:function(u){return h(u)}}}}},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(103),g),w(y(213),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(l,r){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},b(l,r)},function(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=l}b(l,r),l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}),m=this&&this.__assign||function(){return m=Object.assign||function(l){for(var r,a=1,i=arguments.length;a<i;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n]);return l},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Toolbar=void 0;var _=y(1),h=y(0),d=y(2),p=y(21),u=y(30),s=function(l){function r(a,i){var n=l.call(this,a,(0,_.extend)({navigationType:"click",$name:"toolbar"},i))||this;return n._currentRoot=null,n.mount(a,(0,h.create)({render:function(){return n._draw(a)}})),n}return w(r,l),r.prototype.getState=function(a){if(!(0,_.isDefined)(a)||this.data.getItem(a)){var i={};for(var n in this.data.eachChild(this.data.getRoot(),function(e){e.twoState&&!e.group?i[e.id]=e.active:e.type!=="input"&&e.type!=="selectButton"&&e.type!=="datePicker"||(i[e.id]=e.value)},!1),this._groups)this._groups[n].active&&(i[n]=this._groups[n].active);return(0,_.isId)(a)?i[a]:i}},r.prototype.setState=function(a){var i,n=function(o){if(e._groups&&e._groups[o])e._groups[o].active&&(e.data.update(e._groups[o].active,{active:!1}),e._groups[o].active=a[o],e.data.update(a[o],{active:!0}));else{var c=e.data.getItem(o);switch(c.type){case"input":e.data.update(o,{value:a[o]});break;case"selectButton":var f=(i=c.items)===null||i===void 0?void 0:i.find(function(v){return v.value===a[o]});e.data.update(o,{value:a[o],icon:f==null?void 0:f.icon});break;case"datePicker":c.$calendar?a[o]?c.$calendar.setValue(a[o]):c.$calendar.clear():e.data.update(o,{value:a[o]});break;default:e.data.update(o,{active:a[o]})}}},e=this;for(var t in a)n(t)},r.prototype.setFocus=function(a){if(this.data.getItem(a)&&this.data.getItem(a).type==="input"){var i=this.getRootNode().querySelector('[data-dhx-id="'.concat(a,'"]'));i&&i.focus()}},r.prototype._customHandlers=function(){var a=this;return{input:function(i){var n=(0,d.locate)(i),e=a.data.getItem(n);if(e){var t=i.target.value;a.data.update(n,{value:t}),e.type==="input"&&a.events.fire(u.NavigationBarEvents.input,[n,t])}},tooltip:function(i){var n=(0,d.locateNode)(i);if(n){var e=n.getAttribute("data-dhx-id"),t=a.data.getItem(e);t!=null&&t.tooltip&&(0,p.tooltip)(t.tooltip,{node:n,position:p.Position.bottom})}}}},r.prototype._getFactory=function(){return(0,u.createFactory)({widget:this,defaultType:"navItem",allowedTypes:["button","imageButton","selectButton","navItem","menuItem","separator","spacer","title","input","customHTML","datePicker","customHTMLButton"],widgetName:"toolbar"})},r.prototype._draw=function(a){var i=this,n=this.data.getLength()?this.data.reduce(function(e,t){switch(t.type){case"title":return e||20;case"button":return t.size==="small"&&(!e||e<=28)?28:e||32;default:return 32}},0)+24:null;return(0,h.el)("nav.dhx_widget.dhx_toolbar",{style:{height:n},class:this.config.css?this.config.css:""},[(0,h.el)("ul.dhx_navbar.dhx_navbar--horizontal",m(m({"data-dhx-widget-id":this._uid,tabindex:0},function(e){return{role:"toolbar","aria-label":e||""}}(a)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,onkeydown:this._handlers.onkeydown,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,_hooks:{didInsert:function(e){e.el.addEventListener("keyup",function(t){if(t.which===9){var o=(0,d.locateNode)(document.activeElement);if(o){var c=o.getAttribute("data-dhx-id"),f=i.data.getItem(c);f!=null&&f.tooltip&&(0,p.tooltip)(f.tooltip,{node:o,position:p.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(e){return i._factory(e)},this.data.getRoot(),!1))])},r.prototype._getMode=function(a,i){return a.id===i?"bottom":"right"},r.prototype._close=function(a){this._activePosition=null,this._currentRoot=null,l.prototype._close.call(this,a)},r.prototype._setRoot=function(a){this.data.getParent(a)===this.data.getRoot()&&(this._currentRoot=a)},r}(u.Navbar);g.Toolbar=s},function(H,g,y){(function(b){var w,m=this&&this.__extends||(w=function(X,Y){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,A){U.__proto__=A}||function(U,A){for(var M in A)Object.prototype.hasOwnProperty.call(A,M)&&(U[M]=A[M])},w(X,Y)},function(X,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Class extends value "+String(Y)+" is not a constructor or null");function U(){this.constructor=X}w(X,Y),X.prototype=Y===null?Object.create(Y):(U.prototype=Y.prototype,new U)}),_=this&&this.__assign||function(){return _=Object.assign||function(X){for(var Y,U=1,A=arguments.length;U<A;U++)for(var M in Y=arguments[U])Object.prototype.hasOwnProperty.call(Y,M)&&(X[M]=Y[M]);return X},_.apply(this,arguments)},h=this&&this.__rest||function(X,Y){var U={};for(var A in X)Object.prototype.hasOwnProperty.call(X,A)&&Y.indexOf(A)<0&&(U[A]=X[A]);if(X!=null&&typeof Object.getOwnPropertySymbols=="function"){var M=0;for(A=Object.getOwnPropertySymbols(X);M<A.length;M++)Y.indexOf(A[M])<0&&Object.prototype.propertyIsEnumerable.call(X,A[M])&&(U[A[M]]=X[A[M]])}return U},d=this&&this.__spreadArray||function(X,Y,U){if(U||arguments.length===2)for(var A,M=0,R=Y.length;M<R;M++)!A&&M in Y||(A||(A=Array.prototype.slice.call(Y,0,M)),A[M]=Y[M]);return X.concat(A||Array.prototype.slice.call(Y))};Object.defineProperty(g,"__esModule",{value:!0}),g.Form=void 0;var p=y(3),u=y(5),s=y(16),l=y(1),r=y(218),a=y(219),i=y(105),n=y(220),e=y(41),t=y(221),o=y(223),c=y(224),f=y(225),v=y(226),x=y(227),k=y(6),S=y(106),O=y(235),P=y(236),T=y(241),j=y(242),$=y(243),I=y(110),F=y(244),E=y(4),V=y(0),z=function(X){function Y(U,A){var M=X.call(this,null,(0,l.extend)({disabled:!1,hidden:!1,css:""},A))||this;return M._isValid=!0,M._state={},M.events=new p.EventSystem(M),M.container=U,M._initUI(U),M.config.hidden&&M.hide(!0),M.config.disabled&&M.disable(),M.events.on(E.FormEvents.afterShow,function(){M._formContainerShow()}),M.events.on(E.FormEvents.afterHide,function(){Object.values(M._attachments).some(function(R){return!R.config.hidden})||M._formContainerHide()}),(0,V.awaitRedraw)().then(function(){var R=M.layout.getRootNode();R&&(R.setAttribute("role","form"),M.config.title&&R.setAttribute("aria-label",M.config.title))}),M}return m(Y,X),Y.prototype.paint=function(){X.prototype.paint.call(this),this.layout.paint()},Y.prototype.send=function(U,A,M){var R=this;if(A===void 0&&(A="POST"),this.events.fire(E.FormEvents.beforeSend))return new b(function(W,Q){var Z=new XMLHttpRequest;switch(Z.onload=function(){Z.status>=200&&Z.status<300?W(Z.response||Z.responseText):Q({status:Z.status,statusText:Z.statusText})},Z.onloadend=function(){Z.readyState===XMLHttpRequest.DONE&&Z.status===200&&R.events.fire(E.FormEvents.afterSend)},Z.onerror=function(){Q({status:Z.status,statusText:Z.statusText})},A==="GET"&&(U+="?"+encodeURIComponent(JSON.stringify(R.getValue()))),Z.open(A,U),M||Z.setRequestHeader("Content-Type","application/json"),A){case"POST":R._send(),Z.send(M?R.getValue(!0):JSON.stringify(R.getValue()));break;case"DELETE":case"PUT":Z.send(M?R.getValue(!0):JSON.stringify(R.getValue()));break;default:Z.send()}})},Y.prototype.clear=function(U){switch(U){case E.ClearMethod.value:this._clear();break;case E.ClearMethod.validation:this._clearValidate();break;default:this._clear(),this._clearValidate()}this.paint()},Y.prototype.setValue=function(U){for(var A in U)for(var M in this._attachments)typeof this._attachments[M].setValue=="function"&&this._attachments[M].config.name===A&&this._attachments[M].setValue(U[A])},Y.prototype.getValue=function(U){if(U){var A=new FormData,M=function(Q){Array.isArray(R._state[Q])?R._state[Q].forEach(function(Z,B){return A.append(Q+"[".concat(B,"]"),Z)}):A.append(Q,R._state[Q])},R=this;for(var W in this._state)M(W);return A}return _({},this._state)},Y.prototype.getItem=function(U){for(var A in this._attachments)if(A==U)return this._attachments[A]},Y.prototype.validate=function(U){for(var A in U===void 0&&(U=!1),this._isValid=!0,this._attachments)typeof this._attachments[A].validate=="function"&&(0,k.isVerify)(this._attachments[A].config)&&!this._attachments[A].validate(U)&&(this._isValid=!1,!U&&this.events.fire(E.FormEvents.validationFail,[A,this._attachments[A]]));return this._isValid},Y.prototype.setProperties=function(U,A){if(typeof U=="string"&&A&&!(0,l.isEmptyObj)(A))for(var M in this._attachments)typeof this._attachments[M].setProperties=="function"&&M===U&&this._attachments[M].setProperties(A);if(typeof U=="object"&&!(0,l.isEmptyObj)(U))for(var M in this._attachments)typeof this._attachments[M].setProperties!="function"||(0,l.isEmptyObj)(U[M])||this._attachments[M].setProperties(U[M])},Y.prototype.getProperties=function(U){if(U){for(var A in this._attachments)if(typeof this._attachments[A].getProperties=="function"&&A===U)return this._attachments[A].getProperties()}var M={};for(var A in this._attachments)typeof this._attachments[A].getProperties=="function"&&(M[A]=this._attachments[A].getProperties());return M},Y.prototype.show=function(){if(this.config.hidden||Object.values(this._attachments).some(function(A){return!A.config.hidden}))for(var U in this._formContainerShow(),this._attachments)typeof this._attachments[U].show=="function"&&this._attachments[U].show()},Y.prototype.hide=function(U){if(!this.config.hidden||U)for(var A in this._formContainerHide(),this._attachments)typeof this._attachments[A].hide=="function"&&this._attachments[A].hide(U)},Y.prototype.setFocus=function(U){for(var A in this._attachments){var M=this._attachments[A];M.config.type!=="radiogroup"&&M.config.type!=="checkboxgroup"||M.focus(U),M.config.name===U&&M.focus()}},Y.prototype.blur=function(U){for(var A in U||this.forEach(function(R){typeof R.blur=="function"&&R.blur()}),this._attachments){var M=this._attachments[A];M.config.type!=="radiogroup"&&M.config.type!=="checkboxgroup"||M.blur(U),M.config.name===U&&M.blur()}},Y.prototype.isVisible=function(U){if(!U)return!this.config.hidden;for(var A in this._attachments)if(A===U)return!this._attachments[A].config.hidden},Y.prototype.disable=function(){for(var U in this.config.disabled=!0,this._attachments)typeof this._attachments[U].disable=="function"&&this._attachments[U].disable()},Y.prototype.enable=function(){for(var U in this.config.disabled=!1,this._attachments)typeof this._attachments[U].enable=="function"&&this._attachments[U].enable()},Y.prototype.isDisabled=function(U){if(!U)return this.config.disabled;for(var A in this._attachments)if(A===U)return this._attachments[A].config.disabled},Y.prototype.forEach=function(U){for(var A=Object.values(this._attachments),M=0;M<A.length;M++)U.call(this,A[M],M,A)},Y.prototype.destructor=function(){for(var U in this.unmount(),this._attachments)typeof this._attachments[U].destructor=="function"&&this._attachments[U].destructor();this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this._attachments=this._state=this._uid=this.container=this.events=this._isValid=null},Y.prototype.getRootView=function(){return this.layout.getRootView()},Y.prototype._addLayoutItem=function(U){var A=U.id=U.id||(0,l.uid)(),M=U.name=U.name||A.toString();U.type=U.type&&U.type.toLowerCase();var R=U.padding,W=h(U,["padding"]),Q=U.width,Z=U.height;switch(U.type!=="spacer"&&!Z&&(Z="content"),W.type){case"button":case"togglegroup":Q=W.width||!W.full&&"content";break;case"simplevault":W.$vaultHeight=Z}this._initItemHandlers(U,M);var B={id:M,width:Q,height:Z,padding:R,hidden:W.hidden,css:this.getCellCSS(W)};return U.type==="fieldset"&&(B.$fieldset=!0,B.label=U.label,B.labelAlignment=U.labelAlignment,this._createLayoutConfig(U,B)),B},Y.prototype._initItemHandlers=function(U,A){var M=this;switch(U.type){case"avatar":var R=this._attachments[A]=new j.Avatar(null,U);this._state[A]=R.getValue(),R.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),R.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),R.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),R.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),R.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),R.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),R.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),R.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),R.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),R.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,R.config),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),R.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),R.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),R.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"toggle":var W=this._attachments[A]=new I.ToggleButton(null,U);this._state[A]=W.getValue(),W.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),W.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),W.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),W.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),W.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),W.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),W.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),W.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,W.config),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),W.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),W.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),W.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"togglegroup":var Q=this._attachments[A]=new F.ToggleGroup(null,U);this._state[A]=Q.getValue(),Q.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),Q.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),Q.events.on(E.ItemEvent.beforeHide,function(N,dt,bt){if(!bt)return M.events.fire(E.FormEvents.beforeHide,[A,N,dt])}),Q.events.on(E.ItemEvent.beforeShow,function(N,dt){return M.events.fire(E.FormEvents.beforeShow,[A,N,dt])}),Q.events.on(E.ItemEvent.afterHide,function(N,dt,bt){!Q.isVisible()&&M.layout.getCell(A).hide(),!bt&&M.events.fire(E.FormEvents.afterHide,[A,N,dt])}),Q.events.on(E.ItemEvent.afterShow,function(N,dt){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N,dt])}),Q.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),Q.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,Q.config),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),Q.events.on(E.ItemEvent.focus,function(N,dt){M.events.fire(E.FormEvents.focus,[A,N,dt])}),Q.events.on(E.ItemEvent.blur,function(N,dt){M.events.fire(E.FormEvents.blur,[A,N,dt])}),Q.events.on(E.ItemEvent.keydown,function(N,dt){M.events.fire(E.FormEvents.keydown,[N,A,dt])});break;case"button":var Z=this._attachments[A]=new a.Button(null,U);Z.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),Z.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,Z.config),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),Z.events.on(E.ItemEvent.click,function(N){N.preventDefault(),M.events.fire(E.FormEvents.click,[A,N]),M.events.fire(E.FormEvents.buttonClick,[A,N]),Z.config.submit&&M.validate()&&Z.config.url&&M.send(Z.config.url)}),Z.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),Z.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),Z.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),Z.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),Z.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),Z.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),Z.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"datepicker":var B=this._attachments[A]=new r.DatePicker(null,U);this._state[A]=B.getValue(U.valueFormat==="Date"),B.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),B.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,B.config),M._state[A]=B.getValue(U.valueFormat==="Date"),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),B.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),B.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),B.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),B.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),B.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),B.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),B.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),B.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),B.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),B.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),B.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"checkbox":var K=this._attachments[A]=new i.Checkbox(null,U);this._state[A]=K.getValue(),K.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),K.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,K.config),M._state[A]=K.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),K.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),K.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),K.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),K.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),K.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),K.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),K.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),K.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),K.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),K.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),K.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"checkboxgroup":var J=this._attachments[A]=new n.CheckboxGroup(null,U);this._state[A]=J.getValue(),J.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),J.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,J.config),M._state[A]=J.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),J.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),J.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),J.events.on(E.ItemEvent.beforeHide,function(N,dt,bt){if(!bt)return M.events.fire(E.FormEvents.beforeHide,[A,N,dt])}),J.events.on(E.ItemEvent.beforeShow,function(N,dt){return M.events.fire(E.FormEvents.beforeShow,[A,N,dt])}),J.events.on(E.ItemEvent.afterHide,function(N,dt,bt){!J.isVisible()&&M.layout.getCell(A).hide(),!bt&&M.events.fire(E.FormEvents.afterHide,[A,N,dt])}),J.events.on(E.ItemEvent.afterShow,function(N,dt){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N,dt])}),J.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),J.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),J.events.on(E.ItemEvent.focus,function(N,dt){M.events.fire(E.FormEvents.focus,[A,N,dt])}),J.events.on(E.ItemEvent.blur,function(N,dt){M.events.fire(E.FormEvents.blur,[A,N,dt])}),J.events.on(E.ItemEvent.keydown,function(N,dt){M.events.fire(E.FormEvents.keydown,[N,A,dt])});break;case"combo":var tt=this._attachments[A]=new v.Combo(null,U);this._state[A]=tt.getValue(),tt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),tt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,tt.config),M._state[A]=tt.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),tt.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),tt.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),tt.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),tt.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),tt.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),tt.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),tt.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),tt.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),tt.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),tt.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),tt.events.on(E.ItemEvent.keydown,function(N,dt){M.events.fire(E.FormEvents.keydown,[N,A,dt])});break;case"input":var nt=this._attachments[A]=new e.Input(null,U);this._state[A]=nt.getValue(),nt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),nt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,nt.config),M._state[A]=nt.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),nt.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),nt.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),nt.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),nt.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),nt.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),nt.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),nt.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),nt.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),nt.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),nt.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),nt.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"radiogroup":var rt=this._attachments[A]=new t.RadioGroup(null,U);this._state[A]=rt.getValue(),rt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),rt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,rt.config),M._state[A]=rt.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),rt.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),rt.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),rt.events.on(E.ItemEvent.beforeHide,function(N,dt,bt){if(!bt)return M.events.fire(E.FormEvents.beforeHide,[A,N,dt])}),rt.events.on(E.ItemEvent.beforeShow,function(N,dt){return M.events.fire(E.FormEvents.beforeShow,[A,N,dt])}),rt.events.on(E.ItemEvent.afterHide,function(N,dt,bt){!rt.isVisible()&&M.layout.getCell(A).hide(),!bt&&M.events.fire(E.FormEvents.afterHide,[A,N,dt])}),rt.events.on(E.ItemEvent.afterShow,function(N,dt){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N,dt])}),rt.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),rt.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),rt.events.on(E.ItemEvent.focus,function(N,dt){M.events.fire(E.FormEvents.focus,[A,N,dt])}),rt.events.on(E.ItemEvent.blur,function(N,dt){M.events.fire(E.FormEvents.blur,[A,N,dt])}),rt.events.on(E.ItemEvent.keydown,function(N,dt){M.events.fire(E.FormEvents.keydown,[N,A,dt])});break;case"select":var lt=this._attachments[A]=new o.Select(null,U);this._state[A]=lt.getValue(),lt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),lt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,lt.config),M._state[A]=lt.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),lt.events.on(E.ItemEvent.changeOptions,function(N){M.layout.getCell(A).config.options=d([],N,!0)}),lt.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),lt.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),lt.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),lt.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),lt.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),lt.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),lt.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),lt.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),lt.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),lt.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),lt.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"simplevault":var ct=this._attachments[A]=new S.SimpleVault(null,U);this._state[A]=ct.getValue(),ct.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),ct.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,ct.config),M._state[A]=ct.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),ct.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),ct.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),ct.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),ct.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),ct.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),ct.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),ct.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),ct.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])});break;case"slider":var ut=this._attachments[A]=new x.SliderForm(null,U);this._state[A]=ut.getValue(),ut.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),ut.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),ut.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),ut.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),ut.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),ut.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),ut.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),ut.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),ut.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"textarea":var at=this._attachments[A]=new c.Textarea(null,U);this._state[A]=at.getValue(),at.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),at.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,at.config),M._state[A]=at.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),at.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),at.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),at.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),at.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),at.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),at.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),at.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),at.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),at.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),at.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),at.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"text":var ht=this._attachments[A]=new f.Text(null,U);this._state[A]=ht.getValue(),ht.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),ht.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,ht.config),M._state[A]=ht.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),ht.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),ht.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),ht.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),ht.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),ht.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),ht.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),ht.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),ht.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])});break;case"timepicker":var pt=this._attachments[A]=new O.TimePicker(null,U);this._state[A]=U.value&&pt.getValue(U.valueFormat==="timeObject")||"",pt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),pt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,pt.config),M._state[A]=pt.getValue(U.valueFormat==="timeObject"),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),pt.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),pt.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),pt.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),pt.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),pt.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),pt.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),pt.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),pt.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),pt.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),pt.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),pt.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"colorpicker":var gt=this._attachments[A]=new P.ColorPicker(null,U);this._state[A]=gt.getValue(),gt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),gt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,gt.config),M._state[A]=gt.getValue(),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),gt.events.on(E.ItemEvent.beforeChange,function(N){return M.events.fire(E.FormEvents.beforeChange,[A,N])}),gt.events.on(E.ItemEvent.change,function(N){M._state[A]=N,M.events.fire(E.FormEvents.change,[A,N])}),gt.events.on(E.ItemEvent.beforeHide,function(N,dt){if(!dt)return M.events.fire(E.FormEvents.beforeHide,[A,N])}),gt.events.on(E.ItemEvent.beforeShow,function(N){return M.events.fire(E.FormEvents.beforeShow,[A,N])}),gt.events.on(E.ItemEvent.afterHide,function(N,dt){M.layout.getCell(A).hide(),!dt&&M.events.fire(E.FormEvents.afterHide,[A,N])}),gt.events.on(E.ItemEvent.afterShow,function(N){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A,N])}),gt.events.on(E.ItemEvent.beforeValidate,function(N){return M.events.fire(E.FormEvents.beforeValidate,[A,N])}),gt.events.on(E.ItemEvent.afterValidate,function(N,dt){M.events.fire(E.FormEvents.afterValidate,[A,N,dt])}),gt.events.on(E.ItemEvent.focus,function(N){M.events.fire(E.FormEvents.focus,[A,N])}),gt.events.on(E.ItemEvent.blur,function(N){M.events.fire(E.FormEvents.blur,[A,N])}),gt.events.on(E.ItemEvent.keydown,function(N){M.events.fire(E.FormEvents.keydown,[N,A])});break;case"fieldset":var vt=this._attachments[A]=new $.Fieldset(U);vt.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),vt.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,vt.config),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()});break;default:var _t=this._attachments[A]=new T.Spacer(null,U);_t.events.on(E.ItemEvent.beforeChangeProperties,function(N){return M.events.fire(E.FormEvents.beforeChangeProperties,[A,N])}),_t.events.on(E.ItemEvent.afterChangeProperties,function(N){M._changeProps(A,N,_t.config),M.events.fire(E.FormEvents.afterChangeProperties,[A,N]),M.paint()}),_t.events.on(E.ItemEvent.beforeHide,function(N){if(!N)return M.events.fire(E.FormEvents.beforeHide,[A])}),_t.events.on(E.ItemEvent.beforeShow,function(){return M.events.fire(E.FormEvents.beforeShow,[A])}),_t.events.on(E.ItemEvent.afterHide,function(N){M.layout.getCell(A).hide(),!N&&M.events.fire(E.FormEvents.afterHide,[A])}),_t.events.on(E.ItemEvent.afterShow,function(){M.layout.getCell(A).show(),M.events.fire(E.FormEvents.afterShow,[A])})}},Y.prototype._changeProps=function(U,A,M){var R=["width","height","css","padding","label","labelAlignment","align"];for(var W in A)R.includes(W)&&(0,l.isDefined)(A[W])&&(this.layout.getCell(U).config[W]=W==="css"?this.getCellCSS(M):A[W])},Y.prototype.getCellCSS=function(U){var A=U.css?U.css+" dhx_form-element":"dhx_form-element";switch(U.type){case"button":case"togglegroup":U.full&&!U.width&&(A+=" dhx_button--full-gravity");break;case"text":U.width==="content"&&(A+=" dhx_form-element--fit-content")}return A},Y.prototype._addLayoutItems=function(U){var A=this;return U.map(function(M){if((0,k.isBlock)(M)){var R={width:"content",height:"content"};return A._createLayoutConfig(M,R),R}return A._addLayoutItem(M)})},Y.prototype._checkLayoutConfig=function(U,A){return(0,l.isDefined)(U.css)&&(A.css=U.css),(0,l.isDefined)(U.title)&&(A.header=U.title),(0,l.isDefined)(U.padding)&&(A.padding=U.padding),(0,l.isDefined)(U.width)&&(A.width=U.width),(0,l.isDefined)(U.height)&&(A.height=U.height),(0,l.isDefined)(U.align)&&(A.align=U.align),A},Y.prototype._createLayoutConfig=function(U,A){A=this._checkLayoutConfig(U,A),(0,l.isDefined)(U.rows)?A.rows=this._addLayoutItems(U.rows):(0,l.isDefined)(U.cols)&&(A.cols=this._addLayoutItems(U.cols))},Y.prototype._initUI=function(U){this._attachments={};var A={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,A),this.layout=new s.Layout(U,A),(0,k.setAttacments)(this._attachments,this.layout)},Y.prototype._clear=function(){for(var U in this._state={},this._attachments){var A=this._attachments[U].config.name;typeof this._attachments[U].clear=="function"&&(this._attachments[U].clear(),A?this._state[A]=this._attachments[U].getValue():this._state[U]=this._attachments[U].getValue())}},Y.prototype._clearValidate=function(){for(var U in this._attachments)typeof this._attachments[U].clearValidate=="function"&&this._attachments[U].clearValidate()},Y.prototype._formContainerShow=function(){this.config.hidden=!1,this.getRootView().node&&(this.getRootView().node.el.style.display="flex")},Y.prototype._formContainerHide=function(){this.config.hidden=!0,this.getRootView().node&&(this.getRootView().node.el.style.display="none")},Y.prototype._send=function(){for(var U in this._attachments)typeof this._attachments[U].send=="function"&&this._attachments[U].send()},Y}(u.View);g.Form=z}).call(this,y(17))},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.Checkbox=void 0;var _=y(0),h=y(3),d=y(6),p=y(11),u=y(4),s=y(9),l=y(1),r=function(a){function i(n,e){e===void 0&&(e={});var t=a.call(this,n,e)||this;return t.events=new h.EventSystem,t._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","text"],t._props=m(m([],d.baseProps,!0),t._propsItem,!0),t._initView(e),t._initHandlers(),t.mount(n,(0,_.create)({render:function(){return t._draw()}})),t}return w(i,a),i.prototype.setProperties=function(n,e){if(e===void 0&&(e=!1),n&&!(0,l.isEmptyObj)(n)&&(e||this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()]))){for(var t in n)this._props.includes(t)&&(this.config[t]=n[t]);!e&&this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},i.prototype.getProperties=function(){for(var n={},e=0,t=this._props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.show=function(){this.config.hidden&&this.events.fire(u.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[this.getValue()]))},i.prototype.hide=function(n){this.config.hidden&&!n||!this.events.fire(u.ItemEvent.beforeHide,[this.getValue(),n])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[this.getValue(),n]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.validate=function(n){n===void 0&&(n=!1);var e=this.getValue();if(!n&&!this.events.fire(u.ItemEvent.beforeValidate,[e]))return!1;var t=!0;return(this.config.required||this.config.$required)&&(t=!!this.config.checked),n||(this.setValidationStatus(t?"success":"error"),this.events.fire(u.ItemEvent.afterValidate,[e,t]),this.paint()),t},i.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},i.prototype.setValue=function(n,e){e===void 0&&(e=!1),n!==void 0&&n!==this.config.checked&&(e||this.events.fire(u.ItemEvent.beforeChange,[this._getValue(n)]))&&(this.config.checked=!!n,e||(this.events.fire(u.ItemEvent.change,[this.getValue()]),(0,d.isVerify)(this.config)&&this.validate()))},i.prototype.getValue=function(){return this._getValue(this.config.checked)},i.prototype.clear=function(n){this.config.checked&&(n||this.events.fire(u.ItemEvent.beforeChange,[this._getValue(!1)]))&&(this.config.checked=!1,n||this.events.fire(u.ItemEvent.change,[this.getValue()]),(0,d.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},i.prototype.destructor=function(){this.events&&this.events.clear(),this._inGroup=this._propsItem=this._props=this._uid=this.events=null,a.prototype._destructor.call(this),this.unmount()},i.prototype.focus=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.getRootView().refs.input.el.blur()})},i.prototype.isChecked=function(){return!!this.config.checked},i.prototype._getValue=function(n){return typeof this.config.value=="string"?n&&this.config.value||"":!!n},i.prototype._initView=function(n){var e=this;if(this._inGroup=this.config.$group,this._inGroup){for(var t in this.config={type:n.type,id:n.id,text:"",width:"content",height:"content",padding:0},n)t!=="id"&&t!=="type"&&t!=="name"&&(this.config[t]=n[t]);this._handlers={onchange:function(o){var c=o.target.checked;e.events.fire(u.ItemEvent.beforeChange,[e._getValue(c)])?(e.config.checked=c,e.events.fire(u.ItemEvent.change,[e.getValue()]),(0,d.isVerify)(e.config)&&e.validate()):e.getRootView().refs.input.el.checked=!c},onfocus:function(){return e.events.fire(u.ItemEvent.focus,[e.getValue(),e.config.id])},onblur:function(){return e.events.fire(u.ItemEvent.blur,[e.getValue(),e.config.id])},onkeydown:function(o){e.events.fire(u.ItemEvent.keydown,[o,e.config.id])}}}else{for(var t in this.config={type:n.type,id:n.id,name:n.name,checked:!1,disabled:!1,required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},n)t!=="id"&&t!=="type"&&t!=="name"&&(this.config[t]=n[t]);this.config.helpMessage&&(this._helper=new p.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(o){o.preventDefault(),o.stopPropagation(),e._helper.show(o.target,{mode:e.config.labelPosition==="left"?"bottom":"right",theme:e.getRootNode()})},hideHelper:function(o){o.preventDefault(),o.stopPropagation(),e._helper.hide()},onchange:function(o){var c=o.target.checked;e.events.fire(u.ItemEvent.beforeChange,[e._getValue(c)])?(e.config.checked=c,e.events.fire(u.ItemEvent.change,[e.getValue()]),(0,d.isVerify)(e.config)&&e.validate()):e.getRootView().refs.input.el.checked=!c},onfocus:function(){return e.events.fire(u.ItemEvent.focus,[e.getValue()])},onblur:function(){var o;return(o=e.events)===null||o===void 0?void 0:o.fire(u.ItemEvent.blur,[e.getValue()])},onkeydown:function(o){e.events.fire(u.ItemEvent.keydown,[o])}}}},i.prototype._initHandlers=function(){var n=this;this.events.on(u.ItemEvent.change,function(){return n.paint()})},i.prototype._draw=function(){var n=this.config,e=n.id,t=n.value,o=n.checked,c=n.disabled,f=n.name,v=n.required,x=n.$required,k=n.text,S=n.label,O=n.labelWidth,P=n.helpMessage;return(0,_.el)("label.dhx_checkbox.dhx_form-group.dhx_form-group--checkbox",{class:(0,d.getFormItemCss)(this.config,(0,d.isVerify)(this.config)||!!x)},this._inGroup?[(0,_.el)(".dhx_checkbox__holder",[(0,_.el)("input.dhx_checkbox__input",{type:"checkbox",id:e,value:t||"",name:f||"",disabled:c,checked:o,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:v,_ref:"input"}),(0,_.el)("span.dhx_checkbox__visual-input"),(0,_.el)("span.dhx_text",[k])])]:[S||O||P||v?this._drawLabel():null,(0,_.el)(".dhx_checkbox__container",[(0,_.el)(".dhx_checkbox__holder",[(0,_.el)("input.dhx_checkbox__input",{type:"checkbox","data-dhx-id":f||e,id:e,_key:e||this._uid,value:t,name:f,disabled:c,checked:o,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:v,_ref:"input","aria-label":S||"checkbox ".concat(k||""),"aria-describedby":P?"dhx_label__help_".concat(e||this._uid):null}),(0,_.el)("span.dhx_checkbox__visual-input"),(0,_.el)("span.dhx_text",[k])]),v&&(0,d.getValidationMessage)(this.config)&&(0,_.el)("span.dhx_input__caption",(0,d.getValidationMessage)(this.config))])])},i}(s.Label);g.Checkbox=r},function(H,g,y){var b,w=this&&this.__extends||(b=function(c,f){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,x){v.__proto__=x}||function(v,x){for(var k in x)Object.prototype.hasOwnProperty.call(x,k)&&(v[k]=x[k])},b(c,f)},function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function v(){this.constructor=c}b(c,f),c.prototype=f===null?Object.create(f):(v.prototype=f.prototype,new v)}),m=this&&this.__assign||function(){return m=Object.assign||function(c){for(var f,v=1,x=arguments.length;v<x;v++)for(var k in f=arguments[v])Object.prototype.hasOwnProperty.call(f,k)&&(c[k]=f[k]);return c},m.apply(this,arguments)},_=this&&this.__spreadArray||function(c,f,v){if(v||arguments.length===2)for(var x,k=0,S=f.length;k<S;k++)!x&&k in f||(x||(x=Array.prototype.slice.call(f,0,k)),x[k]=f[k]);return c.concat(x||Array.prototype.slice.call(f))};Object.defineProperty(g,"__esModule",{value:!0}),g.SimpleVault=g.FileStatus=void 0;var h,d=y(0),p=y(3),u=y(2),s=y(1),l=y(8),r=y(228),a=y(11),i=y(6),n=y(234),e=y(4),t=y(9);(function(c){c.queue="queue",c.uploaded="uploaded",c.failed="failed",c.inprogress="inprogress"})(h||(g.FileStatus=h={}));var o=function(c){function f(v,x){var k=c.call(this,v,x)||this;return k._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],k._propsSimpleVault=["params","headerParams","target","fieldName","singleRequest","updateFromResponse","autosend","accept","validation"],k._props=_(_(_([],i.baseProps,!0),k._propsItem,!0),k._propsSimpleVault,!0),k.events=new p.EventSystem(k),k.data=new l.DataCollection,k._uploader=new r.Uploader(m({target:"",accept:"",fieldName:"file",singleRequest:!1,updateFromResponse:!0,autosend:!1},x),k.data,k.data.events),k._initView(m(m({},k._uploader.config),x)),k._initHandlers(),k.mount(v,(0,d.create)({render:function(){return k._draw()}})),k}return w(f,c),f.prototype.send=function(v){this._uploader.send(v)},f.prototype.selectFile=function(){this._uploader.selectFile()},f.prototype.setValue=function(v){v.length&&(this.data.parse(v),(0,i.isVerify)(this.config)&&this.validate())},f.prototype.getValue=function(){return this.data.serialize()},f.prototype.clear=function(){this.getValue().length!==0&&this.events.fire(e.ItemEvent.beforeChange,[[]])&&(this.data.removeAll(),this.events.fire(e.ItemEvent.change,[this.getValue()]),(0,i.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"),this.paint())},f.prototype.disable=function(){this.config.disabled=!0,this.paint()},f.prototype.enable=function(){var v;this.config.disabled=!1,!((v=this.parent)===null||v===void 0)&&v.isDisabled()&&this.parent.enable(),this.paint()},f.prototype.isDisabled=function(){return this.config.disabled},f.prototype.show=function(){var v=this.config,x=v.value;v.hidden&&this.events.fire(e.ItemEvent.beforeShow,[x])&&(this.config.hidden=!1,this.events.fire(e.ItemEvent.afterShow,[x]))},f.prototype.hide=function(v){var x=this.config,k=x.value;x.hidden&&!v||!this.events.fire(e.ItemEvent.beforeHide,[k,v])||(this.config.hidden=!0,this.events.fire(e.ItemEvent.afterHide,[k,v]))},f.prototype.isVisible=function(){return!this.config.hidden},f.prototype.validate=function(v){v===void 0&&(v=!1);for(var x=[],k=1;k<arguments.length;k++)x[k-1]=arguments[k];var S=x.length?x[0]:this.getValue();if(!v&&!this.events.fire(e.ItemEvent.beforeValidate,[S]))return!1;var O=!0;return this.config.required&&(O=!!S.length),typeof this.config.validation=="function"&&(O=this.config.validation(S)),v||(this.setValidationStatus(O?"success":"error"),this.events.fire(e.ItemEvent.afterValidate,[S,O]),this.paint()),O},f.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},f.prototype.setProperties=function(v){if(v&&!(0,s.isEmptyObj)(v)&&this.events.fire(e.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var x in v)this._props.includes(x)&&(this.config[x]=v[x],this._propsSimpleVault.includes(x)&&(this._uploader.config[x]=v[x]));this.events.fire(e.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},f.prototype.getProperties=function(){for(var v={},x=0,k=this._props;x<k.length;x++){var S=k[x];v[S]=this.config[S]}return v},f.prototype.focus=function(){var v,x,k;(k=(x=(v=this.getRootView())===null||v===void 0?void 0:v.refs)===null||x===void 0?void 0:x.input)===null||k===void 0||k.el.focus(),this.paint()},f.prototype.blur=function(){var v,x,k;(k=(x=(v=this.getRootView())===null||v===void 0?void 0:v.refs)===null||x===void 0?void 0:x.input)===null||k===void 0||k.el.blur(),this.paint()},f.prototype.destructor=function(){this.events&&this.events.clear(),this._helper&&this._helper.destructor(),this.config=this.events=this._uid=this._helper=this._handlers=this._uploader=this.data=null,this._propsItem=this._propsSimpleVault=this._props=this._dragover=this._dragoverTimeout=null,this.unmount()},f.prototype._initView=function(v){var x;this.config=m({type:v.type,id:v.id,name:v.name,value:[],disabled:!1,hidden:!1,css:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},v),!((x=v.value)===null||x===void 0)&&x.length&&this.data.parse(v.value),this.paint()},f.prototype._initHandlers=function(){var v=this;this._handlers={add:function(x){v.config.disabled||(x.preventDefault(),v._uploader.selectFile())},remove:function(x){if(!v.config.disabled){var k=(0,u.locate)(x);k&&v.data.remove(k)}},ondragover:function(x){for(var k=0,S=x.dataTransfer.types;k<S.length;k++){var O=S[k];if(O!=="Files"&&O!=="application/x-moz-file")return}v._dragoverTimeout?clearTimeout(v._dragoverTimeout):v.paint(),v._dragover=!0,v._dragoverTimeout=setTimeout(function(){v._dragover=!1,v._dragoverTimeout=null,v.paint()},150)},showHelper:function(x){x.stopPropagation(),x.preventDefault(),v._helper.show(x.target,{mode:v.config.labelPosition==="left"?"bottom":"right",theme:x.target})},hideHelper:function(x){x.preventDefault(),x.stopPropagation(),v._helper.hide()}},this._uploader.events.on("beforeUploadFile",function(x){return!(v.config.autosend&&!v.validate(!0))&&v.events.fire(e.ItemEvent.beforeUploadFile,[x,v.config.value])}),this._uploader.events.on("uploadBegin",function(x){v.events.fire(e.ItemEvent.uploadBegin,[x,v.config.value])}),this._uploader.events.on("uploadComplete",function(x){v.events.fire(e.ItemEvent.uploadComplete,[x,v.config.value])}),this._uploader.events.on("uploadFail",function(x){v.events.fire(e.ItemEvent.uploadFail,[x,v.config.value])}),this._uploader.events.on("uploadFile",function(x,k){v.events.fire(e.ItemEvent.uploadFile,[x,v.config.value,k])}),this._uploader.events.on("uploadProgress",function(x){v.events.fire(e.ItemEvent.uploadProgress,[x,v.config.value])}),this.data.events.on(l.DataEvents.beforeAdd,function(x){return v.events.fire(e.ItemEvent.beforeChange,[_(_([],v.config.value,!0),[x],!1),x])}),this.data.events.on(l.DataEvents.beforeRemove,function(x){var k=v.config.value.filter(function(S){return S.id!==x.id});return v.events.fire(e.ItemEvent.beforeChange,[k,x])}),this.data.events.on(e.ItemEvent.change,function(x,k,S){if(k){var O=v.config.value=v.getValue();v._uploader.isActive&&k==="update"||(v.events.fire(e.ItemEvent.change,[O,S]),(0,i.isVerify)(v.config)&&v.validate()),v.paint()}})},f.prototype._draw=function(){var v=this;this.config.helpMessage&&(this._helper||(this._helper=new a.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var x=this.data.getLength()?(0,d.el)("ul.dhx_simplevault__files.dhx_simplevault-files",{class:this.config.$vaultHeight?"":"dhx_simplevault-files__fixed"},this.data.map(function(V){return(0,d.el)("li.dhx_simplevault-files__item",[(0,d.el)("span.dhx_simplevault-files__item-name",V.file&&V.file.name||V.name),(0,d.el)(".dhx_button.dhx_simplevault-files__delete.dhx_button--icon.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"data-dhx-id":V.id,onclick:v._handlers.remove},[(0,d.el)("span.dxi.dxi-delete-forever")])])})):null,k=this.config,S=k.id,O=k.helpMessage,P=k.disabled,T=k.required,j=k.label,$=k.hidden,I=k.accept,F=(0,u.getLabelStyle)(this.config),E=$?" dhx_form-group--hidden":"";return(0,d.el)(".dhx_form-group.dhx_form-group--simplevault",{class:(0,i.getFormItemCss)(this.config,(0,i.isVerify)(this.config))+E},[F&&(0,d.el)("legend.dhx_label",{class:O?"dhx_label--with-help":"",style:F.style,onclick:this._handlers.add,"aria-label":j||"select files"},O?[(F.label||T)&&(0,d.el)("span.dhx_label__holder",F.label),(0,d.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper})]:F.label),(0,d.el)(".dhx_input__wrapper",{id:this._uid},[(0,d.el)("div",{_hooks:{didInsert:function(V){v._uploader.linkDropArea(V.el)}},ondragover:this._handlers.ondragover,class:"dhx_simplevault"+(this._dragover?" dhx_simplevault--on-drag":"")},[(0,d.el)("div.dhx_simplevault-loader",[(0,d.el)("span.dhx_simplevault__icon.dxi.dxi-vault")]),(0,d.el)(".dhx_simplevault__drop-area",[(0,d.el)("input.dhx_simplevault__input",{_ref:"input",type:"file",id:S,disabled:P,accept:I}),(0,d.el)("span.dhx_simplevault__icon.dxi.dxi-vault"),(0,d.el)("span.dhx_simplevault__title",[(0,d.el)("span",n.default.simpleVaultText),(0,d.el)("br"),(0,d.el)("label.dhx_simplevault__label",{onclick:this._handlers.add,for:S}," "+n.default.simpleVaultLabel)])]),x]),(0,i.getValidationMessage)(this.config)&&(0,d.el)("span.dhx_input__caption",{},(0,i.getValidationMessage)(this.config))])])},f}(t.Label);g.SimpleVault=o},function(H,g,y){(function(b){Object.defineProperty(g,"__esModule",{value:!0}),g.Uploader=void 0;var w=y(1),m=y(2),_=y(8),h=y(42),d=function(){function p(u,s,l){u===void 0&&(u={}),this.config=(0,w.extend)({autosend:!0,updateFromResponse:!0,fieldName:"file",accept:""},u),this.data=s||new _.DataCollection,this.events=l||this.data.events,this.isActive=!1,this._fileInput=document.createElement("input"),this._fileInput.type="file",this._fileInput.accept=this.config.accept,this._fileInput.multiple=!0,this._initEvents(),this._dropAreas=new Map}return p.prototype.selectFile=function(){this._fileInput.click()},p.prototype.linkDropArea=function(u){var s=this,l=(0,m.toNode)(u),r=function(i){return i.preventDefault()},a=function(i){i.preventDefault(),s.parseFiles(i.dataTransfer)};l.addEventListener("dragover",r),l.addEventListener("drop",a),this._dropAreas.set(l,{dragover:r,drop:a})},p.prototype.unlinkDropArea=function(u){var s=this;if(u){var l=(0,m.toNode)(u);this._unlinkDropArea(l),this._dropAreas.delete(l)}else this._dropAreas.forEach(function(r,a){s._unlinkDropArea(a)}),this._dropAreas.clear()},p.prototype.parseFiles=function(u){if(u.items&&u.items[0]&&u.items[0].webkitGetAsEntry)this._parseAsWebkitEntry(u.items);else{for(var s=u.files,l=0;l<s.length;l++)this._addFile(s[l]);this.config.autosend&&this.send()}},p.prototype.send=function(u){var s=this;if(!this._uploadInfo||!this.isActive){var l=this.data.findAll(function(n){return n.status===h.FileStatus.queue||n.status===h.FileStatus.failed}).filter(function(n){return s.events.fire(h.UploaderEvents.beforeUploadFile,[n])});if(l.length)if(this.isActive=!0,this._uploadInfo={files:l,count:l.length,size:l.reduce(function(n,e){return n+e.file.size},0)},this.events.fire(h.UploaderEvents.uploadBegin,[l]),this.events.fire(h.UploaderEvents.uploadProgress,[0,0,this._uploadInfo.size]),this.config.singleRequest)this._xhrSend(l,u);else for(var r=0,a=l;r<a.length;r++){var i=a[r];this._xhrSend([i],u)}}},p.prototype.abort=function(u){if(u){var s=this.data.getItem(u);s&&s.request&&s.request.readyState!==4&&s.request.abort()}else{if(!this._uploadInfo||!this._uploadInfo.files)return;for(var l=0,r=this._uploadInfo.files;l<r.length;l++){var a=r[l];this.abort(a.id)}}},p.prototype._unlinkDropArea=function(u){var s=this._dropAreas.get(u);if(s){var l=s.dragover,r=s.drop;u.removeEventListener("dragover",l),u.removeEventListener("drop",r)}},p.prototype._initEvents=function(){var u=this;this._fileInput.addEventListener("change",function(){for(var s=u._fileInput.files,l=0;l<s.length;l++)u._addFile(s[l]);u.config.autosend&&u.send(),u._fileInput.value=null})},p.prototype._xhrSend=function(u,s){for(var l=this,r=this._createFormData(u,s),a=new XMLHttpRequest,i=this.config.headerParams,n=0,e=u;n<e.length;n++){var t=e[n];this.data.update(t.id,{request:a,status:h.FileStatus.inprogress,progress:0})}if(a.open("POST",this.config.target),i)for(var o in i)a.setRequestHeader(o,i[o]);a.upload.onprogress=function(c){for(var f=0,v=u;f<v.length;f++){var x=v[f];l.data.update(x.id,{progress:c.loaded/c.total,status:h.FileStatus.inprogress})}var k=l._uploadInfo.files.reduce(function(P,T){return P+T.size*T.progress},0)||0,S=l._uploadInfo.size,O=k/l._uploadInfo.size*100||0;l.events.fire(h.UploaderEvents.uploadProgress,[O,k,S])},a.onloadend=function(){l._uploadInfo.count=l.config.singleRequest?0:l._uploadInfo.count-1;for(var c=a.status===200?h.FileStatus.uploaded:h.FileStatus.failed,f=a.status===200&&a.response?JSON.parse(a.response):null,v=0,x=u;v<x.length;v++){var k=x[v];l.data.update(k.id,{status:c}),c===h.FileStatus.uploaded?(l.config.updateFromResponse&&f&&(l.config.singleRequest&&f[k.id]?l.data.update(k.id,f[k.id]):l.config.singleRequest||l.data.update(k.id,f)),l.events.fire(h.UploaderEvents.uploadFile,[k,f])):l.events.fire(h.UploaderEvents.uploadFail,[k])}l._uploadInfo.count===0&&(l.isActive=!1,l.events.fire(h.UploaderEvents.uploadComplete,[l._uploadInfo.files]))},a.send(r)},p.prototype._parseAsWebkitEntry=function(u){for(var s=this,l=[],r=0;r<u.length;r++){var a=u[r].webkitGetAsEntry();l.push(this._traverseFileTree(a))}b.all(l).then(function(){s.config.autosend&&s.send()})},p.prototype._createFormData=function(u,s){var l=this.config.fieldName,r=new FormData,a=this.config.params;if(s)for(var i in s)r.append(i,s[i]);if(a)for(var i in a)r.append(i,a[i]);for(var n=u.length>1?"[]":"",e=0,t=u;e<t.length;e++){var o=t[e];r.append(l+n,o.file,o.file.name),r.append(l+"_fullname"+n,o.path+o.file.name);var c=typeof o.id=="object"?o.id:o.id.toString();r.append(l+"_id"+n,c)}return r},p.prototype._addFile=function(u,s){s===void 0&&(s="");var l={id:(0,w.uid)(),file:u,progress:0,status:h.FileStatus.queue,src:null,path:s};this.data.add(l)},p.prototype._traverseFileTree=function(u){var s=this;return new b(function(l){var r=0,a=function(i,n){i.isFile?(r++,i.file(function(e){r--,s._addFile(e,n),r===0&&l()})):i.isDirectory&&function(e,t){r++,e.readEntries(function(o){r--;for(var c=0,f=o;c<f.length;c++){var v=f[c];a(v,t)}r===0&&l()})}(i.createReader(),n+i.name+"/")};a(u,"")})},p}();g.Uploader=d}).call(this,y(17))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.palette=g.grayShades=void 0,g.grayShades=["#000000","#4C4C4C","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#F2F2F2","#FFFFFF"],g.palette=[["#D4DAE4","#B0B8CD","#949DB1","#727A8C","#5E6677","#3F4757","#1D2534"],["#FFCDD2","#FE9998","#F35C4E","#E94633","#D73C2D","#CA3626","#BB2B1A"],["#F9E6AD","#F4D679","#EDB90F","#EAA100","#EA8F00","#EA7E00","#EA5D00"],["#BCE4CE","#90D2AF","#33B579","#36955F","#247346","#1D5B38","#17492D"],["#BDF0E9","#92E7DC","#02D7C5","#11B3A5","#018B80","#026B60","#024F43"],["#B3E5FC","#81D4FA","#29B6F6","#039BE5","#0288D1","#0277BD","#01579B"],["#AEC1FF","#88A3F9","#5874CD","#2349AE","#163FA2","#083596","#002381"],["#C5C0DA","#9F97C1","#7E6BAD","#584A8F","#4F4083","#473776","#3A265F"],["#D6BDCC","#C492AC","#A9537C","#963A64","#81355A","#6E3051","#4C2640"],["#D2C5C1","#B4A09A","#826358","#624339","#5D4037","#4E342E","#3E2723"]]},function(H,g,y){var b;Object.defineProperty(g,"__esModule",{value:!0}),g.ColorpickerEvents=void 0,function(w){w.beforeChange="beforeChange",w.change="change",w.apply="apply",w.cancelClick="cancelClick",w.modeChange="modeChange",w.selectClick="selectClick",w.colorChange="colorChange",w.viewChange="viewChange"}(b||(g.ColorpickerEvents=b={}))},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},m.apply(this,arguments)},_=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.ToggleButton=void 0;var h=y(4),d=y(5),p=y(0),u=y(3),s=y(6),l=y(1),r=function(a){function i(n,e){var t=a.call(this,n,m({full:!1,selected:!1,disabled:!1,hidden:!1,width:"content",height:"content",text:"",icon:"",offIcon:"",offText:"",css:"",padding:""},e))||this;return t.events=new u.EventSystem,t.props=_(_([],t.config.$group?[]:s.baseProps,!0),["value","offIcon","offText","icon","text","full"],!1),t.initHandlers(),t.mount(n,(0,p.create)({render:function(){return t.draw()}})),t}return w(i,a),i.prototype.setValue=function(n,e){n===void 0&&(n=!1),e===void 0&&(e=!1),typeof n=="boolean"&&n!==this.config.selected&&(e||this.events.fire(h.ItemEvent.beforeChange,[n]))&&(this.config.selected=n,!e&&this.events.fire(h.ItemEvent.change,[this.getValue()]),this.paint())},i.prototype.getValue=function(){var n=this.config,e=n.value,t=n.selected;return typeof e=="string"?t?e:"":typeof e=="number"?t?e:0:!!t},i.prototype.isSelected=function(){return!!this.config.selected},i.prototype.show=function(){this.config.hidden&&this.events.fire(h.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[this.getValue()]))},i.prototype.hide=function(n){n===void 0&&(n=!1),this.config.hidden&&!n||!this.events.fire(h.ItemEvent.beforeHide,[this.getValue(),n])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[this.getValue(),n]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.focus=function(){var n=this;(0,p.awaitRedraw)().then(function(){n.getRootView().refs.button.el.focus(),n.paint()})},i.prototype.blur=function(){var n=this;(0,p.awaitRedraw)().then(function(){n.getRootView().refs.button.el.blur(),n.paint()})},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.setProperties=function(n){if(n&&!(0,l.isEmptyObj)(n)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in n)this.props.includes(e)&&(this.config[e]=n[e]);this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()])}},i.prototype.getProperties=function(){for(var n={},e=0,t=this.props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.destructor=function(){this.events.clear(),this.unmount()},i.prototype.draw=function(){var n=this.config,e=n.id,t=n.name,o=n.selected,c=n.disabled,f=n.hidden,v=n.text,x=n.offText,k=n.icon,S=n.offIcon,O=n.full,P=n.$group,T=n.$gap,j=n.$extraCss,$=n.css;return(0,p.el)("button.dhx_toggle",{"data-dhx-id":t||e,role:"button",type:"button","aria-pressed":o,"aria-label":v||t,disabled:c,class:(P?"":"dhx_form-group dhx_form-group--toggle ")+(o?"dhx_toggle--selected ":"")+(c?"dhx_toggle--disabled ":"")+(f?"dhx_toggle--hidden ":"")+(O?"dhx_toggle--full ":"")+(P&&j||"")+(P&&$||""),style:{marginLeft:T},onclick:this.handlers.onclick,onfocus:this.handlers.onfocus,onblur:this.handlers.onblur,onkeydown:this.handlers.onkeydown,_ref:"button"},[k&&(0,p.el)("i.dhx_toggle__icon",{class:o?k:S||k}),v&&(0,p.el)("span.dhx_toggle__text",{},o?v:x||v)])},i.prototype.initHandlers=function(){var n=this;this.handlers={onclick:function(){return n.setValue(!n.config.selected)},onfocus:function(){return n.events.fire(h.ItemEvent.focus,[n.getValue()])},onblur:function(){return n.events.fire(h.ItemEvent.blur,[n.getValue()])},onkeydown:function(e){return n.events.fire(h.ItemEvent.keydown,[e])}}},i}(d.View);g.ToggleButton=r},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(43),m=y(10);g.default=b(b({},m.default),{type:"toggle",$handler:function(_){var h=_.id,d=_.value,p=_.editor,u=_.key;p.diagram.data.update(h,(0,w.getModifiedObject)(u,d,Array.isArray(u)&&p.diagram.data.getItem(h)||{}))},$setValue:function(_){var h=_.control,d=_.value;typeof d!="boolean"?h.setValue(d===this.value):h.setValue(!!d)},$layout:function(_){return b(b({},_),{type:"toggle"})}})},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.setValueFromCssVariable=g.getHeaderColor=void 0;var b=y(1);g.getHeaderColor=function(w,m){m===void 0&&(m="child");var _=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];return _[(w.$level+{child:1,partner:0,assistant:3}[m])%_.length]},g.setValueFromCssVariable=function w(m,_){for(var h in m){var d=m[h];(0,b.isObject)(d)&&w(d,_),typeof d=="string"&&d.startsWith("var(--")&&(m[h]=getComputedStyle(_).getPropertyValue(d.substring(4,d.length-1)))}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.cssManager=g.CssManager=void 0;var b=y(1),w=function(){function m(){this._classes={};var _=document.createElement("style");_.id="dhx_generated_styles",this._styleCont=document.head.appendChild(_)}return m.prototype.update=function(){this._styleCont.innerHTML!==this._generateCss()&&(document.head.appendChild(this._styleCont),this._styleCont.innerHTML=this._generateCss())},m.prototype.remove=function(_){delete this._classes[_],this.update()},m.prototype.add=function(_,h,d){d===void 0&&(d=!1);var p=this._toCssString(_),u=this._findSameClassId(p);return u&&h&&h!==u?(this._classes[h]=this._classes[u],h):u||this._addNewClass(p,h,d)},m.prototype.get=function(_){if(this._classes[_]){for(var h={},d=0,p=this._classes[_].split(";");d<p.length;d++){var u=p[d];if(u){var s=u.split(":");h[s[0]]=s[1]}}return h}return null},m.prototype.destructor=function(){this._classes=this._styleCont=null},m.prototype._findSameClassId=function(_){for(var h in this._classes)if(_===this._classes[h])return h;return null},m.prototype._addNewClass=function(_,h,d){var p=h||"dhx_generated_class_".concat((0,b.uid)());return this._classes[p]=_,d||this.update(),p},m.prototype._toCssString=function(_){var h="";for(var d in _){var p=_[d],u=d.replace(/[A-Z]{1}/g,function(s){return"-".concat(s.toLowerCase())});h+="".concat(u,":").concat(p,";")}return h},m.prototype._generateCss=function(){var _="";for(var h in this._classes){var d=this._classes[h];_+=".".concat(h,"{").concat(d,`}
`)}return _},m}();g.CssManager=w,g.cssManager=new w},function(H,g,y){y(115),y(116),y(117),y(118),y(119),y(278),H.exports=y(45)},function(H,g){Object.values=Object.values?Object.values:function(y){var b=Object.prototype.toString.call(y);if(y==null)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(b)){if(Object.keys)return Object.keys(y).map(function(_){return y[_]});var w=[];for(var m in y)y.hasOwnProperty(m)&&w.push(y[m]);return w}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(y){for(var b=[],w=1;w<arguments.length;w++)b[w-1]=arguments[w];if(y==null)throw new TypeError("Cannot convert first argument to object");for(var m=Object(y),_=0;_<b.length;_++){var h=b[_];if(h!=null)for(var d=Object.keys(Object(h)),p=0,u=d.length;p<u;p++){var s=d[p],l=Object.getOwnPropertyDescriptor(h,s);l!==void 0&&l.enumerable&&(m[s]=h[s])}}return m}})},function(H,g){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(y,b){if(this==null)throw new TypeError('"this" is null or not defined');var w=Object(this),m=w.length>>>0;if(m===0)return!1;for(var _,h,d=0|b,p=Math.max(d>=0?d:m-Math.abs(d),0);p<m;){if((_=w[p])===(h=y)||typeof _=="number"&&typeof h=="number"&&isNaN(_)&&isNaN(h))return!0;p++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(y){if(this==null)throw new TypeError('"this" is null or not defined');var b=Object(this),w=b.length>>>0;if(typeof y!="function")throw new TypeError("predicate must be a function");for(var m=arguments[1],_=0;_<w;){var h=b[_];if(y.call(m,h,_,b))return h;_++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(y){if(this==null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof y!="function")throw new TypeError("predicate must be a function");for(var b,w=Object(this),m=w.length>>>0,_=arguments[1],h=0;h<m;h++)if(b=w[h],y.call(_,b,h,w))return h;return-1})},function(H,g){String.prototype.includes||(String.prototype.includes=function(y,b){return typeof b!="number"&&(b=0),!(b+y.length>this.length)&&this.indexOf(y,b)!==-1}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(y,b){return b=b||0,this.indexOf(y,b)===b}}),String.prototype.padStart||(String.prototype.padStart=function(y,b){return y>>=0,b=String(b||" "),this.length>y?String(this):((y-=this.length)>b.length&&(b+=b.repeat(y/b.length)),b.slice(0,y)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(y,b){return y>>=0,b=String(b||" "),this.length>y?String(this):((y-=this.length)>b.length&&(b+=b.repeat(y/b.length)),String(this)+b.slice(0,y))})},function(H,g){if(Element&&!Element.prototype.matches){var y=Element.prototype;y.matches=y.matchesSelector||y.mozMatchesSelector||y.msMatchesSelector||y.oMatchesSelector||y.webkitMatchesSelector}if("classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var _=this;return{contains:function(h){return _.className.baseVal.split(" ").indexOf(h)!==-1},add:function(h){return _.setAttribute("class",_.getAttribute("class")+" "+h)},remove:function(h){var d=_.getAttribute("class").replace(new RegExp("(\\s|^)".concat(h,"(\\s|$)"),"g"),"$2");_.classList.contains(h)&&_.setAttribute("class",d)},toggle:function(h){this.contains(h)?this.remove(h):this.add(h)}}},configurable:!0}),!Object.entries){var b=Function.bind.call(Function.call,Array.prototype.reduce),w=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),m=Function.bind.call(Function.call,Array.prototype.concat);Object.entries=function(_){return b(Object.keys(_),function(h,d){return m(h,typeof d=="string"&&w(_,d)?[[d,_[d]]]:[])},[])}}Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var _=this.target;for(this.path=[];_.parentNode!==null;)this.path.push(_),_=_.parentNode;return this.path.push(document,window),this.path})},function(H,g){Math.sign=Math.sign||function(y){return(y=+y)==0||isNaN(y)?y:y>0?1:-1}},function(H,g,y){(function(b){var w=b!==void 0&&b||typeof self<"u"&&self||window,m=Function.prototype.apply;function _(h,d){this._id=h,this._clearFn=d}g.setTimeout=function(){return new _(m.call(setTimeout,w,arguments),clearTimeout)},g.setInterval=function(){return new _(m.call(setInterval,w,arguments),clearInterval)},g.clearTimeout=g.clearInterval=function(h){h&&h.close()},_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(w,this._id)},g.enroll=function(h,d){clearTimeout(h._idleTimeoutId),h._idleTimeout=d},g.unenroll=function(h){clearTimeout(h._idleTimeoutId),h._idleTimeout=-1},g._unrefActive=g.active=function(h){clearTimeout(h._idleTimeoutId);var d=h._idleTimeout;d>=0&&(h._idleTimeoutId=setTimeout(function(){h._onTimeout&&h._onTimeout()},d))},y(121),g.setImmediate=typeof self<"u"&&self.setImmediate||b!==void 0&&b.setImmediate||this&&this.setImmediate,g.clearImmediate=typeof self<"u"&&self.clearImmediate||b!==void 0&&b.clearImmediate||this&&this.clearImmediate}).call(this,y(44))},function(H,g,y){(function(b,w){(function(m,_){if(!m.setImmediate){var h,d,p,u,s,l=1,r={},a=!1,i=m.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(m);n=n&&n.setTimeout?n:m,{}.toString.call(m.process)==="[object process]"?h=function(o){w.nextTick(function(){t(o)})}:function(){if(m.postMessage&&!m.importScripts){var o=!0,c=m.onmessage;return m.onmessage=function(){o=!1},m.postMessage("","*"),m.onmessage=c,o}}()?(u="setImmediate$"+Math.random()+"$",s=function(o){o.source===m&&typeof o.data=="string"&&o.data.indexOf(u)===0&&t(+o.data.slice(u.length))},m.addEventListener?m.addEventListener("message",s,!1):m.attachEvent("onmessage",s),h=function(o){m.postMessage(u+o,"*")}):m.MessageChannel?((p=new MessageChannel).port1.onmessage=function(o){t(o.data)},h=function(o){p.port2.postMessage(o)}):i&&"onreadystatechange"in i.createElement("script")?(d=i.documentElement,h=function(o){var c=i.createElement("script");c.onreadystatechange=function(){t(o),c.onreadystatechange=null,d.removeChild(c),c=null},d.appendChild(c)}):h=function(o){setTimeout(t,0,o)},n.setImmediate=function(o){typeof o!="function"&&(o=new Function(""+o));for(var c=new Array(arguments.length-1),f=0;f<c.length;f++)c[f]=arguments[f+1];var v={callback:o,args:c};return r[l]=v,h(l),l++},n.clearImmediate=e}function e(o){delete r[o]}function t(o){if(a)setTimeout(t,0,o);else{var c=r[o];if(c){a=!0;try{(function(f){var v=f.callback,x=f.args;switch(x.length){case 0:v();break;case 1:v(x[0]);break;case 2:v(x[0],x[1]);break;case 3:v(x[0],x[1],x[2]);break;default:v.apply(_,x)}})(c)}finally{e(o),a=!1}}}}})(typeof self>"u"?b===void 0?this:b:self)}).call(this,y(44),y(122))},function(H,g){var y,b,w=H.exports={};function m(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function h(n){if(y===setTimeout)return setTimeout(n,0);if((y===m||!y)&&setTimeout)return y=setTimeout,setTimeout(n,0);try{return y(n,0)}catch{try{return y.call(null,n,0)}catch{return y.call(this,n,0)}}}(function(){try{y=typeof setTimeout=="function"?setTimeout:m}catch{y=m}try{b=typeof clearTimeout=="function"?clearTimeout:_}catch{b=_}})();var d,p=[],u=!1,s=-1;function l(){u&&d&&(u=!1,d.length?p=d.concat(p):s=-1,p.length&&r())}function r(){if(!u){var n=h(l);u=!0;for(var e=p.length;e;){for(d=p,p=[];++s<e;)d&&d[s].run();s=-1,e=p.length}d=null,u=!1,function(t){if(b===clearTimeout)return clearTimeout(t);if((b===_||!b)&&clearTimeout)return b=clearTimeout,clearTimeout(t);try{return b(t)}catch{try{return b.call(null,t)}catch{return b.call(this,t)}}}(n)}}function a(n,e){this.fun=n,this.array=e}function i(){}w.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];p.push(new a(n,e)),p.length!==1||u||h(r)},a.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=i,w.addListener=i,w.once=i,w.off=i,w.removeListener=i,w.removeAllListeners=i,w.emit=i,w.prependListener=i,w.prependOnceListener=i,w.listeners=function(n){return[]},w.binding=function(n){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(n){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},function(H,g,y){y.r(g)},function(H,g,y){y.r(g)},function(H,g,y){/**
* Copyright (c) 2017, Leon Sorokin
* All rights reserved. (MIT Licensed)
*
* domvm.js (DOM ViewModel)
* A thin, fast, dependency-free vdom view layer
* @preserve https://github.com/leeoniya/domvm (v3.2.6, micro build)
*/H.exports=function(){var b=1,w=2,m=3,_=4,h=5,d=typeof window<"u",p=(d?window:{}).requestAnimationFrame,u={};function s(){}var l=Array.isArray;function r(q){return q!=null}function a(q){return q!=null&&q.constructor===Object}function i(q,et,it,ot){q.splice.apply(q,[it,ot].concat(et))}function n(q){var et=typeof q;return et==="string"||et==="number"}function e(q){return typeof q=="function"}function t(q){return typeof q=="object"&&e(q.then)}function o(q){for(var et=arguments,it=1;it<et.length;it++)for(var ot in et[it])q[ot]=et[it][ot];return q}function c(q,et,it){for(var ot;ot=et.shift();)et.length===0?q[ot]=it:q[ot]=q=q[ot]||{}}function f(q,et){for(var it=[],ot=et;ot<q.length;ot++)it.push(q[ot]);return it}function v(q,et){for(var it in q)if(q[it]!==et[it])return!1;return!0}function x(q,et){var it=q.length;if(et.length!==it)return!1;for(var ot=0;ot<it;ot++)if(q[ot]!==et[ot])return!1;return!0}function k(q){if(!p)return q;var et,it,ot;function st(){et=0,q.apply(it,ot)}return function(){it=this,ot=arguments,et||(et=p(st))}}function S(q,et,it){return function(){return q.apply(it,et)}}function O(q){var et,it,ot=q.slice(),st=[];st.push(0);for(var ft=0,mt=q.length;ft<mt;++ft){var Et=st[st.length-1];if(q[Et]<q[ft])ot[ft]=Et,st.push(ft);else{for(et=0,it=st.length-1;et<it;){var yt=(et+it)/2|0;q[st[yt]]<q[ft]?et=yt+1:it=yt}q[ft]<q[st[et]]&&(et>0&&(ot[ft]=st[et-1]),st[et]=ft)}}for(it=st[(et=st.length)-1];et-- >0;)st[et]=it,it=ot[it];return st}function P(q,et){var it,ot=0,st=et.length-1;if(st<=2147483647)for(;ot<=st;){if(et[it=ot+st>>1]===q)return it;et[it]<q?ot=it+1:st=it-1}else for(;ot<=st;){if(et[it=Math.floor((ot+st)/2)]===q)return it;et[it]<q?ot=it+1:st=it-1}return ot==et.length?null:ot}function T(q){return q[0]==="o"&&q[1]==="n"}function j(q){return q[0]==="_"}function $(q){return q==="style"}function I(q){q&&q.el&&q.el.offsetHeight}function F(q){return q.node!=null&&q.node.el!=null}function E(q,et){switch(et){case"value":case"checked":case"selected":return!0}return!1}function V(q){for(q=q||u;q.vm==null&&q.parent;)q=q.parent;return q.vm}function z(){}var X=z.prototype={constructor:z,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function Y(q){var et=new z;return et.type=w,et.body=q,et}var U={},A=/\[(\w+)(?:=(\w+))?\]/g;function M(q){var et,it,ot,st,ft=U[q];if(ft==null)for(U[q]=ft={tag:(et=q.match(/^[-\w]+/))?et[0]:"div",id:(it=q.match(/#([-\w]+)/))?it[1]:null,class:(ot=q.match(/\.([-\w.]+)/))?ot[1].replace(/\./g," "):null,attrs:null};st=A.exec(q);)ft.attrs==null&&(ft.attrs={}),ft.attrs[st[1]]=st[2]||"";return ft}var R=1,W=2,Q=4,Z=8;function B(q,et,it,ot){var st=new z;st.type=b,r(ot)&&(st.flags=ot),st.attrs=et;var ft=M(q);if(st.tag=ft.tag,ft.id||ft.class||ft.attrs){var mt=st.attrs||{};if(ft.id&&!r(mt.id)&&(mt.id=ft.id),ft.class&&(st._class=ft.class,mt.class=ft.class+(r(mt.class)?" "+mt.class:"")),ft.attrs)for(var Et in ft.attrs)r(mt[Et])||(mt[Et]=ft.attrs[Et]);st.attrs=mt}var yt=st.attrs;return r(yt)&&(r(yt._key)&&(st.key=yt._key),r(yt._ref)&&(st.ref=yt._ref),r(yt._hooks)&&(st.hooks=yt._hooks),r(yt._data)&&(st.data=yt._data),r(yt._flags)&&(st.flags=yt._flags),r(st.key)||(r(st.ref)?st.key=st.ref:r(yt.id)?st.key=yt.id:r(yt.name)&&(st.key=yt.name+(yt.type==="radio"||yt.type==="checkbox"?yt.value:"")))),it!=null&&(st.body=it),st}function K(q,et,it){c(q,["refs"].concat(et.split(".")),it)}function J(q){for(;q=q.parent;)q.flags|=R}function tt(q,et,it,ot){if(q.type!==h&&q.type!==_){q.parent=et,q.idx=it,q.vm=ot,q.ref!=null&&K(V(q),q.ref,q);var st=q.hooks,ft=ot&&ot.hooks;(st&&(st.willRemove||st.didRemove)||ft&&(ft.willUnmount||ft.didUnmount))&&J(q),l(q.body)&&nt(q)}}function nt(q){for(var et=q.body,it=0;it<et.length;it++){var ot=et[it];ot===!1||ot==null?et.splice(it--,1):l(ot)?i(et,ot,it--,1):(ot.type==null&&(et[it]=ot=Y(""+ot)),ot.type===w?ot.body==null||ot.body===""?et.splice(it--,1):it>0&&et[it-1].type===w?(et[it-1].body+=ot.body,et.splice(it--,1)):tt(ot,q,it,null):tt(ot,q,it,null))}}var rt={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function lt(q,et){return isNaN(et)||rt[q]?et:et+"px"}function ct(q,et){var it=(q.attrs||u).style,ot=et?(et.attrs||u).style:null;if(it==null||n(it))q.el.style.cssText=it;else{for(var st in it){var ft=it[st];(ot==null||ft!=null&&ft!==ot[st])&&(q.el.style[st]=lt(st,ft))}if(ot)for(var mt in ot)it[mt]==null&&(q.el.style[mt]="")}}var ut=[];function at(q,et,it,ot,st){if(q!=null){var ft=it.hooks[et];if(ft){if(et[0]!=="d"||et[1]!=="i"||et[2]!=="d")return ft(it,ot);st?I(it.parent)&&ft(it,ot):ut.push([ft,it,ot])}}}function ht(q){var et;if(ut.length)for(I(q.node);et=ut.shift();)et[0](et[1],et[2])}var pt=d?document:null;function gt(q){for(;q._node==null;)q=q.parentNode;return q._node}function vt(q,et){return et!=null?pt.createElementNS(et,q):pt.createElement(q)}function _t(q){return pt.createTextNode(q)}function N(q){return pt.createComment(q)}function dt(q){return q.nextSibling}function bt(q){return q.previousSibling}function xt(q){var et=q.vm,it=et!=null&&at(et.hooks,"willUnmount",et,et.data),ot=at(q.hooks,"willRemove",q);if((q.flags&R)===R&&l(q.body))for(var st=0;st<q.body.length;st++)xt(q.body[st]);return it||ot}function Dt(q,et,it){var ot=et._node,st=ot.vm;if(l(ot.body))if((ot.flags&R)===R)for(var ft=0;ft<ot.body.length;ft++)Dt(et,ot.body[ft].el);else Ct(ot);delete et._node,q.removeChild(et),at(ot.hooks,"didRemove",ot,null,it),st!=null&&(at(st.hooks,"didUnmount",st,st.data,it),st.node=null)}function Mt(q,et){var it=et._node;if(!it._dead){var ot=xt(it);ot!=null&&t(ot)?(it._dead=!0,ot.then(S(Dt,[q,et,!0]))):Dt(q,et)}}function Ct(q){for(var et=q.body,it=0;it<et.length;it++){var ot=et[it];delete ot.el._node,ot.vm!=null&&(ot.vm.node=null),l(ot.body)&&Ct(ot)}}function It(q){var et=q.el;if((q.flags&R)==0)l(q.body)&&Ct(q),et.textContent=null;else{var it=et.firstChild;do{var ot=dt(it);Mt(et,it)}while(it=ot)}}function wt(q,et,it){var ot=et._node,st=et.parentNode!=null,ft=et!==it&&st?null:ot.vm;ft!=null&&at(ft.hooks,"willMount",ft,ft.data),at(ot.hooks,st?"willReinsert":"willInsert",ot),q.insertBefore(et,it),at(ot.hooks,st?"didReinsert":"didInsert",ot),ft!=null&&at(ft.hooks,"didMount",ft,ft.data)}function Ft(q,et,it){wt(q,et,it?dt(it):null)}var Rt={};function ae(q){o(Rt,q)}function fe(q){var et=this,it=et,ot=f(arguments,1).concat(it,it.data);do{var st=et.onemit,ft=st?st[q]:null;if(ft){ft.apply(et,ot);break}}while(et=et.parent());Rt[q]&&Rt[q].apply(et,ot)}var xe=s;function Ht(q){xe=q.onevent||xe,q.onemit&&ae(q.onemit)}function Qt(q,et,it){q[et]=it}function vn(q,et,it,ot,st){var ft=q.apply(st,et.concat([it,ot,st,st.data]));st.onevent(it,ot,st,st.data,et),xe.call(null,it,ot,st,st.data,et),ft===!1&&(it.preventDefault(),it.stopPropagation())}function Ke(q){var et,it,ot=gt(q.target),st=V(ot),ft=q.currentTarget._node.attrs["on"+q.type];if(l(ft))vn(et=ft[0],it=ft.slice(1),q,ot,st);else for(var mt in ft)if(q.target.matches(mt)){var Et=ft[mt];l(Et)?(et=Et[0],it=Et.slice(1)):(et=Et,it=[]),vn(et,it,q,ot,st)}}function se(q,et,it,ot){if(it!==ot){var st=q.el;it==null||e(it)?Qt(st,et,it):ot==null&&Qt(st,et,Ke)}}function pe(q,et,it){et[0]==="."&&(et=et.substr(1),it=!0),it?q.el[et]="":q.el.removeAttribute(et)}function we(q,et,it,ot,st){var ft=q.el;it==null?!st&&pe(q,et,!1):q.ns!=null?ft.setAttribute(et,it):et==="class"?ft.className=it:et==="id"||typeof it=="boolean"||ot?ft[et]=it:et[0]==="."?ft[et.substr(1)]=it:ft.setAttribute(et,it)}function Je(q,et,it){var ot=q.attrs||u,st=et.attrs||u;if(ot!==st){for(var ft in ot){var mt=ot[ft],Et=E(q.tag,ft),yt=Et?q.el[ft]:st[ft];mt===yt||($(ft)?ct(q,et):j(ft)||(T(ft)?se(q,ft,mt,yt):we(q,ft,mt,Et,it)))}for(var ft in st)!(ft in ot)&&!j(ft)&&pe(q,ft,E(q.tag,ft)||T(ft))}}function ge(q,et,it,ot){return q.type===_&&(et=q.data,it=q.key,ot=q.opts,q=q.view),new xn(q,et,it,ot)}function He(q){for(var et=0;et<q.body.length;et++){var it=q.body[et],ot=it.type;if(ot<=m)wt(q.el,le(it));else if(ot===_)ot=(st=ge(it.view,it.data,it.key,it.opts)._redraw(q,et,!1)).node.type,wt(q.el,le(st.node));else if(ot===h){var st;(st=it.vm)._redraw(q,et),ot=st.node.type,wt(q.el,st.node.el)}}}function le(q,et){return q.el==null&&(q.type===b?(q.el=et||vt(q.tag,q.ns),q.attrs!=null&&Je(q,u,!0),(q.flags&Z)===Z&&q.body.body(q),l(q.body)?He(q):q.body!=null&&q.body!==""&&(q.el.textContent=q.body)):q.type===w?q.el=et||_t(q.body):q.type===m&&(q.el=et||N(q.body))),q.el._node=q,q.el}function _n(q,et){return et[q.idx+1]}function mn(q,et){return et[q.idx-1]}function Ze(q){return q.parent}window.lisMove=Ce;var Be=1,ve=2;function Ee(q,et,it,ot,st,ft,mt,Et){return function(yt,Bt,Tt,Ot,Ge,Lt){var jt,ee;if(Ot[ot]!=null){if((jt=Ot[ot]._node)==null)return void(Ot[ot]=q(Ot[ot]));if(Ze(jt)!==yt)return ee=q(Ot[ot]),jt.vm!=null?jt.vm.unmount(!0):Mt(Bt,Ot[ot]),void(Ot[ot]=ee)}if(Ot[st]==Ge)return ve;if(Ot[st].el==null)it(Bt,le(Ot[st]),Ot[ot]),Ot[st]=et(Ot[st],Tt);else if(Ot[st].el===Ot[ot])Ot[st]=et(Ot[st],Tt),Ot[ot]=q(Ot[ot]);else{if(Lt||jt!==Ot[mt])return Lt&&Ot[ot]!=null?Ce(q,et,it,ot,st,Bt,Tt,jt,Ot):Be;ee=Ot[ot],Ot[ot]=q(ee),Et(Bt,ee,Ot[ft]),Ot[ft]=ee}}}function Ce(q,et,it,ot,st,ft,mt,Et,yt){if(Et._lis)it(ft,yt[st].el,yt[ot]),yt[st]=et(yt[st],mt);else{var Bt=P(Et.idx,yt.tombs);Et._lis=!0;var Tt=q(yt[ot]);it(ft,yt[ot],Bt!=null?mt[yt.tombs[Bt]].el:Bt),Bt==null?yt.tombs.push(Et.idx):yt.tombs.splice(Bt,0,Et.idx),yt[ot]=Tt}}var te=Ee(dt,_n,wt,"lftSib","lftNode","rgtSib","rgtNode",Ft),yn=Ee(bt,mn,Ft,"rgtSib","rgtNode","lftSib","lftNode",wt);function Qe(q,et){var it=et.body,ot=q.el,st=q.body,ft={lftNode:st[0],rgtNode:st[st.length-1],lftSib:(it[0]||u).el,rgtSib:(it[it.length-1]||u).el};t:for(;;){for(;;){var mt=te(q,ot,st,ft,null,!1);if(mt===Be)break;if(mt===ve)break t}for(;;){var Et=yn(q,ot,st,ft,ft.lftNode,!1);if(Et===Be)break;if(Et===ve)break t}ze(q,ot,st,ft);break}}function ze(q,et,it,ot){for(var st=Array.prototype.slice.call(et.childNodes),ft=[],mt=0;mt<st.length;mt++){var Et=st[mt]._node;Et.parent===q&&ft.push(Et.idx)}for(var yt=O(ft).map(function(Tt){return ft[Tt]}),Bt=0;Bt<yt.length;Bt++)it[yt[Bt]]._lis=!0;for(ot.tombs=yt;te(q,et,it,ot,null,!0)!==ve;);}function We(q){return q.el._node.parent!==q.parent}function Vt(q,et,it){return et[it]}function zi(q,et,it){for(;it<et.length;it++){var ot=et[it];if(ot.vm!=null){if(q.type===_&&ot.vm.view===q.view&&ot.vm.key===q.key||q.type===h&&ot.vm===q.vm)return ot}else if(!We(ot)&&q.tag===ot.tag&&q.type===ot.type&&q.key===ot.key&&(q.flags&~R)==(ot.flags&~R))return ot}return null}function Wi(q,et,it){return et[et._keys[q.key]]}function bn(q,et){at(et.hooks,"willRecycle",et,q);var it=q.el=et.el,ot=et.body,st=q.body;if(it._node=q,q.type!==w||st===ot){q.attrs==null&&et.attrs==null||Je(q,et,!1);var ft=l(ot),mt=l(st),Et=(q.flags&Z)===Z;ft?mt||Et?Dr(q,et):st!==ot&&(st!=null?it.textContent=st:It(et)):mt?(It(et),He(q)):st!==ot&&(it.firstChild?it.firstChild.nodeValue=st:it.textContent=st),at(et.hooks,"didRecycle",et,q)}else it.nodeValue=st}function Dr(q,et){var it=q.body,ot=it.length,st=et.body,ft=st.length,mt=(q.flags&Z)===Z,Et=(q.flags&W)===W,yt=(q.flags&Q)===Q,Bt=!Et&&q.type===b,Tt=!0,Ot=yt?Wi:Et||mt?Vt:zi;if(yt){for(var Ge={},Lt=0;Lt<st.length;Lt++)Ge[st[Lt].key]=Lt;st._keys=Ge}if(Bt&&ot===0)return It(et),void(mt&&(q.body=[]));var jt,ee,Gr=0,Ki=!1,ke=0;if(mt)var Ji={key:null},Zi=Array(ot);for(Lt=0;Lt<ot;Lt++){if(mt){var Kn=!1,Jn=null;Tt&&(yt&&(Ji.key=it.key(Lt)),jt=Ot(Ji,st,ke)),jt!=null?(ee=jt.idx,(Jn=it.diff(Lt,jt))===!0?((zt=jt).parent=q,zt.idx=Lt,zt._lis=!1):Kn=!0):Kn=!0,Kn&&(tt(zt=it.tpl(Lt),q,Lt),zt._diff=Jn!=null?Jn:it.diff(Lt),jt!=null&&bn(zt,jt)),Zi[Lt]=zt}else{var zt,tn=(zt=it[Lt]).type;if(tn<=m)(jt=Tt&&Ot(zt,st,ke))&&(bn(zt,jt),ee=jt.idx);else if(tn===_){if(jt=Tt&&Ot(zt,st,ke)){ee=jt.idx;var Zn=jt.vm._update(zt.data,q,Lt)}else Zn=ge(zt.view,zt.data,zt.key,zt.opts)._redraw(q,Lt,!1);tn=Zn.node.type}else if(tn===h){var Ur=F(zt.vm);tn=(Zn=zt.vm._update(zt.data,q,Lt,Ur)).node.type}}if(!yt&&jt!=null&&(ee===ke?++ke===ft&&ot>ft&&(jt=null,Tt=!1):Ki=!0,ft>100&&Ki&&++Gr%10==0))for(;ke<ft&&We(st[ke]);)ke++}mt&&(q.body=Zi),Bt&&Qe(q,et)}function xn(q,et,it,ot){var st=this;st.view=q,st.data=et,st.key=it,ot&&(st.opts=ot,st.config(ot));var ft=a(q)?q:q.call(st,st,et,it,ot);e(ft)?st.render=ft:(st.render=ft.render,st.config(ft)),st._redrawAsync=k(function(mt){return st.redraw(!0)}),st._updateAsync=k(function(mt){return st.update(mt,!0)}),st.init&&st.init.call(st,st,st.data,st.key,ot)}var Un=xn.prototype={constructor:xn,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:s,refs:null,render:null,mount:Tr,unmount:Ar,config:function(q){var et=this;q.init&&(et.init=q.init),q.diff&&(et.diff=q.diff),q.onevent&&(et.onevent=q.onevent),q.hooks&&(et.hooks=o(et.hooks||{},q.hooks)),q.onemit&&(et.onemit=o(et.onemit||{},q.onemit))},parent:function(){return V(this.node.parent)},root:function(){for(var q=this.node;q.parent;)q=q.parent;return q.vm},redraw:function(q){var et=this;return q?et._redraw(null,null,F(et)):et._redrawAsync(),et},update:function(q,et){var it=this;return et?it._update(q,null,null,F(it)):it._updateAsync(q),it},_update:$r,_redraw:Hr,_redrawAsync:null,_updateAsync:null};function Tr(q,et){var it=this;return et?(It({el:q,flags:0}),it._redraw(null,null,!1),q.nodeName.toLowerCase()!==it.node.tag?(le(it.node),wt(q.parentNode,it.node.el,q),q.parentNode.removeChild(q)):wt(q.parentNode,le(it.node,q),q)):(it._redraw(null,null),q&&wt(q,it.node.el)),q&&ht(it),it}function Ar(q){var et=this,it=et.node;Mt(it.el.parentNode,it.el),q||ht(et)}function Gi(q,et,it,ot){return it!=null&&(it.body[ot]=et,et.idx=ot,et.parent=it,et._lis=!1),q}function Hr(q,et,it){var ot,st,ft=q==null,mt=this,Et=mt.node&&mt.node.el&&mt.node.el.parentNode,yt=mt.node;if(mt.diff!=null&&(ot=mt._diff,mt._diff=st=mt.diff(mt,mt.data),yt!=null)){var Bt=l(ot)?x:v;if(ot===st||Bt(ot,st))return Gi(mt,yt,q,et)}Et&&at(mt.hooks,"willRedraw",mt,mt.data);var Tt=mt.render.call(mt,mt,mt.data,ot,st);if(Tt===yt)return Gi(mt,yt,q,et);if(mt.refs=null,mt.key!=null&&Tt.key!==mt.key&&(Tt.key=mt.key),mt.node=Tt,q?(tt(Tt,q,et,mt),q.body[et]=Tt):yt&&yt.parent?(tt(Tt,yt.parent,yt.idx,mt),yt.parent.body[yt.idx]=Tt):tt(Tt,null,null,mt),it!==!1)if(yt)if(yt.tag!==Tt.tag||yt.key!==Tt.key){yt.vm=Tt.vm=null;var Ot=yt.el.parentNode,Ge=dt(yt.el);Mt(Ot,yt.el),wt(Ot,le(Tt),Ge),yt.el=Tt.el,Tt.vm=mt}else bn(Tt,yt);else le(Tt);return Et&&at(mt.hooks,"didRedraw",mt,mt.data),ft&&Et&&ht(mt),mt}function $r(q,et,it,ot){var st=this;return q!=null&&st.data!==q&&(at(st.hooks,"willUpdate",st,q),st.data=q),st._redraw(et,it,ot)}function Ui(q,et,it,ot){var st,ft;return it==null?a(et)?st=et:ft=et:(st=et,ft=it),B(q,st,ft,ot)}var qi="http://www.w3.org/2000/svg";function Vr(q,et,it,ot){var st=Ui(q,et,it,ot);return st.ns=qi,st}function jr(q){var et=new z;return et.type=m,et.body=q,et}function qn(q,et,it,ot){this.view=q,this.data=et,this.key=it,this.opts=ot}function Fr(q,et,it,ot){return new qn(q,et,it,ot)}function Yn(q){this.vm=q}function Rr(q){return new Yn(q)}function Lr(q){var et=new z;return et.type=b,et.el=et.key=q,et}function Nr(q,et){var it=q.length,ot={items:q,length:it,key:function(st){return et.key(q[st],st)},diff:function(st,ft){var mt=et.diff(q[st],st);if(ft==null)return mt;var Et=ft._diff;return(mt===Et||l(Et)?x(mt,Et):v(mt,Et))||mt},tpl:function(st){return et.tpl(q[st],st)},map:function(st){return et.tpl=st,ot},body:function(st){for(var ft=Array(it),mt=0;mt<it;mt++){var Et=ot.tpl(mt);Et._diff=ot.diff(mt),ft[mt]=Et,tt(Et,st,mt)}st.body=ft}};return ot}qn.prototype={constructor:qn,type:_,view:null,data:null,key:null,opts:null},Yn.prototype={constructor:Yn,type:h,vm:null};var Xn={config:Ht,ViewModel:xn,VNode:z,createView:ge,defineElement:Ui,defineSvgElement:Vr,defineText:Y,defineComment:jr,defineView:Fr,injectView:Rr,injectElement:Lr,lazyList:Nr,FIXED_BODY:W,DEEP_REMOVE:R,KEYED_LIST:Q,LAZY_LIST:Z};function Br(q,et){zr(this,q,et)}function zr(q,et,it){if(et.type!=null){if(q.vm!=null)return;tt(et,q.parent,q.idx,null),q.parent.body[q.idx]=et,bn(et,q),it&&I(et),ht(V(et))}else{var ot=Object.create(q);ot.attrs=o({},q.attrs);var st=o(q.attrs,et);if(q._class!=null){var ft=st.class;st.class=ft!=null&&ft!==""?q._class+" "+ft:q._class}Je(q,ot),it&&I(q)}}function Yi(q,et){var it=q.body;if(l(it))for(var ot=0;ot<it.length;ot++){var st=it[ot];st.vm!=null?et.push(st.vm):Yi(st,et)}return et}function Xi(q){var et,it,ot=arguments,st=ot.length;if(st>1){var ft=1;a(ot[1])&&(it=ot[1],ft=2),et=st===ft+1&&(n(ot[ft])||l(ot[ft])||it&&(it._flags&Z)===Z)?ot[ft]:f(ot,ft)}return B(q,it,et)}function Wr(){var q=Xi.apply(null,arguments);return q.ns=qi,q}return X.patch=Br,Un.emit=fe,Un.onemit=null,Un.body=function(){return Yi(this.node,[])},Xn.defineElementSpread=Xi,Xn.defineSvgElementSpread=Wr,Xn}()},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(g,"__esModule",{value:!0}),g.ContextMenu=void 0;var m=y(1),_=y(2),h=y(21),d=y(30),p=function(u){function s(l,r){var a=u.call(this,l,(0,m.extend)({$name:"context-menu"},r))||this;return a._isContextMenu=!0,a}return w(s,u),s.prototype.showAt=function(l,r){if(r===void 0&&(r="bottom"),l instanceof MouseEvent)this._close(l),this._changeActivePosition({left:window.pageXOffset+l.x+1,right:window.pageXOffset+l.x+1,top:window.pageYOffset+l.y,bottom:window.pageYOffset+l.y,zIndex:(0,h.getZIndex)(l.target)},r);else if(window.TouchEvent&&l instanceof TouchEvent)this._close(l),this._changeActivePosition({left:window.pageXOffset+l.touches[0].clientX,right:window.pageXOffset+l.touches[0].clientX,top:window.pageYOffset+l.touches[0].clientY,bottom:window.pageYOffset+l.touches[0].clientY,zIndex:(0,h.getZIndex)(l.target)},r);else if(l instanceof HTMLElement||typeof l=="string"){var a=(0,_.toNode)(l);this._changeActivePosition((0,_.getRealPosition)(a),r)}},s.prototype._getFactory=function(){return(0,d.createFactory)({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"context-menu"})},s.prototype._close=function(l){var r=this;this.events.on(d.NavigationBarEvents.afterHide,function(){r._activeMenu=null,r._changeActivePosition(null,null)}),u.prototype._close.call(this,l)},s.prototype._getMode=function(l,r,a){return a?this._mode:"right"},s.prototype._changeActivePosition=function(l,r){this._activePosition=l,this._mode=r,this._listenOuterClick(),this.paint()},s}(d.Navbar);g.ContextMenu=p},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.message=void 0;var b=y(1),w=y(2),m=y(46),_=new WeakMap,h=new Map;function d(p,u){var s=document.createElement("div");return s.setAttribute("data-position",u),s.className="dhx_message-container dhx_message-container--"+u+(p===document.body?" dhx_message-container--in-body":""),s}g.message=function(p){var u;typeof p=="string"&&(p={text:p}),p.position=p.position||m.MessageContainerPosition.topRight;var s=document.createElement("div");s.className="dhx_widget dhx_message "+(p.css||""),s.setAttribute("role","alert");var l=p.text&&(0,b.uid)();l&&s.setAttribute("aria-describedby",l),p.html?s.innerHTML=p.html:(s.innerHTML='<span class="dhx_message__text" id='.concat(l,`></span>
		`).concat(p.icon?'<span class="dhx_message__icon dxi '.concat(p.icon,'"></span>'):""),s.querySelector("#".concat(l)).textContent=p.text);var r=p.node?(0,w.toNode)(p.node):document.body;getComputedStyle(r).position==="static"&&(r.style.position="relative");var a=h.get(r);a?a[p.position]||(a[p.position]={stack:[],container:d(r,p.position)}):h.set(r,((u={})[p.position]={stack:[],container:d(r,p.position)},u));var i=h.get(r)[p.position],n=i.stack,e=i.container;function t(c){c===void 0&&(c=!0),s&&(function(f,v){v&&clearTimeout(_.get(f));var x=f.parentNode,k=x.getAttribute("data-position"),S=x.parentNode,O=h.get(S);if(O){var P=O[k];if(P){var T=P.stack,j=T.indexOf(f);j!==-1&&(x.removeChild(f),T.splice(j,1),T.length===0&&S.removeChild(x))}}}(s,c),s=null)}if(n.length===0&&r.appendChild(e),n.push(s),e.appendChild(s),p.expire){var o=setTimeout(function(){return t(!1)},p.expire);_.set(s,o)}return s.onclick=function(){return t()},{close:function(){return t()}}}},function(H,g,y){(function(b){Object.defineProperty(g,"__esModule",{value:!0}),g.alert=void 0;var w=y(65),m=y(66),_=y(1);g.alert=function(h){var d=h.buttons&&h.buttons[0]?h.buttons[0]:w.default.apply,p=(0,m.blockScreen)(h.blockerCss);return new b(function(u){var s="dhx_alert__".concat((0,_.uid)(),"_content"),l="dhx_alert__".concat((0,_.uid)(),"_header"),r=document.createElement("div");r.setAttribute("role","alert"),r.setAttribute("aria-modal","true"),h.text&&r.setAttribute("aria-describedby",s),h.header&&r.setAttribute("aria-labelledby",l),r.className="dhx_widget dhx_alert "+(h.css||"");var a=function(n){n.key!=="Escape"&&n.key!=="Esc"||(i(n),u(!1))};function i(n){n.preventDefault(),p(),document.body.removeChild(r),document.removeEventListener("keydown",a)}r.innerHTML=`
			`.concat(h.header?"<div id=".concat(l,' class="dhx_alert__header"> ').concat(h.htmlEnable!==!1?h.header:""," </div>"):"",`
			`).concat(h.text?"<div id=".concat(s,' class="dhx_alert__content">').concat(h.htmlEnable!==!1?h.text:"","</div>"):"",`
			<div class="dhx_alert__footer `).concat(h.buttonsAlignment?"dhx_alert__footer--"+h.buttonsAlignment:"",`">
				<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(d,`</button>
			</div>`),h.htmlEnable===!1&&(h.header&&(r.querySelector("#".concat(l)).textContent=h.header),h.text&&(r.querySelector("#".concat(s)).textContent=h.text)),document.body.appendChild(r),r.querySelector(".dhx_alert__apply-button").focus(),r.querySelector("button").addEventListener("click",function(n){i(n),u(!0)}),document.addEventListener("keydown",a)})}}).call(this,y(17))},function(H,g,y){(function(b){Object.defineProperty(g,"__esModule",{value:!0}),g.confirm=void 0;var w=y(65),m=y(66),_=y(1);g.confirm=function(h){h.buttonsAlignment=h.buttonsAlignment||"right";var d=h.buttons&&h.buttons[1]?h.buttons[1]:w.default.apply,p=h.buttons&&h.buttons[0]?h.buttons[0]:w.default.reject,u=(0,m.blockScreen)("dhx_alert__overlay-confirm "+(h.blockerCss||""));return new b(function(s){var l=document.createElement("div");l.setAttribute("role","alertdialog"),l.setAttribute("aria-modal","true");var r,a=h.header&&(0,_.uid)(),i=h.header&&(0,_.uid)();i&&l.setAttribute("aria-describedby",i),a&&l.setAttribute("aria-labelledby",a);var n=function(o){u(),l.removeEventListener("click",e),document.removeEventListener("keydown",t),document.body.removeChild(l),s(o)},e=function(o){o.target.tagName==="BUTTON"&&n(o.target.classList.contains("dhx_alert__confirm-aply"))},t=function(o){o.key==="Escape"||o.key==="Esc"?(l.querySelector(".dhx_alert__confirm-aply").focus(),n(o.target.classList.contains("dhx_alert__confirm-reject"))):o.key==="Tab"&&(r==="aply"?(r="reject",l.querySelector(".dhx_alert__confirm-reject").focus()):(r="aply",l.querySelector(".dhx_alert__confirm-aply").focus()),o.preventDefault())};l.className="dhx_widget dhx_alert dhx_alert--confirm"+(h.css?" "+h.css:""),l.innerHTML=`
		`.concat(h.header?'<div class="dhx_alert__header" id='.concat(a,"> ").concat(h.htmlEnable!==!1?h.header:""," </div>"):"",`
		`).concat(h.text?'<div class="dhx_alert__content" id='.concat(i,">").concat(h.htmlEnable!==!1?h.text:"","</div>"):"",`
			<div class="dhx_alert__footer `).concat(h.buttonsAlignment?"dhx_alert__footer--"+h.buttonsAlignment:"",`">
				<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">`).concat(p,`</button>
				<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">`).concat(d,`</button>
			</div>`),h.htmlEnable===!1&&(h.header&&(l.querySelector("#".concat(a)).textContent=h.header),h.text&&(l.querySelector("#".concat(i)).textContent=h.text)),document.body.appendChild(l),r="aply",l.querySelector(".dhx_alert__confirm-aply").focus(),l.addEventListener("click",e),document.addEventListener("keydown",t)})}}).call(this,y(17))},function(H,g,y){var b,w=this&&this.__extends||(b=function(n,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])},b(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}b(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),m=this&&this.__assign||function(){return m=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var c in e=arguments[t])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Navbar=void 0;var _=y(1),h=y(0),d=y(3),p=y(21),u=y(2),s=y(14),l=y(5),r=y(8),a=y(38),i=function(n){function e(t,o){var c=n.call(this,t,o)||this;return c._isContextMenu=!1,c._documentHaveListener=!1,c.config=(0,_.extend)({rootId:typeof t=="string"&&t||c._uid},o),c._rootItem={},Array.isArray(c.config.data)?(c.events=new d.EventSystem(c),c.data=new r.TreeCollection({rootId:c.config.rootId},c.events)):c.config.data&&c.config.data.events?(c.data=c.config.data,c.events=c.data.events,c.events.context=c):(c.events=new d.EventSystem(c),c.data=new r.TreeCollection({rootId:c.config.rootId},c.events)),c._documentClick=function(f){if(c._documentHaveListener){var v=(0,u.locateNode)(f),x=c.data.getRoot(),k=v&&v.getAttribute("data-dhx-id"),S=c.data.getParent(k),O="ontouchstart"in window||navigator.msMaxTouchPoints;document.removeEventListener("click",c._documentClick),c._documentHaveListener=!1,((!O||v)&&c._isContextMenu||x!==S&&S&&c.data.getItem(k))&&S&&c.data.getItem(k)&&(!c._isContextMenu||x===(0,u.locate)(f,"data-dhx-widget-id"))||c._close(f)}},c._currentRoot=c.data.getRoot(),c._factory=c._getFactory(),c._initHandlers(),c._keyManager=new s.KeyManager(function(f,v){return v===c._uid}),c._initEvents(),Array.isArray(c.config.data)&&c.data.parse(c.config.data),c}return w(e,n),e.prototype.paint=function(){n.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},e.prototype.disable=function(t){var o=this;t!==void 0?this._setProp(t,"disabled",!0):this.data.forEach(function(c){var f=c.id;return o._setProp(f,"disabled",!0)})},e.prototype.enable=function(t){var o=this;t!==void 0?this._setProp(t,"disabled",!1):this.data.forEach(function(c){var f=c.id;return o._setProp(f,"disabled",!1)})},e.prototype.isDisabled=function(t){var o=this.data.getItem(t);if(o)return o.disabled||!1},e.prototype.show=function(t){var o=this;t!==void 0?this._setProp(t,"hidden",!1):this.data.forEach(function(c){var f=c.id;return o._setProp(f,"hidden",!1)})},e.prototype.hide=function(t){var o=this;t!==void 0?this._setProp(t,"hidden",!0):this.data.forEach(function(c){var f=c.id;return o._setProp(f,"hidden",!0)})},e.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},e.prototype.select=function(t,o){var c=this;if(o===void 0&&(o=!0),!(0,_.isId)(t))throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");o&&this.unselect(),this.data.update(t,{active:!0}),this.data.eachParent(t,function(f){c.data.update(f.id,{active:!0})})},e.prototype.unselect=function(t){var o=this;(0,_.isId)(t)?(this.data.update(t,{active:!1}),this.data.eachChild(t,function(c){o.data.update(c.id,{active:!1})})):this.data.forEach(function(c){o.data.update(c.id,{active:!1})})},e.prototype.isSelected=function(t){if((0,_.isId)(t)&&this.data.getItem(t))return!!this.data.getItem(t).active},e.prototype.getSelected=function(){var t=[];return this.data.forEach(function(o){o.active&&t.push(o.id)}),t},e.prototype._customHandlers=function(){return{}},e.prototype._close=function(t){var o=this;this._popupActive&&this.events.fire(a.NavigationBarEvents.beforeHide,[this._activeMenu,t])&&(this._activeParents&&this._activeParents.forEach(function(c){return o.data.exists(c)&&o.data.update(c,{$activeParent:!1})}),this.config.navigationType==="click"&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(a.NavigationBarEvents.afterHide,[t]),this.paint())},e.prototype._init=function(){var t,o=this;if(!this._isContextMenu||this._activePosition){var c=this.getRootNode()||document.documentElement,f=(t=c==null?void 0:c.closest("[data-dhx-theme]"))===null||t===void 0?void 0:t.getAttribute("data-dhx-theme");this._vpopups=(0,h.create)({render:function(){var v;return(0,h.el)("div",{"data-dhx-widget-id":o._uid,"data-dhx-theme":f||"light",class:"dhx_".concat((v=o.config)===null||v===void 0?void 0:v.$name,"--popup-menu ").concat(o._isContextMenu?" dhx_context-menu":""," ").concat(o.config.css?o.config.css.split(" ").map(function(x){return o._isContextMenu?x:x+"--popup-menu"}).join(" "):""),onmousemove:o._handlers.onmousemove,onmouseleave:o._handlers.onmouseleave,onclick:o._handlers.onclick,onmousedown:o._handlers.onmousedown,onkeydown:o._handlers.onkeydown},o._drawPopups())}}),this._vpopups.mount(document.body)}},e.prototype._initHandlers=function(){var t=this;this._isActive=this.config.navigationType!=="click",this._handlers=m({onkeydown:function(o){var c=(0,u.locate)(o)||void 0;(0,u.locateNode)(o,"data-dhx-widget-id").contains(document.activeElement)&&t.events.fire(a.NavigationBarEvents.keydown,[o,c])},onmousemove:function(o){if(t._isActive){var c=(0,u.locateNode)(o);if(c){var f=c.getAttribute("data-dhx-id");if(t._activeMenu!==f){if(t.data.haveItems(f)){t._vpopups||t._init(),t._setRoot(f);var v=(0,u.getRealPosition)(c);t.data.update(f,{$position:v},!1)}t._activeItemChange(f,o)}}}},onmouseleave:function(o){if(t.config.navigationType!=="click")if(t._popupActive){var c=(0,u.locateNode)(o,"data-dhx-id","relatedTarget");if(c){var f=c.getAttribute("data-dhx-id");if(t.data.getItem(f)||(t._close(o),t._activeItemChange(null,o)),t.data.haveItems(f)){t._vpopups||t._init();var v=(0,u.getRealPosition)(c);t.data.update(f,{$position:v},!1),t._activeItemChange(f,o)}}else t._close(o),t._activeItemChange(null,o)}else t._activeItemChange(null,o)},onclick:function(o){var c=(0,u.locateNode)(o);if(c){var f=c.getAttribute("data-dhx-id");if(!t.isDisabled(f)){var v=t.data.getItem(f);if(!(v!=null&&v.multiClick))if(t.data.haveItems(f)){if(t._vpopups||t._init(),f===t._currentRoot)return;t._isActive||(t._isActive=!0),t._setRoot(f);var x=(0,u.getRealPosition)(c);t.data.update(f,{$position:x},!1),t._activeItemChange(f,o),t.events.fire(a.NavigationBarEvents.click,[f,o])}else switch(v==null?void 0:v.type){case"input":case"title":break;case"menuItem":case"selectButton":t._onMenuItemClick(f,o);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":v.twoState&&t.data.update(v.id,{active:!v.active}),t.events.fire(a.NavigationBarEvents.click,[f,o]),t._close(o);break;default:t._close(o)}}}},onmousedown:function(o){var c=(0,u.locateNode)(o);if(c){var f=c.getAttribute("data-dhx-id"),v=t.data.getItem(f);if(v!=null&&v.multiClick){var x,k=365,S=function(){t.events.fire(a.NavigationBarEvents.click,[f,o]),k>50&&(k-=55),x=setTimeout(S,k)},O=function(){clearTimeout(x),document.removeEventListener("mouseup",O)};S(),document.addEventListener("mouseup",O)}}}},this._customHandlers())},e.prototype._initEvents=function(){var t=this,o=null;[a.DataEvents.change,a.DataEvents.filter].forEach(function(c){t.events.on(c,function(){return t.paint(),o&&clearTimeout(o),void(o=setTimeout(function(){var f={};t.data.eachChild(t.data.getRoot(),function(v){v.group&&(v.twoState=!0,function(x,k){x[k.group]?(k.active&&(x[k.group].active=k.id),x[k.group].elements.push(k.id)):x[k.group]={active:k.active?k.id:null,elements:[k.id]}}(f,v))},!0),t._groups=f,t._resetHotkeys(),o=null,t.paint()},100))})}),this.events.on(a.NavigationBarEvents.click,function(c){var f=t.data.getItem(c),v=t.data.getItem(f==null?void 0:f.parent);if(v&&v.type==="selectButton"&&t.data.update(f.parent,{value:f.value,icon:f.icon}),f==null?void 0:f.group){var x=t._groups[f.group];x.active&&t.data.update(x.active,{active:!1}),x.active=f.id,t.data.update(f.id,{active:!0})}}),this.events.on(a.NavigationBarEvents.inputChange,function(c,f){t.data.update(c,{value:f})}),this._customInitEvents()},e.prototype._getMode=function(t,o,c){return t.parent===o?"bottom":"right"},e.prototype._drawMenuItems=function(t,o){var c=this;return o===void 0&&(o=!0),this.data.map(function(f){return c._factory(f,o)},t,!1)},e.prototype._setRoot=function(t){},e.prototype._getParents=function(t,o){var c=[],f=!1,v=this.data.getItem(t),x=v&&v.disabled;return this.data.eachParent(t,function(k){k.id===o?(c.push(k.id),f=!0):f||c.push(k.id)},!x),this._isContextMenu&&this._activePosition&&c.push(o),c},e.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("click",this._documentClick,!0),this._documentHaveListener=!0)},e.prototype._customInitEvents=function(){},e.prototype._drawPopups=function(){var t=this,o=this._activeMenu;if(!this._isContextMenu&&!o)return null;var c=this.getRootNode(),f=c&&c.offsetParent&&c.offsetParent.offsetParent,v=(0,p.getZIndex)(f),x=this._currentRoot,k=this._getParents(o,x);return this._activeParents=k,k.forEach(function(S){return t.data.exists(S)&&t.data.update(S,{$activeParent:!0},!1)}),k.map(function(S){if(!t.data.haveItems(S))return null;var O=t.data.getItem(S)||t._rootItem;return t._popupActive=!0,(0,h.el)("ul",m({class:"dhx_widget dhx_menu"+(t.config.menuCss?" "+t.config.menuCss:""),_key:S,_hooks:{didInsert:function(P){var T=P.el.getBoundingClientRect(),j=T.width,$=T.height,I=t._isContextMenu&&t._activePosition&&S===x?t._activePosition:O.$position,F=t._getMode(O,x,I===t._activePosition),E=(0,u.calculatePosition)(I,{mode:F,auto:!0,width:j,height:$});O.$style=m(m({},E),{zIndex:t._activePosition&&t._activePosition.zIndex||v}),P.patch({style:O.$style})},didRecycle:function(P,T){if(t._isContextMenu&&t._activePosition&&S===x){var j=T.el.getBoundingClientRect(),$=j.width,I=j.height,F=(0,u.calculatePosition)(t._activePosition,{mode:t._getMode(O,x,!0),width:$,height:I});O.$style=m(m({},F),{zIndex:t._activePosition.zIndex||v}),T.patch({style:O.$style})}}},tabindex:0,style:O.$style||{position:"absolute"}},function(P){return{role:"menu","aria-labeledby":P.id,"aria-live":"polite"}}(O)),t._drawMenuItems(S))}).reverse()},e.prototype._onMenuItemClick=function(t,o){var c=this.data.getItem(t);c.disabled||(c.twoState&&this.data.update(c.id,{active:!c.active}),this.events.fire(a.NavigationBarEvents.click,[t,o]),this._close(o))},e.prototype._activeItemChange=function(t,o){var c=this;if(this._activeParents){var f=this._getParents(t,this._currentRoot);this._activeParents.forEach(function(v){c.data.exists(v)&&!f.includes(v)&&c.data.update(v,{$activeParent:!1},!1)})}(0,_.isId)(t)&&!this._documentHaveListener&&this._listenOuterClick(),(0,_.isId)(t)&&this.data.haveItems(t)?(this._activeMenu===t&&this._popupActive||this.events.fire(a.NavigationBarEvents.openMenu,[t]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(function(){return c.paint()},400)),this._activeMenu=t},e.prototype._resetHotkeys=function(){var t=this;this._keyManager.removeHotKey(null,this),this.data.map(function(o){o.hotkey&&t._keyManager.addHotKey(o.hotkey,function(){return t._onMenuItemClick(o.id,null)})})},e.prototype._setProp=function(t,o,c){var f,v=this;Array.isArray(t)?t.forEach(function(x){var k;return v.data.update(x,((k={})[o]=c,k))}):this.data.update(t,((f={})[o]=c,f))},e}(l.View);g.Navbar=i},function(H,g,y){(function(b){var w=this&&this.__assign||function(){return w=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},w.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Loader=void 0;var m=y(1),_=y(23),h=y(22),d=y(1),p=function(){function u(s,l){this._parent=s,this._changes=l}return u.prototype.load=function(s,l){var r=this;if(!s.config||this._parent.events.fire(h.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=s.load().then(function(a){return a?r.parse(a,l):[]}).catch(function(a){r._parent.events.fire(h.DataEvents.loadError,[a])})},u.prototype.parse=function(s,l){var r=this;if(l===void 0&&(l=h.DataDriver.json),l!=="json"||(0,_.hasJsonOrArrayStructure)(s)||this._parent.events.fire(h.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((s=(l=(0,_.toDataDriver)(l)).toJsonArray(s))instanceof Array)){var a=s.total_count-1,i=s.from;if(s=s.data,this._parent.getLength()!==0)return s.forEach(function(o,c){var f=i+c,v=r._parent.getId(f);if((0,m.isId)(v)){var x=r._parent.getItem(v);if(x&&x.$empty){var k=o.id||x.id;(0,d.isDefined)(o.id)&&r._parent.changeId(v,k,!0),r._parent.update(k,w(w({},o),{$empty:void 0}),!0)}}else(0,_.dhxWarning)("item not found")}),this._parent.events.fire(h.DataEvents.afterLazyLoad,[i,s.length]),this._parent.events.fire(h.DataEvents.change),s;for(var n=[],e=0,t=0;e<=a;e++)e>=i&&e<=i+s.length-1?(n.push(s[t]),t++):n.push({$empty:!0});s=n}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(s),s},u.prototype.save=function(s){for(var l=this,r=this._getUniqueOrder(),a=function(t){if(t.saving||t.pending)(0,_.dhxWarning)("item is saving");else{var o=i._findPrevState(t.id);if(o&&o.saving){var c=new b(function(f,v){o.promise.then(function(){t.pending=!1,f(l._setPromise(t,s))}).catch(function(x){l._removeFromOrder(o),l._setPromise(t,s),(0,_.dhxWarning)(x),v(x)})});i._addToChain(c),t.pending=!0}else i._setPromise(t,s)}},i=this,n=0,e=r;n<e.length;n++)a(e[n]);r.length&&this._parent.saveData.then(function(){l._saving=!1})},u.prototype.updateChanges=function(s){this._changes=s},u.prototype._setPromise=function(s,l){var r,a=this;switch(s.status){case"remove":r="delete";break;case"add":r="insert";break;default:r=s.status}return s.promise=l.save(s.obj,r),s.promise.then(function(){a._removeFromOrder(s)}).catch(function(i){s.saving=!1,s.error=!0,(0,_.dhxError)(i)}),s.saving=!0,this._saving=!0,this._addToChain(s.promise),s.promise},u.prototype._addToChain=function(s){this._parent.saveData&&this._saving?this._parent.saveData=this._parent.saveData.then(function(){return s}):this._parent.saveData=s},u.prototype._findPrevState=function(s){for(var l=0,r=this._changes.order;l<r.length;l++){var a=r[l];if(a.id===s)return a}return null},u.prototype._removeFromOrder=function(s){this._changes.order=this._changes.order.filter(function(l){return!(0,_.isEqualObj)(l,s)})},u.prototype._getUniqueOrder=function(){return this._changes.order.reduce(function(s,l){var r=s.findIndex(function(i){return i.id===l.id}),a=r>-1?s[r]:null;return a&&a.saving===!1&&a.status==="add"?l.status==="remove"?s.splice(r,1):a.obj=l.obj:a&&a.saving===!1&&a.status==="update"?s.splice(r,1,l):s.push(l),s},[])},u}();g.Loader=p}).call(this,y(17))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.XMLDriver=void 0;var b=y(133);function w(_,h){h=h||{};var d=_.attributes;if(d&&d.length)for(var p=0;p<d.length;p++)h[d[p].name]=d[p].value;var u=_.childNodes;for(p=0;p<u.length;p++)if(u[p].nodeType===1){var s=u[p].tagName;h[s]?(typeof h[s].push!="function"&&(h[s]=[h[s]]),h[s].push(w(u[p],{}))):h[s]=w(u[p],{})}return h}var m=function(){function _(){}return _.prototype.toJsonArray=function(h){return this.getRows(h)},_.prototype.toJsonObject=function(h){var d;return typeof h=="string"&&(d=this._fromString(h)),w(d)},_.prototype.serialize=function(h){return(0,b.jsonToXML)(h)},_.prototype.getFields=function(h){return h},_.prototype.getRows=function(h){if(typeof h=="string"&&(h=this._fromString(h)),h){var d=h.childNodes&&h.childNodes[0]&&h.childNodes[0].childNodes;return d&&d.length?this._getRows(d):null}return[]},_.prototype._getRows=function(h){for(var d=[],p=0;p<h.length;p++)h[p].tagName==="item"&&d.push(this._nodeToJS(h[p]));return d},_.prototype._fromString=function(h){try{return new DOMParser().parseFromString(h,"text/xml")}catch{return null}},_.prototype._nodeToJS=function(h){var d={};if(this._haveAttrs(h))for(var p=h.attributes,u=0;u<p.length;u++){var s=p[u],l=s.name,r=s.value;d[l]=this._toType(r)}if(h.nodeType===3)return d.value=d.value||this._toType(h.textContent),d;var a=h.childNodes;if(a)for(u=0;u<a.length;u++){var i=a[u],n=i.tagName;n&&(n==="items"&&i.childNodes?d[n]=this._getRows(i.childNodes):this._haveAttrs(i)?d[n]=this._nodeToJS(i):d[n]=this._toType(i.textContent))}return d},_.prototype._toType=function(h){return h==="false"||h==="true"?h==="true":h},_.prototype._haveAttrs=function(h){return h.attributes&&h.attributes.length},_}();g.XMLDriver=m},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.jsonToXML=void 0;var b=4;function w(_){return" ".repeat(_)}function m(_,h){h===void 0&&(h=b);var d=w(h)+`<item>
`;for(var p in _)Array.isArray(_[p])?(d+=w(h+b)+"<".concat(p,`>
`),d+=_[p].map(function(u){return m(u,h+2*b)}).join(`
`)+`
`,d+=w(h+b)+"</".concat(p,`>
`)):d+=w(h+b)+"<".concat(p,">").concat(_[p],"</").concat(p,`>
`);return d+=w(h)+"</item>"}g.jsonToXML=function(_,h){h===void 0&&(h="root");for(var d=`<?xml version="1.0" encoding="iso-8859-1"?>
<`.concat(h,">"),p=0;p<_.length;p++)d+=`
`+m(_[p]);return d+`
</`.concat(h,">")}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.Sort=void 0;var b=y(23),w=function(){function m(){}return m.prototype.sort=function(_,h,d){this._createSorter(h),d===h&&(h=null),(d||h)&&this._sort(_,d,h)},m.prototype._createSorter=function(_){var h=this;_&&!_.rule&&(_.rule=function(d,p){var u,s,l=(u=h._checkVal(_.as,d[_.by]))!==null&&u!==void 0?u:"",r=(s=h._checkVal(_.as,p[_.by]))!==null&&s!==void 0?s:"";return(0,b.naturalCompare)(l.toString(),r.toString())})},m.prototype._checkVal=function(_,h){return _?_.call(this,h):h},m.prototype._sort=function(_,h,d){var p=this,u={asc:1,desc:-1};return _.sort(function(s,l){var r=0;return h&&(r=h.rule.call(p,s,l)*(u[h.dir]||u.asc)),r===0&&d&&(r=d.rule.call(p,s,l)*(u[d.dir]||u.asc)),r})},m}();g.Sort=w},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__spreadArray||function(r,a,i){if(i||arguments.length===2)for(var n,e=0,t=a.length;e<t;e++)!n&&e in a||(n||(n=Array.prototype.slice.call(a,0,e)),n[e]=a[e]);return r.concat(n||Array.prototype.slice.call(a))};Object.defineProperty(g,"__esModule",{value:!0}),g.TreeCollection=void 0;var _=y(1),h=y(68),d=y(32),p=y(23),u=y(22);function s(r,a,i,n){n!==void 0&&n!==-1&&r[i]&&r[i][n]?r[i].splice(n,0,a):(r[i]||(r[i]=[]),r[i].push(a))}var l=function(r){function a(i,n){var e,t=r.call(this,i,n)||this;t._childs={};var o=t._root=i&&i.rootId||"_ROOT_"+(0,_.uid)();return t._childs=((e={})[o]=[],e),t._initChilds=null,t}return w(a,r),a.prototype.add=function(i,n,e){var t,o=this;if(n===void 0&&(n=-1),e===void 0&&(e=this._root),this.events.fire(u.DataEvents.beforeAdd,[i]))return typeof i!="object"&&(i={value:i}),t=Array.isArray(i)?i.map(function(c,f){return o._add(c,n,e,f)}):this._add(i,n,e),this._reapplyFilters(!1),t},a.prototype.getRoot=function(){return this._root},a.prototype.getParent=function(i,n){if(n===void 0&&(n=!1),!this._pull[i])return null;var e=this._pull[i].parent;return n?this._pull[e]:e},a.prototype.getItems=function(i){return this._childs&&this._childs[i]?this._childs[i]:[]},a.prototype.getLength=function(i){return i===void 0&&(i=this._root),this._childs[i]?this._childs[i].length:null},a.prototype.removeAll=function(i){var n;if((0,_.isId)(i)){if(this._childs[i])for(var e=0,t=m([],this._childs[i],!0);e<t.length;e++){var o=t[e];this.remove(o.id)}}else{r.prototype.removeAll.call(this);var c=this._root;this._initChilds=null,this._childs=((n={})[c]=[],n)}},a.prototype.getIndex=function(i){var n=this.getParent(i);return n&&this._childs[n]?this._childs[n].findIndex(function(e){return(e==null?void 0:e.id)==i}):-1},a.prototype.sort=function(i){var n=this;if(i){for(var e in this._childs)this._sort.sort(this._childs[e],i);if(this._initChilds&&Object.keys(this._initChilds).length)for(var e in this._initChilds)this._sort.sort(this._initChilds[e],i)}else this._childs={},this._parse_data(Object.keys(this._pull).map(function(t){return n._pull[t]})),this._reapplyFilters(!1);this.events.fire(u.DataEvents.change,[void 0,"sort",i])},a.prototype.filter=function(i,n,e){if(n!=null&&n.$restore&&(i=this._normalizeFilters(i||this._filters)),!(i&&(n==null?void 0:n.add)||(this.restoreOrder(),n==null?void 0:n.$restore)))for(var t in this._filters){var o=this._filters[t],c=o.rule,f=o.config;f!=null&&f.permanent?this._applyFilter(c,f):delete this._filters[t]}var v;if(i&&!(n!=null&&n.$restore))v=(n==null?void 0:n.id)||(0,_.uid)(),n||(n={}),n.type=n.type||u.TreeFilterType.all,this._filters[v]={rule:i,config:n},this._applyFilter(i,n);else for(var t in i)this._applyFilter(i[t],this._filters[t].config);if(!e){var x=this._getPureFilters(this._filters);this.events.fire(u.DataEvents.filter,[(0,_.isEmptyObj)(x)?null:x])}return v},a.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null)},a.prototype.copy=function(i,n,e,t){var o=this;return e===void 0&&(e=this),t===void 0&&(t=this._root),i instanceof Array?i.map(function(c,f){return o._copy(c,n,e,t,f)}):this._copy(i,n,e,t)},a.prototype.move=function(i,n,e,t){var o=this;return e===void 0&&(e=this),t===void 0&&(t=this._root),i instanceof Array?i.map(function(c,f){return o._move(c,n,e,t,f)}):this._move(i,n,e,t)},a.prototype.forEach=function(i,n,e){if(n===void 0&&(n=this._root),e===void 0&&(e=1/0),this.haveItems(n)&&!(e<1))for(var t=this._childs[n],o=0;o<t.length;o++)i.call(this,t[o],o,t),this.haveItems(t[o].id)&&this.forEach(i,t[o].id,--e)},a.prototype.eachChild=function(i,n,e,t){if(e===void 0&&(e=!0),t===void 0&&(t=function(){return!0}),this.haveItems(i))for(var o=0;o<this._childs[i].length;o++)n.call(this,this._childs[i][o],o),e&&t(this._childs[i][o])&&this.eachChild(this._childs[i][o].id,n,e,t)},a.prototype.getNearId=function(i){return i},a.prototype.loadItems=function(i,n){var e=this;if(n===void 0&&(n=u.DataDriver.json),this.events.fire(u.DataEvents.beforeItemLoad,[i])){var t=this.config.autoload.toString(),o=t+(t.includes("?")?"&id=".concat(i):"?id=".concat(i));new d.DataProxy(o).load().then(function(c){c=(n=(0,p.toDataDriver)(n)).toJsonArray(c),e._parse_data(c,i),e.events.fire(u.DataEvents.change),e.events.fire(u.DataEvents.afterItemLoad,[i])}).catch(function(c){e.events.fire(u.DataEvents.loadError,[c])})}},a.prototype.refreshItems=function(i,n){n===void 0&&(n=u.DataDriver.json),this.removeAll(i),this.loadItems(i,n)},a.prototype.eachParent=function(i,n,e){e===void 0&&(e=!1);var t=this.getItem(i);if(t&&(e&&n.call(this,t),t.parent!==this._root)){var o=this.getItem(t.parent);n.call(this,o),this.eachParent(t.parent,n)}},a.prototype.haveItems=function(i){return i in this._childs},a.prototype.canCopy=function(i,n){if(i===n)return!1;var e=!0;return this.eachParent(n,function(t){return t.id===i?e=!1:null}),e},a.prototype.serialize=function(i,n){i===void 0&&(i=u.DataDriver.json);var e=this._serialize(this._root,n),t=(0,p.toDataDriver)(i);if(t)return t.serialize(e)},a.prototype.getId=function(i,n){if(n===void 0&&(n=this._root),this._childs[n]&&this._childs[n][i])return this._childs[n][i].id},a.prototype.map=function(i,n,e){n===void 0&&(n=this._root),e===void 0&&(e=!0);var t=[];if(!this.haveItems(n))return t;for(var o=0;o<this._childs[n].length;o++)if(t.push(i.call(this,this._childs[n][o],o,this._childs)),e){var c=this.map(i,this._childs[n][o].id,e);t=t.concat(c)}return t},a.prototype.getRawData=function(i,n,e,t,o){var c;return o=o!=null?o:this._root,this._childs[o]?(c=o===this._root?r.prototype.getRawData.call(this,i,n,this._childs[o]):this._childs[o],t===2?this.flatten(c):c):[]},a.prototype.flatten=function(i){var n=this,e=[];return i.forEach(function(t){e.push(t);var o=n._childs[t.id];o&&t.$opened&&(e=e.concat(n.flatten(o)))}),e},a.prototype._add=function(i,n,e,t){n===void 0&&(n=-1),e===void 0&&(e=this._root),this._setParent(i,e),t>0&&n!==-1&&(n+=1);var o=r.prototype._add.call(this,i,n);if(Array.isArray(i.items))for(var c=0,f=i.items;c<f.length;c++){var v=f[c];this.add(v,-1,i.id)}return o},a.prototype._setParent=function(i,n){i.parent=i.parent?i.parent.toString():n;var e=this._pull[i.parent];e&&!e.items&&(e.items=[])},a.prototype._copy=function(i,n,e,t,o){if(e===void 0&&(e=this),t===void 0&&(t=this._root),!this.exists(i))return null;var c=this._childs[i];if(o&&(n=n===-1?-1:n+o),e===this&&!this.canCopy(i,t))return null;var f=(0,p.copyWithoutInner)(this.getItem(i),{items:!0});if(e.exists(i)&&(f.id=(0,_.uid)()),(0,p.isTreeCollection)(e)){if(this.exists(i)&&(f.parent=t,e!==this&&t===this._root&&(f.parent=e.getRoot()),e.add(f,n),i=f.id),c)for(var v=0,x=c;v<x.length;v++){var k=x[v].id,S=this.getIndex(k);typeof i=="string"&&this.copy(k,S,e,i)}return i}e.add(f,n)},a.prototype._move=function(i,n,e,t,o){if(e===void 0&&(e=this),t===void 0&&(t=this._root),!this.exists(i))return null;if(o&&(n=n===-1?-1:n+o),e!==this){if(!(0,p.isTreeCollection)(e))return e.add((0,p.copyWithoutInner)(this.getItem(i)),n),void this.remove(i);var c=this.copy(i,n,e,t);return this.remove(i),c}if(!this.canCopy(i,t))return null;var f=this.getParent(i),v=this.getIndex(i),x=this._childs[f].splice(v,1)[0];return x.parent=t,this._childs[f].length||delete this._childs[f],this.haveItems(t)||(this._childs[t]=[]),n===-1?n=this._childs[t].push(x):this._childs[t].splice(n,0,x),this.events.fire(u.DataEvents.change,[i,"update",this.getItem(i)]),i},a.prototype._reset=function(i){var n;if((0,_.isId)(i))for(var e=0,t=m([],this._childs[i],!0);e<t.length;e++){var o=t[e];this.remove(o.id)}else{r.prototype._reset.call(this);var c=this._root;this._initChilds=null,this._childs=((n={})[c]=[],n)}},a.prototype._removeCore=function(i){if(this._pull[i]){var n=this.getParent(i);this._childs[n]=this._childs[n].filter(function(e){return e.id!==i}),n===this._root||this._childs[n].length||delete this._childs[n],this._initChilds&&this._initChilds[n]&&(this._initChilds[n]=this._initChilds[n].filter(function(e){return e.id!==i}),n===this._root||this._initChilds[n].length||delete this._initChilds[n]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(e){return e.id!==i})),this._fastDeleteChilds(this._childs,i),this._initChilds&&this._fastDeleteChilds(this._initChilds,i)}},a.prototype._addToOrder=function(i,n,e){var t=this._childs,o=this._initChilds,c=n.parent;this._pull[n.id]=n,n.parent&&this._pull[n.parent]&&this._pull[n.parent].items&&!this._pull[n.parent].items.find(function(f){return f.id===n.id})&&this._pull[n.parent].items.push(n),r.prototype._addToOrder.call(this,i,n,e),s(t,n,c,e),o&&s(o,n,c,e)},a.prototype._parse_data=function(i,n){var e;n===void 0&&(n=this._root);for(var t=this._order.length,o=0,c=i;o<c.length;o++){var f=c[o];this.config.init&&(f=this.config.init(f)),f&&typeof f!="object"&&(f={value:f}),f.id=(e=f.id)!==null&&e!==void 0?e:(0,_.uid)(),f.parent=f.parent===void 0||f.parent===null||f.parent&&f.$items?n:f.parent,this._pull[f.id]&&(0,p.dhxError)("Item ".concat(f.id," already exist")),this._pull[f.id]=f,this._order[t++]=f,this._childs[f.parent]||(this._childs[f.parent]=[]),this._childs[f.parent].push(f),f.items&&f.items instanceof Object&&this._parse_data(f.items,f.id)}},a.prototype._fastDeleteChilds=function(i,n){if(this._pull[n]&&delete this._pull[n],i[n]){for(var e=0;e<i[n].length;e++)this._fastDeleteChilds(i,i[n][e].id);delete i[n]}},a.prototype._recursiveFilter=function(i,n,e,t,o){var c=this,f=this._childs[e];if(f){var v=function(T){switch(n.type){case u.TreeFilterType.all:return!0;case u.TreeFilterType.level:return t===n.level;case u.TreeFilterType.leafs:return!c.haveItems(T.id)}};if(typeof i=="function"){var x=function(T){return v(T)&&i(T)};(k=f.filter(x)).length?o[e]=k:e===this._root&&(o[e]=[])}else{var k;x=function(T){var j,$=!0;for(var I in i)if(i[I].by&&i[I].match!==""&&($=i[I].compare?i[I].compare(T[i[I].by],i[I].match,T):((j=T[i[I].by])===null||j===void 0?void 0:j.toString().toLocaleLowerCase().indexOf(i[I].match.toString().toLowerCase()))!==-1),!$)break;return v(T)&&$},(k=f.filter(x)).length?o[e]=k:e===this._root&&(o[e]=[])}for(var S=0,O=f;S<O.length;S++){var P=O[S];this._recursiveFilter(i,n,P.id,t+1,o)}}},a.prototype._serialize=function(i,n){var e=this;return i===void 0&&(i=this._root),this.map(function(t){var o={};for(var c in t)c==="parent"||c==="items"||c.startsWith("$")||(o[c]=t[c]);return n&&(o=n(o)),e.haveItems(t.id)&&(o.items=e._serialize(t.id,n)),o},i,!1)},a.prototype._applyFilter=function(i,n){var e=this;if(i&&(typeof i=="function"||!(0,_.isEmptyObj)(i))){var t;this._initOrder||(this._initOrder=this._order),this._initChilds||(this._initChilds=this._childs);var o={};if(typeof i!="function")if(t={},(0,_.isDefined)(i.by))t[i.by]=i;else for(var c in i)t[c]=i[c];else t=i;this._recursiveFilter(t,n,this._root,0,o),Object.keys(o).forEach(function(f){for(var v=e.getParent(f),x=e.getItem(f);v;)o[v]||(o[v]=[]),x&&!o[v].find(function(k){return k.id===x.id})&&o[v].push(x),x=e.getItem(v),v=e.getParent(v)}),this._childs=o}},a.prototype._normalizeFilters=function(i){var n={};for(var e in i)n[e]=i[e].rule;return n},a}(h.DataCollection);g.TreeCollection=l},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},b.apply(this,arguments)},w=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.dragManager=void 0;var m=y(2),_=y(137),h=y(170),d=y(22),p=y(23),u=y(1);function s(a){var i=a.targetTouches?a.targetTouches[0].clientX:a.clientX,n=a.targetTouches?a.targetTouches[0].clientY:a.clientY,e=document.elementFromPoint(i,n);return e!=null&&e.shadowRoot?e.shadowRoot.elementFromPoint(i,n):e}var l=function(){function a(){var i=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(n){if(i._transferData.start){var e=n.targetTouches?n.targetTouches[0].pageX:n.pageX,t=n.targetTouches?n.targetTouches[0].pageY:n.pageY,o=i._transferData,c=o.x,f=o.y,v=o.start,x=o.componentId;if(!i._transferData.ghost){if(Math.abs(c-e)<3&&Math.abs(f-t)<3)return;var k=i._onDragStart(v,x,n);if(!k)return void i._endDrop(n);i._transferData.ghost=k,document.body.appendChild(i._transferData.ghost)}i._moveGhost(e,t),i._onDrag(n)}},this._onMouseUp=function(n){i._transferData.x&&(i._transferData.ghost?(i._removeGhost(),i._onDrop(n)):i._endDrop(n),n.targetTouches?(document.removeEventListener("touchmove",i._onMouseMove),document.removeEventListener("touchend",i._onMouseUp)):(document.removeEventListener("mousemove",i._onMouseMove),document.removeEventListener("mouseup",i._onMouseUp)))}}return a.prototype.setItem=function(i,n){h.collectionStore.setItem(i,n)},a.prototype.onMouseDown=function(i,n,e){if(i.which===1||i.targetTouches){i.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp));var t=s(i),o=(0,m.locateNode)(t,"data-dhx-id"),c=o&&o.getAttribute("data-dhx-id"),f=(0,m.locate)(t,"data-dhx-widget-id");if(Array.isArray(n)&&n.includes(c)?(this._transferData.source=w([],n,!0),this._itemsForGhost=e):(this._transferData.source=[c],this._itemsForGhost=null),c&&f){var v=(0,m.getBox)(o),x=v.left,k=v.top,S=i.targetTouches?i.targetTouches[0].pageX:i.pageX,O=i.targetTouches?i.targetTouches[0].pageY:i.pageY;this._transferData.initXOffset=S-x,this._transferData.initYOffset=O-k,this._transferData.x=S,this._transferData.y=O,this._transferData.componentId=f,this._transferData.start=c,this._transferData.item=o}}},a.prototype.isDrag=function(){return this._isDrag},a.prototype.cancelCanDrop=function(i){this._canMove=!1,this._isDrag=!1;var n=this._transferData,e=n.start,t=n.source,o=n.target,c=n.dropComponentId,f={start:e,source:t,target:o},v=h.collectionStore.getItem(c);v&&o&&v.events.fire(d.DragEvents.cancelDrop,[f,i]),this._transferData.dropComponentId=null,this._transferData.target=null},a.prototype._moveGhost=function(i,n){this._transferData.ghost&&(this._transferData.ghost.style.left=i-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=n-this._transferData.initYOffset+"px")},a.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},a.prototype._onDrop=function(i){if(this._canMove){var n=this._transferData,e=n.start,t=n.source,o=n.target,c=n.dropComponentId,f={start:e,source:t,target:o,dropPosition:n.dropPosition},v=h.collectionStore.getItem(c),x=v&&v.config;if(v&&x.dragMode!=="source"){if(v.events.fire(d.DragEvents.beforeDrop,[f,i])){var k={id:o,component:v},S={id:e,component:this._transferData.component,newId:null};this._move(S,k),S.newId&&S.component!==k.component&&(f.start=S.newId),k.component.events.fire(d.DragEvents.afterDrop,[f,i])}this._endDrop(i)}else this._endDrop(i)}else this._endDrop(i)},a.prototype._onDragStart=function(i,n,e){var t=h.collectionStore.getItem(n),o=t.config,c=this._transferData,f={start:c.start,source:c.source,target:c.target};if(o.dragMode==="target"||t._pregroupData)return null;var v=function(x,k,S){S===void 0&&(S=!1);var O=x.getBoundingClientRect(),P=document.createElement("div"),T=x.cloneNode(!0),j=window.getComputedStyle(x.parentElement).fontSize;return T.style.width=O.width+"px",T.style.height=O.height+"px",T.style.maxHeight=O.height+"px",T.style.opacity="0.8",T.style.fontSize=j,S&&k&&k.length||P.appendChild(T),k&&k.length&&k.forEach(function($,I){var F=$.cloneNode(!0);F.style.width=O.width+"px",F.style.height=O.height+"px",F.style.maxHeight=O.height+"px",F.style.top=12*(I+1)-O.height-O.height*I+"px",F.style.left=12*(I+1)+"px",F.style.opacity="0.6",F.style.zIndex="".concat(-I-1),S||(F.style.fontSize=j,F.style.overflow="hidden"),P.appendChild(F)}),P.className="dhx_drag-ghost",P}(this._transferData.item,this._itemsForGhost,o.dragItem==="row"||o.dragItem==="column"||o.dragItem==="both");return t.events.fire(d.DragEvents.beforeDrag,[f,e,v])&&(0,u.isId)(i)?(t.events.fire(d.DragEvents.dragStart,[f,e]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=t,this._transferData.dragConfig=o,v):null},a.prototype._onDrag=function(i){var n=s(i),e=(0,m.locate)(n,"data-dhx-widget-id"),t=h.collectionStore.getItem(e);if(t){var o=!!(0,m.locateNodeByClassName)(n,"dhx_grid-header")||!!(0,m.locateNodeByClassName)(n,"dhx_grid-footer"),c=t.config.columns?t.config:void 0,f=c&&(c.dragItem==="both"||c.dragItem==="column");if(!o||f){var v=(0,m.locate)(n,"data-dhx-id"),x=(0,m.locate)(n,"data-dhx-root-id");if(!v&&!x)return this.cancelCanDrop(i),this._transferData.dropComponentId=e,this._transferData.target=null,void this._canDrop(i);var k=this._transferData,S=k.dropComponentId,O=k.start,P=k.source,T=k.target,j=k.componentId,$=k.dropPosition;if(t.config.dropBehaviour==="complex"){var I=function(E){var V=E.targetTouches?E.targetTouches[0].clientY:E.clientY,z=(0,m.locateNode)(s(E));if(!z)return null;var X=z.childNodes[0];if(X){var Y=X.getBoundingClientRect();return(V-Y.top)/Y.height}}(i);this._transferData.dropPosition=I<=.25?"top":I>=.75?"bottom":"in"}else if((T===v||!v&&T===x)&&S===e)return;var F={id:O,component:this._transferData.component};t.config.dragMode!=="source"&&(F.component.events.fire(d.DragEvents.dragOut,[{start:O,source:P,target:T},i]),e!==j||!(0,p.isTreeCollection)(F.component.data)||(0,p.isTreeCollection)(F.component.data)&&F.component.data.canCopy(F.id,v)?(this.cancelCanDrop(i),this._transferData.target=v||x,this._transferData.dropComponentId=e,F.component.events.fire(d.DragEvents.dragIn,[{start:O,source:P,target:T,dropPosition:$},i])&&this._canDrop(i)):this.cancelCanDrop(i))}else this._canMove&&this.cancelCanDrop(i)}else this._canMove&&this.cancelCanDrop(i)},a.prototype._move=function(i,n){var e=i.component,t=n.component,o=i.component.data,c=n.component.data,f=0,v=n.id,x=(0,p.isTreeCollection)(c)?n.component.config.dropBehaviour:void 0,k=i.component.config.columns?i.component.config:void 0,S=k&&(k.dragItem==="both"||k.dragItem==="column")&&k.columns.map(function(Y){return Y.id}).filter(function(Y){return Y===i.id||Y===n.id}).length;if(S&&i.component===n.component){if(i.id===n.id)return;var O=(P=e.config.columns.map(function(Y){return b({},Y)})).findIndex(function(Y){return Y.id===i.id});return($=P.findIndex(function(Y){return Y.id===n.id}))===-1?void 0:(P.splice($,0,P.splice(O,1)[0]),e.setColumns(P),void e.paint())}if(S&&i.component instanceof _.ProGrid&&n.component instanceof _.ProGrid){O=(P=e.config.columns.map(function(Y){return b({},Y)})).findIndex(function(Y){return Y.id===i.id});var P,T=t.config.columns.map(function(Y){return b({},Y)}),j=t.data.getLength(),$=T.findIndex(function(Y){return Y.id===n.id}),I=[],F=i.id;e.data.forEach(function(Y){var U;I.push(((U={id:Y.id})[F]=Y[i.id],U))}),j?e.data.forEach(function(Y,U){var A=t.data.getItem(Y.id);A?t.data.update(A.id,b(b({},A),I[U])):t.data.add(I[U])}):t.data.parse(I);var E=P.splice(O,1)[0];return T.find(function(Y){return Y.id===F})||T.splice($,0,E),t.setColumns(T),t.paint(),e.setColumns(P),void e.paint()}var V=n.id===t.config.rootParent;switch(x){case"child":break;case"sibling":v=c.getParent(v),f=c.getIndex(n.id)+1;break;case"complex":var z=this._transferData.dropPosition;V?(v=n.id,f=c.getLength()):z==="top"?(v=c.getParent(v),f=c.getIndex(n.id)):z==="bottom"&&(v=c.getParent(v),f=c.getIndex(n.id)+1);break;default:(0,u.isId)(n.id)?i.component===n.component&&c.getIndex(i.id)<c.getIndex(n.id)?f=c.getIndex(n.id)-1:(c.getIndex(i.id)>-1&&(i.newId=(0,u.uid)()),f=c.getIndex(n.id)):f=-1}if(this._transferData.dragConfig.dragCopy)this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(Y){o.copy(Y,f,c,v),f>-1&&f++}):o.copy(i.id,f,c,v);else if(this._transferData.source instanceof Array&&this._transferData.source.length>1)o.move(this._transferData.source,f,c,v);else if(t instanceof _.Grid&&!t.config.columns.length){var X=e.data.getItem(i.id);t.data.parse([b({},X)]),t.setColumns(w([],e.config.columns,!0)),t.paint(),e.data.remove(i.id),e.paint()}else o.move(i.id,f,c,v,i.newId)},a.prototype._endDrop=function(i){if(this._toggleTextSelection(!1),this._transferData.component){var n=this._transferData,e={start:n.start,source:n.source,target:n.target};this._transferData.component.events.fire(d.DragEvents.afterDrag,[e,i])}this.cancelCanDrop(i),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},a.prototype._canDrop=function(i){this._canMove=!0;var n=this._transferData,e={start:n.start,source:n.source,target:n.target,dropPosition:n.dropPosition},t=h.collectionStore.getItem(this._transferData.dropComponentId);t&&this._transferData.target&&(t instanceof _.Grid&&(e.dragItem=this._transferData.item.classList.contains("dhx_grid-row")?"row":"column"),t.events.fire(d.DragEvents.canDrop,[e,i]))},a.prototype._toggleTextSelection=function(i){i?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},a}(),r=window.dhxHelpers=window.dhxHelpers||{};r.dragManager=r.dragManager||new l,g.dragManager=r.dragManager},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(_,h,d,p){p===void 0&&(p=d);var u=Object.getOwnPropertyDescriptor(h,d);u&&!("get"in u?!h.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(_,p,u)}:function(_,h,d,p){p===void 0&&(p=d),_[p]=h[d]}),w=this&&this.__exportStar||function(_,h){for(var d in _)d==="default"||Object.prototype.hasOwnProperty.call(h,d)||b(h,_,d)};Object.defineProperty(g,"__esModule",{value:!0}),g.getTreeCell=void 0,w(y(72),g),w(y(169),g),w(y(7),g),w(y(26),g);var m=y(33);Object.defineProperty(g,"getTreeCell",{enumerable:!0,get:function(){return m.getTreeCell}}),w(y(18),g),w(y(15),g)},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(l){for(var r,a=1,i=arguments.length;a<i;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n]);return l},b.apply(this,arguments)},w=this&&this.__spreadArray||function(l,r,a){if(a||arguments.length===2)for(var i,n=0,e=r.length;n<e;n++)!i&&n in r||(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return l.concat(i||Array.prototype.slice.call(r))};Object.defineProperty(g,"__esModule",{value:!0}),g.Exporter=void 0;var m=y(15),_=y(8),h=y(1),d=y(24),p=y(2),u=y(0),s=function(){function l(r,a,i){this._name=r,this._version=a,this._view=i}return l.prototype.pdf=function(r){this._rawExport(r,"pdf",this._view)},l.prototype.png=function(r){this._rawExport(r,"png",this._view)},l.prototype.xlsx=function(r){return this._export(r)},l.prototype.csv=function(r){var a;r===void 0&&(r={}),r=b({asFile:!0,rowDelimiter:`
`,columnDelimiter:",",skipHeader:0},r),a="getRoot"in this._view.data&&r.flat?this.getFlatCSV(r):this._getCSV(r);var i=r.name||"grid_export";return r.asFile&&(0,h.downloadFile)(a,"".concat(i,".csv"),"text/csv"),a},l.prototype._export=function(r){var a=this;r===void 0&&(r={});for(var i=this._view.config.columns.filter(function(E){return!E.hidden}),n={},e=(0,m.transpose)(i.map(function(E){return E.header.map(function(V){return V.text||" "})})),t=[],o={default:{color:"#000000",background:"#FFFFFF",fontSize:14,bold:!1}},c=[],f={},v={},x=this._view.data.serialize().map(function(E,V){var z=a._view.data.getItem(E.id);z.$css&&(v[z.id]=z.$css),n[E.id]=V;var X=i.map(function(Y,U){if(f[Y.id]=U,E[Y.id]instanceof Date){var A=Y.format||"%M %d %Y";typeof E[Y.id]=="string"?E[Y.id]=(0,d.getFormattedDate)(A,(0,d.stringToDate)(E[Y.id],A)):typeof E[Y.id]=="object"&&(E[Y.id]=(0,d.getFormattedDate)(A,E[Y.id]))}return E[Y.id]||U||!E.$groupName?(0,m.removeHTMLTags)(E[Y.id]):"^ ".concat(E.$groupName)});return X}),k=[],S=this._view.content,O=function(E){if(E.footer){var V=E.id,z=P._view.data.serialize().reduce(function(K,J){return J[V]===void 0||J[V]===""||isNaN(J[V])||K.push(parseFloat(J[V])),K},[]),X=z;if(P._view.config.type==="tree"){var Y=P._view.data;X=Y.serialize().reduce(function(K,J){if(J.$level===0)if(J[V]===void 0||J[V]===""||isNaN(J[V])){var tt=0;Y.eachChild(J.id,function(nt){Y.haveItems(nt.id)||(tt+=parseFloat(nt[V]))}),K.push(tt)}else K.push(parseFloat(J[V])||0);return K},[])}if(E.footer[0].content){var U=S[E.footer[0].content].calculate(z,X);k.push((U==null?void 0:U.toString())||" ")}else k.push(E.footer[0].css||E.footer[0].text||" ")}var A=E.type==="number"||E.type==="percent"?"right":E.align;for(var M in t.push({width:E.$width,align:A}),E.$cellCss){var R="dhx_grid-cell ".concat(E.$cellCss[M].trim()),W=P._getHash(R),Q="dhx_grid-row";v[M]&&(Q+=" ".concat(v[M].trim())),!o[W]&&(Z=(0,m.getStyleByClass)(R,Q,o.default))&&(o[W]=Z),o[W]&&c.push([n[M],i.indexOf(E),W])}for(var M in v)if(!E.$cellCss[M]){var Z,B=P._getHash(v[M]);Q="dhx_grid-row ".concat(v[M].trim()),o[B]||(Z=(0,m.getStyleByClass)("dhx_grid-cell",Q,o.default))&&(o[B]=Z),o[B]&&c.push([n[M],i.indexOf(E),B])}},P=this,T=0,j=i;T<j.length;T++)O(j[T]);k.length&&x.push(k);var $={name:r.name||"data",columns:t,header:e,data:x,styles:{cells:c,css:o}};if(r.url){var I=document.createElement("form");I.setAttribute("target","_blank"),I.setAttribute("action",r.url),I.setAttribute("method","POST"),I.style.visibility="hidden";var F=document.createElement("textarea");F.setAttribute("name","data"),F.value=JSON.stringify($),I.appendChild(F),document.body.appendChild(I),I.submit(),setTimeout(function(){I.parentNode.removeChild(I)},100)}return $},l.prototype.getFlatCSV=function(r){var a=this._view.data,i=a.getRoot(),n=this._view.config.columns[0],e=a.getMaxLevel(),t="";a.eachChild(i,function(v){var x=function(k,S){for(var O=[],P=0;P<=e;P++)if(k&&k[n.id]){O[k.$level]=k[n.id];var T=S.getParent(k.id,!0);k=T&&T.id?T:null}else O[P]="";return O}(v,a).join(r.columnDelimiter);t+=x+Object.keys(v).reduce(function(k,S,O){return S==="id"||S==="parent"||S.startsWith("$")||O===0?k:k+r.columnDelimiter+(v[S]===null?"":v[S])},""),t+=r.rowDelimiter});var o=this._export(r),c=function(v,x){for(var k=0;k<v.length;k++)v[k]=x;return v}(new Array(e+1),""),f=o.header.map(function(v){return v.splice.apply(v,w([0,1],c,!1)),v});return new _.CsvDriver(r).serialize(f,!0)+r.rowDelimiter+t},l.prototype._getCSV=function(r){var a=this._export(r),i=a.header,n=new _.CsvDriver(r);return n.serialize(i,!0)+`
`+n.serialize(a.data,!0)},l.prototype._rawExport=function(r,a,i){var n;r===void 0&&(r={});var e=document.createElement("div");e.setAttribute("style","display: none;");var t=i.config,o=t.$headerHeight,c=o===void 0?0:o,f=t.$footerHeight,v=f===void 0?0:f,x=t.$totalHeight,k=x===void 0?0:x,S=t.$footer,O=t.columns,P="",T=i.config.exportStyles;if((typeof r.exportStyles=="boolean"||Array.isArray(r.exportStyles))&&(T=r.exportStyles),r.url=r.url||"https://export.dhtmlx.com/"+this._name+"/"+a+"/"+this._version,a==="pdf"){var j=r.pdf;r.pdf=b(b({},j),{printBackground:!1,format:(n=j==null?void 0:j.format)!==null&&n!==void 0?n:"A4"})}var $=i.config.$totalWidth,I=k+c;S&&(I+=v);for(var F=[],E=0;E<O.length;E++){var V=O[E];F.push(b(b({},V),{width:V.$width}))}var z=b(b({},i.config),{width:$,height:I,columns:F,data:i.data.getRawData(0,-1,null,2),keyNavigation:!1,selection:!1,resizable:!1}),X=new i.constructor(e,(0,h.getCloneObject)(z));(0,u.awaitRedraw)().then(function(){T===!0?P="".concat((0,p.getPageLinksCss)(),"<style>").concat((0,p.getPageInlineCss)(),"</style>"):Array.isArray(T)&&T.length&&(P="".concat((0,p.getPageLinksCss)(T)));var Y=e.children[0];Y==null||Y.setAttribute("data-dhx-theme",r.theme||"light"),a==="png"&&(Y==null||Y.setAttribute("style","width: ".concat($,"px;")));var U=`
					`.concat(P,`
					`).concat(e.innerHTML,`
				`),A=document.createElement("form");A.setAttribute("method","POST"),A.setAttribute("action",r.url),A.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',A.childNodes[0].value=U,A.childNodes[1].value=JSON.stringify(r),document.body.appendChild(A),A.submit(),setTimeout(function(){var M,R;X.destructor(),(M=e.parentNode)===null||M===void 0||M.removeChild(e),(R=A.parentNode)===null||R===void 0||R.removeChild(A)},100)}).catch(function(){var Y;X.destructor(),(Y=e.parentNode)===null||Y===void 0||Y.removeChild(e)})},l.prototype._getHash=function(r){return r.split("").reduce(function(a,i){var n=(a<<5)-a+i.charCodeAt(0);return Math.abs(n&n)},0).toString()},l}();g.Exporter=s},function(H,g,y){var b=this&&this.__spreadArray||function(i,n,e){if(e||arguments.length===2)for(var t,o=0,c=n.length;o<c;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return i.concat(t||Array.prototype.slice.call(n))};Object.defineProperty(g,"__esModule",{value:!0}),g.Selection=void 0;var w=y(0),m=y(8),_=y(1),h=y(3),d=y(7),p=y(31),u=y(25),s=y(25),l=y(15),r=y(26),a=function(){function i(n,e,t,o){this._grid=n,this.config=e,this._gridId=o,this._selectedCell,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)&&this._grid.config.selection||"complex",this._multiselection=!!n.config.multiselection,this.events=t||new h.EventSystem(this),this._init()}return i.prototype.setCell=function(n,e,t,o){var c,f,v,x,k,S,O,P,T,j,$,I,F=this;t===void 0&&(t=!1),o===void 0&&(o=!1);var E=this._grid.config.type==="tree";if(this._gridId&&p.focusManager.getFocusId()!==this._gridId&&p.focusManager.setFocusId(this._gridId),this._type==="row"&&((v=this._selectedCells[0])===null||v===void 0?void 0:v.row.id)===((n==null?void 0:n.id)||n)||this._type!=="row"&&((x=this._selectedCells[0])===null||x===void 0?void 0:x.row.id)===((n==null?void 0:n.id)||n)&&((k=this._selectedCells[0])===null||k===void 0?void 0:k.column.id)===((e==null?void 0:e.id)||e))t&&(this._removeCell((S=this._selectedCells[0])===null||S===void 0?void 0:S.row,(O=this._selectedCells[0])===null||O===void 0?void 0:O.column),(0,w.awaitRedraw)().then(function(){F._grid.paint(),F._setBrowserFocus()}));else if(!(this.config.disabled||this._grid.config.$editable||!this._multiselection&&this._selectedCells.length&&!this._removeCell((P=this._selectedCell)===null||P===void 0?void 0:P.row,(T=this._selectedCell)===null||T===void 0?void 0:T.column))){if(this._multiselection){if(t||o||this._removeCells(),this._selectedCells.find(function(W){return F._type==="row"?W.row.id===((n==null?void 0:n.id)||n):W.row.id===((n==null?void 0:n.id)||n)&&W.column.id===((e==null?void 0:e.id)||e)}))return void this.removeCell((n==null?void 0:n.id)||n,(e==null?void 0:e.id)||e);o&&this._selectedCells.length>1&&!E&&b([],this._selectedCells,!0).forEach(function(W,Q){var Z=W.row,B=W.column;Q>0&&F.removeCell(Z.id,B.id)})}n=this._grid.data.getItem(n&&n.id||n);var V=($=(j=this._grid.config)===null||j===void 0?void 0:j.columns)===null||$===void 0?void 0:$.filter(function(W){return!W.hidden});if(e||(e=V==null?void 0:V[0]),(e=this._grid.getColumn(e.id||e))&&n){if(this._multiselection&&o&&this._selectedCells.length&&!E){var z=(I=this._selectedCells)===null||I===void 0?void 0:I[0],X=this._grid.data.getIndex(z.row.id),Y=this._grid.data.getIndex(n.id);if(X>Y&&(X=(c=[Y,X])[0],Y=c[1]),this._type==="cell"||this._type==="complex"){var U=V.map(function(W){return W.id}),A=U.indexOf(z.column.id),M=U.indexOf(e.id);if(A!==-1&&M!==-1){A>M&&(A=(f=[M,A])[0],M=f[1]);var R=V.slice(A,M+1);this._grid.data.mapRange(X,Y,function(W){R.forEach(function(Q){F._findIndex({row:W,column:Q})===-1&&F._setCell(W,Q)})})}}else this._grid.data.mapRange(X,Y,function(W){F._findIndex({row:W,column:e})===-1&&F._setCell(W,e)})}else this._setCell(n,e);(0,w.awaitRedraw)().then(function(){F._grid.paint(),F._setBrowserFocus()})}}},i.prototype.removeCell=function(n,e){var t=this;if(n&&e&&(this._type==="cell"||this._type==="complex")){var o=this._selectedCells.find(function(c){var f=c.row,v=c.column;return f.id==n&&v.id==e});o&&this._removeCell(o.row,o.column)}else n?this._selectedCells.filter(function(c){return c.row.id==n}).forEach(function(c){var f=c.row,v=c.column;t._removeCell(f,v)}):this._removeCells();(0,w.awaitRedraw)().then(function(){t._grid.paint()})},i.prototype.getCell=function(){return this._selectedCell},i.prototype.getCells=function(){return this._selectedCells},i.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},i.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},i.prototype.toHTML=function(){var n=this;if(!this._isUnselected()){if(this._multiselection){var e=[],t={};return this._selectedCells.forEach(function(c,f,v){var x=(0,r.normalizeCell)(c,n._grid);e.push(n._toHTML(x.row,x.column,f===v.length-1||n._type==="cell"||n._type==="complex",t[c.row.id])),t[c.row.id]=!0}),e}var o=(0,r.normalizeCell)(this._selectedCell,this._grid);return this._toHTML(o.row,o.column,!0)}},i.prototype._setCell=function(n,e){n&&e&&(0,_.isDefined)(n.id)&&(0,_.isDefined)(e.id)&&this.events.fire(d.GridSelectionEvents.beforeSelect,[n,e])&&(this._selectedCell={row:n,column:e},this._multiselection?this._selectedCells.push(this._selectedCell):this._selectedCells=[this._selectedCell],this.events.fire(d.GridSelectionEvents.afterSelect,[n,e]))},i.prototype._removeCell=function(n,e,t){var o,c;if(t===void 0&&(t=!1),!(n&&e&&(0,_.isDefined)(n.id)&&(0,_.isDefined)(e.id))||!t&&!this.events.fire(d.GridSelectionEvents.beforeUnSelect,[n,e]))return!1;var f=this._selectedCells.findIndex(function(v){return v.row.id===n.id&&v.column.id===e.id});return this._selectedCells.splice(f,1),this._selectedCell&&e.id===this._selectedCell.column.id&&n.id===this._selectedCell.row.id&&(this._selectedCell=(o=this._selectedCells)===null||o===void 0?void 0:o[((c=this._selectedCells)===null||c===void 0?void 0:c.length)-1]),!t&&this.events.fire(d.GridSelectionEvents.afterUnSelect,[n,e]),!0},i.prototype._removeCells=function(n){var e=this;n===void 0&&(n=!1),b([],this._selectedCells,!0).forEach(function(t){e._removeCell(t==null?void 0:t.row,t==null?void 0:t.column,n)})},i.prototype._init=function(){var n=this;this._grid.events.on(d.GridEvents.cellClick,function(e,t,o){n.setCell(e,t,o.ctrlKey||o.metaKey,o.shiftKey)}),this._grid.data.events.on(m.DataEvents.beforeRemove,function(e){var t,o;if(e&&n._selectedCell&&n._selectedCell.row&&n._selectedCell.row.id===e.id){var c=void 0,f=n._grid.data.getIndex(e.id);if(n._grid.data instanceof m.TreeCollection){var v=n._grid.data.getItems(e.parent);c=((t=v[f+1])===null||t===void 0?void 0:t.id)||((o=v[f-1])===null||o===void 0?void 0:o.id)||e.parent}else c=n._grid.data.getId(f+1)||n._grid.data.getId(f-1);(0,_.isId)(c)&&(n.setCell(c),n._grid.paint())}}),this._grid.data.events.on(m.DataEvents.removeAll,function(){n._removeCells()}),this._grid.data.events.on(m.DataEvents.load,function(){n._removeCells(!0)})},i.prototype._toHTML=function(n,e,t,o){var c,f,v,x,k,S,O,P,T,j,$,I,F;t===void 0&&(t=!1),o===void 0&&(o=!1);var E=this._grid.data.getRawData(0,-1,null,2);if((0,_.findIndex)(E,function(Ht){return Ht.id==n.id})===-1)return null;var V,z,X,Y,U=this._grid.config,A=U.topSplit,M=U.bottomSplit,R=U.$totalWidth,W=U.$totalHeight,Q=U.columns,Z=Q==null?void 0:Q.filter(function(Ht){return!Ht.hidden}),B={left:(0,u.getCurrFixedCols)(this._grid.config,d.Split.left),right:(0,u.getCurrFixedCols)(this._grid.config,d.Split.right)},K=this._grid.data.getLength(),J={top:A?this._grid.data.getRawData(0,A):[],bottom:M?this._grid.data.getRawData(K-M,K):[]},tt={left:(c=B==null?void 0:B.left)===null||c===void 0?void 0:c.map(function(Ht){return Ht.id}),right:(f=B==null?void 0:B.right)===null||f===void 0?void 0:f.map(function(Ht){return Ht.id})},nt={top:J.top.map(function(Ht){return Ht.id}),bottom:J.bottom.map(function(Ht){return Ht.id})},rt=(v=B==null?void 0:B.left)===null||v===void 0?void 0:v.reduce(function(Ht,Qt){return Ht+(Qt.$width||0)},0),lt=(x=B==null?void 0:B.right)===null||x===void 0?void 0:x.reduce(function(Ht,Qt){return Ht+(Qt.$width||0)},0),ct=J.top.reduce(function(Ht,Qt){return Ht+Qt.$height},0),ut=J.bottom.reduce(function(Ht,Qt){return Ht+Qt.$height},0),at=this._grid.getCellRect(n.id,e.id),ht=this._grid.getScrollState(),pt=at.y,gt=(k=nt.top)===null||k===void 0?void 0:k.includes(n.id),vt=(S=tt.left)===null||S===void 0?void 0:S.includes(e.id),_t=B.left.length&&rt>at.x-ht.x,N=J.top.length&&ct>at.y-ht.y,dt=at.width,bt=at.height-1,xt=null,Dt=null,Mt=_t?rt+ht.x:at.x;if(_t&&(dt-=(vt?(0,l.getTotalWidth)(B.left.slice(0,Z.indexOf(e))):rt)-(at.x-ht.x)),N&&(bt-=(gt?(0,l.getTotalHeight)(J.top.slice(0,E.indexOf(n))):ct)-(at.y-ht.y)-1,pt+=at.height-bt),gt)if(pt=at.y+ht.y,(It=this._grid.getSpan(n.id,e.id))&&It.rowspan>1){var Ct=E.indexOf(n);xt=(0,l.getTotalHeight)(J.top.slice(Ct,Ct+It.rowspan))}else bt=A===nt.top.indexOf(n.id)+1?at.height-1:at.height;if(vt&&(Mt=at.x+ht.x,(It=this._grid.getSpan(n.id,e.id))&&It.colspan>1?(Ct=Z==null?void 0:Z.indexOf(e),Dt=(0,l.getTotalWidth)(B.left.slice(Ct,Ct+It.colspan))):dt=B.left.length===tt.left.indexOf(e.id)+1?at.width-1:at.width),((O=B.right)===null||O===void 0?void 0:O.length)||M){var It=this._grid.getSpan(n.id,e.id),wt=this._getReverseScrollState(ht);if(((P=B.right)===null||P===void 0?void 0:P.length)&&(V=((T=tt.right)===null||T===void 0?void 0:T.includes(e.id))||It&&Z.indexOf(e)+(It.colspan||1)>Z.length-B.right.length,(z=R-lt<wt.x+at.x+at.width)&&!V&&(dt-=wt.x+at.x+at.width-R+lt),V))if(It&&!(!((j=tt.right)===null||j===void 0)&&j.includes(It.column))){Ct=Z.length-Z.indexOf(e)-(It.colspan||1);var Ft=R-lt;Mt=at.x+wt.x<Ft+1?at.x:Ft-wt.x+1,Dt=(0,l.getTotalWidth)(Ct?B.right.slice(0,-Ct):B.right)-1,dt=at.width-wt.x}else{var Rt=!(($=tt.right)===null||$===void 0)&&$.indexOf(e.id)?0:1;Mt=at.x-wt.x+Rt,dt=at.width-Rt}if(M&&(X=nt.bottom.includes(n.id)||It&&E.indexOf(n)+(It.rowspan||1)>E.length-M,(Y=W-ut<wt.y+at.y+at.height)&&!X&&(bt-=wt.y+at.y+at.height-W+ut),X))if(It&&!nt.bottom.includes(It.row)){var ae=W-ut;Rt=(Ct=E.length-E.indexOf(n)-(It.rowspan||1))?0:1,pt=at.y+wt.y<ae?at.y:ae-wt.y,xt=(0,l.getTotalHeight)(Ct?J.bottom.slice(0,-Ct):J.bottom)-Rt,bt=at.height-wt.y-Rt}else pt=at.y-wt.y,bt=at.height-(M===nt.bottom.indexOf(n.id)+1?1:0)}var fe=null;this._type!=="row"&&this._type!=="complex"||o||(fe=(0,w.el)(".dhx_grid-selected-row",{style:{width:!((I=B.left)===null||I===void 0)&&I.length?R-ht.x:R,height:bt,minHeight:xt,minWidth:Dt,display:bt<0&&!xt?"none":"flex",top:pt,left:!((F=B.left)===null||F===void 0)&&F.length?ht.x:0,position:"absolute"}}));var xe=null;return this._type!=="cell"&&this._type!=="complex"||!t||(xe=(0,w.el)(".dhx_grid-selected-cell",{style:{width:dt,height:bt,top:pt,minHeight:xt,minWidth:Dt,left:Mt,position:"absolute",display:dt<0&&!Dt||bt<0&&!xt?"none":"flex",borderLeft:_t&&!vt?"none":null,borderRight:z&&!V?"none":null,borderTop:N&&!gt?"none":null,borderBottom:Y&&!X?"none":null}})),(0,w.el)(".dhx_grid-selection",{style:{zIndex:20}},[fe,xe])},i.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||this._selectedCells.length===0},i.prototype._findIndex=function(n){var e=this;n===void 0&&(n=this._selectedCell);var t=-1;return this._selectedCells.some(function(o,c){if(e._type==="cell"||e._type==="complex"){if((0,_.compare)(o.row,n.row)&&(0,_.compare)(o.column,n.column))return t=c,!0}else if(e._type==="row"&&(0,_.compare)(o.row,n.row))return t=c,!0}),t},i.prototype._setBrowserFocus=function(){var n=this._grid.getRootView().data.getRootNode();if(n){var e=n.querySelector(".dhx_grid_data");if(e&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column){var t=e.querySelector('[data-dhx-id="'.concat(this._selectedCell.row.id,'"]')),o=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id);if(t){var c=o?n.querySelector(".dhx_span-spans"):null,f=c?c.querySelector('[data-dhx-col-id="'.concat(o.column,'"][data-dhx-id="').concat(o.row,'"]')):t.querySelector('[data-dhx-col-id="'.concat(this._selectedCell.column.id,'"]'));f&&(f.tabIndex=0,f.focus({preventScroll:!0}))}}}},i.prototype._getReverseScrollState=function(n){var e,t=(0,s.calcScrollBarWidth)(this._grid.config,!!(!((e=this._grid.scrollView)===null||e===void 0)&&e.config.enable)),o=this._grid.config.$totalWidth-this._grid.config.$width+u.BORDERS+t.y,c=this._grid.config.$totalHeight-this._grid.config.$height+this._grid.config.$headerHeight+this._grid.config.$footerHeight+u.BORDERS+t.x;return{x:o>0?o-n.x:0,y:c>0?c-n.y:0}},i}();g.Selection=a},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.getEditor=void 0;var b,w=y(7),m=y(141),_=y(142),h=y(143),d=y(154),p=y(155),u=y(162),s={cell:{row:null,col:null},editor:null,gridId:null};g.getEditor=function(l,r,a){var i=r.type==="boolean"?"checkbox":a.$editable.editorType;if(i===void 0&&(i=a.autoHeight?"textarea":"input"),s.cell.row===l.id&&s.cell.col===r.id&&s.gridId===a.gridId&&a.$editable.editor)return s.editor;switch(i!=="checkbox"&&(s={cell:{row:l.id,col:r.id},editor:s.editor,gridId:a.gridId}),b||(b=function(){s={cell:{row:null,col:null},editor:null,gridId:null}},a.events.on(w.GridEvents.afterEditEnd,b)),i){case"input":default:return s.editor=new m.InputEditor(l,r,a);case"textarea":return s.editor=new u.TextAreaEditor(l,r,a);case"select":return s.editor=new _.SelectEditor(l,r,a);case"datePicker":return s.editor=new h.DateEditor(l,r,a);case"checkbox":return new d.CheckboxEditor(l,r,a);case"multiselect":case"combobox":return s.editor=new p.ComboboxEditor(l,r,a)}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.InputEditor=void 0;var b=y(0),w=y(7),m=y(1),_=function(){function h(d,p,u){this.prevValue="",this._config=u,this._cell={row:d,col:p},this.type=p.type,this._initHandlers()}return h.prototype.endEdit=function(d){if(this._config.$editable){var p;if(!d&&(p=this._input.value,this.type==="number"))if(p=parseFloat(p),Number.isNaN(p))p="";else{var u=this._cell.col.editorConfig,s=parseFloat(u==null?void 0:u.min),l=parseFloat(u==null?void 0:u.max);(0,m.isDefined)(u==null?void 0:u.min)&&p<s&&(p=s),(0,m.isDefined)(u==null?void 0:u.max)&&p>l&&(p=l)}this._config.events.fire(w.GridEvents.beforeEditEnd,[p,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(w.GridEvents.afterEditEnd,[p,this._cell.row,this._cell.col])):this._input.focus()}},h.prototype.toHTML=function(d){return(0,m.isDefined)(d)&&(this.type="string"),d=d!=null?d:this._cell.row[this._cell.col.id],this._input&&(d=this._input.value),this._config.$editable.editor=this,(0,b.el)("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",onblur:this._handlers.onBlur,oninput:this._handlers.onInput,value:d})},h.prototype._initHandlers=function(){var d=this;this._handlers={onBlur:function(){d.endEdit()},onInput:function(){if(d.type==="number"){var p=d._input.value;d.isValidWord(p)?d.prevValue=p:d._input.value=d.prevValue,!d.prevValue.length||d.prevValue==="-"||d.isCorrectRange(parseFloat(d.prevValue))?d._input.classList.remove("dhx_cell-editor__input--not-valid"):d._input.classList.add("dhx_cell-editor__input--not-valid")}},didInsert:function(p){d._input=p.el,d._input.focus()}}},h.prototype.isValidWord=function(d){var p,u=(p=d[d.length-1])===null||p===void 0?void 0:p.toLocaleLowerCase(),s=function(l,r){return l.toLocaleLowerCase().split(r.toLocaleLowerCase()).length-1};return!d.length||d==="-"||!isNaN(Number(d))&&d.trim().length===d.length||d.replace("-","").length>1&&u==="e"&&!s(this.prevValue,"e")||d.replace("-","").length>1&&u==="e"&&s(d,"e")===1},h.prototype.isCorrectRange=function(d){var p=!0,u=this._cell.col.editorConfig,s=parseFloat(u==null?void 0:u.min),l=parseFloat(u==null?void 0:u.max);return(0,m.isDefined)(u==null?void 0:u.min)&&(0,m.isDefined)(u==null?void 0:u.max)?p=d>=s&&d<=l:(0,m.isDefined)(u==null?void 0:u.min)?p=d>s:(0,m.isDefined)(u==null?void 0:u.max)&&(p=d<l),p},h}();g.InputEditor=_},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.SelectEditor=void 0;var b=y(0),w=y(7),m=y(18),_=function(){function h(d,p,u){this._config=u,this._cell={row:d,col:p},this._initHandlers()}return h.prototype.endEdit=function(d){var p;this._config.$editable&&(d||(p=this._input.value),this._config.events.fire(w.GridEvents.beforeEditEnd,[p,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(w.GridEvents.afterEditEnd,[p,this._cell.row,this._cell.col])):this._input.focus())},h.prototype.toHTML=function(){var d=(0,m.getEditorOptions)(this._cell.col,this._cell.row).map(function(s){return typeof s=="string"?{id:"".concat(s),value:s}:s})||[],p=this._cell.row[this._cell.col.id];this._input&&(p=this._input.options[this._input.selectedIndex].value);var u=d.map(function(s){return(0,b.el)("option",{selected:s.id.toString()===(p==null?void 0:p.toString()),value:s.id},s.value)});return this._config.$editable.editor=this,(0,b.el)("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor"},u)},h.prototype._initHandlers=function(){var d=this;this._handlers={onBlur:function(){d.endEdit()},onkeydown:function(p){p.key==="Escape"&&d.endEdit()},didInsert:function(p){var u=p.el;d._input=u,u.focus(),u.addEventListener("blur",d._handlers.onBlur),u.addEventListener("keydown",d._handlers.onkeydown)}}},h}();g.SelectEditor=_},function(H,g,y){var b=this&&this.__rest||function(u,s){var l={};for(var r in u)Object.prototype.hasOwnProperty.call(u,r)&&s.indexOf(r)<0&&(l[r]=u[r]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(u);a<r.length;a++)s.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(u,r[a])&&(l[r[a]]=u[r[a]])}return l};Object.defineProperty(g,"__esModule",{value:!0}),g.DateEditor=void 0;var w=y(0),m=y(7),_=y(48),h=y(24),d=y(11),p=function(){function u(s,l,r){var a=this;this._config=r,this._cell={row:s,col:l},this._calendar=new _.Calendar(null,this._cleanConfig(l));var i=this._cell.row[this._cell.col.id],n=this._calendar.config.dateFormat;((0,h.stringToDate)(i,n,!0)||i instanceof Date)&&(this._calendar.setValue(i),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new d.Popup,this._popup.attach(this._calendar),this._calendar.events.on(_.CalendarEvents.change,function(){a.endEdit(!1,!0)}),this._popup.events.on(d.PopupEvents.afterHide,function(){a.endEdit()}),this._initHandlers()}return u.prototype.endEdit=function(s,l){var r=this;if(this._handlers&&this._config.$editable){var a=this._calendar.config.dateFormat,i=this._cell.row[this._cell.col.id],n=this._input.value;if(!s){if(i instanceof Date||l)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();!(0,h.stringToDate)(n,a,!0)&&n||(!i||n.length!==i.length)&&i&&n||(this._value=n)}this._config.events.fire(m.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),(0,w.awaitRedraw)().then(function(){r._popup.destructor(),r._calendar.destructor()}),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(m.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},u.prototype.toHTML=function(){var s=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),(0,w.el)("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",value:s})},u.prototype._cleanConfig=function(s){var l=s.editorConfig||{},r=(l.value,l.range,l.dateFormat,b(l,["value","range","dateFormat"]));return r.dateFormat=s.format,r},u.prototype._initHandlers=function(){var s=this;this._handlers={onFocus:function(){(0,w.awaitRedraw)().then(function(){s._popup.show(s._input,{centering:!0,mode:"bottom",theme:s._input})})},onChange:function(){s.endEdit()},onOuterClick:function(l){if(l.target instanceof Node){var r=s._input&&s._input.contains(l.target),a=s._popup&&s._popup.getRootNode()&&s._popup.getRootNode().contains(l.target);r||a||s._popup.hide()}},didInsert:function(l){var r=l.el;s._input=r,s._input.addEventListener("focus",s._handlers.onFocus),s._input.addEventListener("change",s._handlers.onChange),r.focus(),r.setSelectionRange(r.value.length,r.value.length)}}},u}();g.DateEditor=p},function(H,g,y){var b,w=this&&this.__extends||(b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])},b(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}b(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}),m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var t,o=1,c=arguments.length;o<c;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},m.apply(this,arguments)},_=this&&this.__spreadArray||function(e,t,o){if(o||arguments.length===2)for(var c,f=0,v=t.length;f<v;f++)!c&&f in t||(c||(c=Array.prototype.slice.call(t,0,f)),c[f]=t[f]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(g,"__esModule",{value:!0}),g.Calendar=void 0;var h=y(1),d=y(0),p=y(3),u=y(5),s=y(73),l=y(153),r=y(24),a=y(79),i=y(2),n=function(e){function t(o,c){c===void 0&&(c={});var f=e.call(this,o,(0,h.extend)({weekStart:"sunday",thisMonthOnly:!1,dateFormat:window&&window.dhx&&window.dhx.dateFormat,width:"250px"},c))||this;switch(f._selected=[],f.events=new p.EventSystem,f.config.disabledDates=f.config.disabledDates||f.config.block,f.config.mode=f.config.mode||f.config.view,f.config.dateFormat||(f.config.timePicker?f.config.timeFormat===12?f.config.dateFormat="%d/%m/%y %h:%i %A":f.config.dateFormat="%d/%m/%y %H:%i":f.config.dateFormat="%d/%m/%y"),f.config.value&&f._setSelected(f.config.value),f.config.date?f._currentDate=r.DateHelper.toDateObject(f.config.date,f.config.dateFormat):f._getSelected()?f._currentDate=r.DateHelper.copy(f._getSelected()):f._currentDate=new Date,f.config.mode){case"month":f._currentViewMode="month";break;case"year":f._currentViewMode="year";break;case"timepicker":f._currentViewMode=f.config.timePicker?"timepicker":"calendar";break;default:f._currentViewMode="calendar"}if(f._initHandlers(),f.config.timePicker){f._timepicker=new s.Timepicker(null,{timeFormat:f.config.timeFormat,controls:!0});var v=f._getSelected()||new Date;f._timepicker.setValue(v),f._time=f._timepicker.getValue(),f._timepicker.events.on(s.TimepickerEvents.afterClose,function(){f._timepicker.setValue(f._time),f.showDate(null,"calendar")}),f._timepicker.events.on(s.TimepickerEvents.afterApply,function(){var x=f._timepicker.getValue(!0),k=x.hour,S=x.minute,O=x.AM,P=f._getSelected(),T=r.DateHelper.withHoursAndMinutes(f._getSelected()||new Date,k,S,O);f.events.fire(a.CalendarEvents.beforeChange,[T,P,!0])&&(f._selected[f._selected.length-1]=T,f.events.fire(a.CalendarEvents.change,[T,P,!0])),f._time=f._timepicker.getValue(),f.showDate(null,"calendar")})}return f.mount(o,(0,d.create)({render:function(){return f._draw()}})),f}return w(t,e),t.prototype.setValue=function(o){if(!o||o instanceof Array&&o.length===0)return!1;var c=o instanceof Array?o[0]:o,f=r.DateHelper.toDateObject(c,this.config.dateFormat),v=r.DateHelper.copy(this._getSelected());return!!this.events.fire(a.CalendarEvents.beforeChange,[f,v,!1])&&(this._selected=[],this._setSelected(o),this._timepicker&&(this._timepicker.setValue(f),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(a.CalendarEvents.change,[f,v,!1]),this.paint(),!0)},t.prototype.getValue=function(o){var c=this;return o===void 0&&(o=!1),this._selected[0]?this.config.range?o?this._selected.map(function(f){return r.DateHelper.copy(f)}):this._selected.map(function(f){return(0,r.getFormattedDate)(c.config.dateFormat,f)}):o?r.DateHelper.copy(this._selected[0]):(0,r.getFormattedDate)(this.config.dateFormat,this._selected[0]):""},t.prototype.getCurrentMode=function(){return this._currentViewMode},t.prototype.showDate=function(o,c){o&&(this._currentDate=r.DateHelper.copy(o)),c&&(this._currentViewMode=c),this.paint()},t.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},t.prototype.clear=function(){var o=this.getValue(!0);this.events.fire(a.CalendarEvents.beforeChange,["",o,!1])&&(this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(a.CalendarEvents.change,[this.getValue(!0),o,!1,"clear"]))},t.prototype.link=function(o){var c=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=o;var f=this.getValue(!0),v=o.getValue(!0),x=f&&r.DateHelper.dayStart(f),k=v&&r.DateHelper.dayStart(v);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(S){if(x&&k)return S>=x&&S<=k&&function(O){if(r.DateHelper.isSameDay(k,x))return null;var P="dhx_calendar-day--in-range";return r.DateHelper.isSameDay(O,x)&&(P+=" dhx_calendar-day--first-date"),r.DateHelper.isSameDay(O,k)&&(P+=" dhx_calendar-day--last-date"),P}(S)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(S){if(k)return S>k},this._linkedCalendar.config.disabledDates=function(S){if(x)return S<x}),this.config.thisMonthOnly=!0,o.config.thisMonthOnly=!0,this.events.on(a.CalendarEvents.change,function(S){x=S?r.DateHelper.dayStart(S):null,c._linkedCalendar.paint()},"link"),this._linkedCalendar.events.on(a.CalendarEvents.change,function(S){k=S?r.DateHelper.dayStart(S):null,c.paint()},"link"),this._linkedCalendar.paint(),this.paint()},t.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(a.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(a.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},t.prototype._setSelected=function(o){var c=this,f=o instanceof Array?o[0]:o,v=r.DateHelper.toDateObject(f,this.config.dateFormat);if(o instanceof Array&&this.config.range){var x=[];o.forEach(function(k,S){S<2&&x.push(r.DateHelper.toDateObject(k,c.config.dateFormat))}),x.length===2&&x[0]<x[1]?x.forEach(function(k){return c._selected.push(k)}):this._selected[0]=x[0]}else this._selected[0]=v},t.prototype._getSelected=function(){return this._selected[this._selected.length-1]},t.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(a.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(a.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(a.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(a.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},t.prototype._initHandlers=function(){var o=this,c={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"},f=function(v){v===void 0&&(v=!1);var x=0;switch(o._currentViewMode){case"calendar":x=v?-7:7;break;case"month":case"year":x=v?-4:4}return x};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(v,x){switch(function(k){var S;if(k.which>=48&&k.which<=57||k.which>=65&&k.which<=90)S=String.fromCharCode(k.which);else{var O=k.which===32?k.code:k.key;S=(0,i.isIE)()&&c[O]||O}return S}(v)){case"Enter":o._selectDate(v,x);break;case"ArrowLeft":o._moveBrowseFocus(v,x,-1);break;case"ArrowRight":o._moveBrowseFocus(v,x,1);break;case"ArrowUp":o._moveBrowseFocus(v,x,f(!0));break;case"ArrowDown":o._moveBrowseFocus(v,x,f())}}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(v,x){o._selectDate(v,x)},".dhx_calendar-action__cancel":function(){o.showDate(o._getSelected(),"calendar"),o.events.fire(a.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return o.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return o.showDate(null,"year")},".dhx_calendar-action__next":function(){var v;switch(o._currentViewMode){case"calendar":v=r.DateHelper.addMonth(o._currentDate,1);break;case"month":v=r.DateHelper.addYear(o._currentDate,1);break;case"year":v=r.DateHelper.addYear(o._currentDate,12)}o.showDate(v)},".dhx_calendar-action__prev":function(){var v;switch(o._currentViewMode){case"calendar":v=r.DateHelper.addMonth(o._currentDate,-1);break;case"month":v=r.DateHelper.addYear(o._currentDate,-1);break;case"year":v=r.DateHelper.addYear(o._currentDate,-12)}o.showDate(v)},".dhx_calendar-action__show-timepicker":function(){o._currentViewMode="timepicker",o.paint()}},onmouseover:{".dhx_calendar-day":function(v,x){o.events.fire(a.CalendarEvents.dateMouseOver,[new Date(x.attrs._date),v]),o.events.fire(a.CalendarEvents.dateHover,[new Date(x.attrs._date),v])}}}},t.prototype._getData=function(o){var c,f=this;switch(this._isSelectedInCurrentRange=!1,this.config.weekStart){case"saturday":c=-1;break;case"monday":c=1;break;default:c=0}for(var v=[],x=6,k=r.DateHelper.weekStart(r.DateHelper.monthStart(o),c);x--;){for(var S=r.DateHelper.getWeekNumber(k),O=0,P=7,T=[],j=function(){var I=r.DateHelper.isWeekEnd(k),F=o.getMonth()===k.getMonth(),E=$.config.disabledDates&&$.config.disabledDates(k),V=[];if($.config.range&&$._selected[0]&&$._selected[1]){var z=function(){if(f._selected[0]&&f._selected[1]){var Y=r.DateHelper.dayStart(f._selected[0]),U=r.DateHelper.dayStart(f._selected[1]);return k>=Y&&k<=U&&(r.DateHelper.isSameDay(f._selected[0],f._selected[1])?null:"dhx_calendar-day--in-range")}};$.config.$rangeMark=z}if(I&&V.push("dhx_calendar-day--weekend"),F||($.config.thisMonthOnly?(O++,V.push("dhx_calendar-day--hidden")):V.push("dhx_calendar-day--muffled")),$.config.mark){var X=$.config.mark(k);X&&V.push(X)}$.config.$rangeMark&&(z=$.config.$rangeMark(k))&&V.push(z),E&&(I?V.push("dhx_calendar-day--weekend-disabled"):V.push("dhx_calendar-day--disabled")),$._selected.forEach(function(Y,U){if(Y&&r.DateHelper.isSameDay(Y,k)){f._isSelectedInCurrentRange=!0;var A="dhx_calendar-day--selected";f.config.range&&(A+=" dhx_calendar-day--selected-".concat(U===0?"first ":"last")),V.push(A)}}),T.push({date:k,day:k.getDate(),css:V.join(" ")}),k=r.DateHelper.addDay(k)},$=this;P--;)j();v.push({weekNumber:S,days:T,disabledWeekNumber:O===7})}return v},t.prototype._drawCalendar=function(){var o,c=this,f=this._currentDate,v=this.config,x=v.weekStart,k=v.thisMonthOnly,S=v.css,O=v.timePicker,P=v.width;switch(x){case"saturday":o=_([r.locale.daysShort[6]],r.locale.daysShort.slice(0,-1),!0);break;case"monday":o=_(_([],r.locale.daysShort.slice(1),!0),[r.locale.daysShort[0]],!1);break;default:o=r.locale.daysShort}for(var T,j=o.map(function(R){return(0,d.el)(".dhx_calendar-weekday",R)}),$=this._getData(f),I=!0,F=this._getSelected(),E=function(R){var W={role:"button",tabindex:-1,"aria-pressed":"false"};return R&&(c._isSelectedInCurrentRange?function(Q){return Q&&F&&Q.getTime()===F.getTime()}(R.date)&&(W.tabindex=0,W["aria-pressed"]="true"):I&&(W.tabindex=0),I=!1),W},V=[],z=[],X=0,Y=$;X<Y.length;X++){var U=Y[X],A=U.days.map(function(R){return(0,d.el)("div.dhx_calendar-day",m({class:R.css,_date:R.date},E(R)),R.day)});!this.config.weekNumbers||U.disabledWeekNumber&&k||z.push((0,d.el)("div",{class:"dhx_calendar-week-number"},U.weekNumber)),V=V.concat(A)}this.config.weekNumbers&&(T=(0,d.el)(".dhx_calendar__week-numbers",z));var M="dhx_calendar dhx_widget"+(S?" "+S:"")+(O?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":"");return(0,d.el)("div",m({class:M,style:{width:this.config.weekNumbers?parseInt(P.toString())+48+"px":P}},this._handlers),[(0,d.el)(".dhx_calendar__wrapper",[this._drawHeader((0,d.el)("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},r.locale.months[f.getMonth()]+" "+f.getFullYear())),this.config.weekNumbers&&(0,d.el)(".dhx_calendar__dates-wrapper",[(0,d.el)(".dhx_calendar__weekdays",j),(0,d.el)(".dhx_calendar__days",V),T]),!this.config.weekNumbers&&(0,d.el)(".dhx_calendar__weekdays",j),!this.config.weekNumbers&&(0,d.el)(".dhx_calendar__days",V),O?(0,d.el)(".dhx_timepicker__actions",[(0,d.el)("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[(0,d.el)("span.dhx_button__icon.dxi.dxi-clock-outline"),(0,d.el)("span.dhx_button__text",this._time)])]):null])])},t.prototype._drawMonthSelector=function(){var o=this._currentDate,c=o.getMonth(),f=this._getSelected()?this._getSelected().getFullYear():null,v=this.config,x=v.css,k=v.timePicker,S=v.weekNumbers,O=v.width,P=v.mode,T="dhx_calendar dhx_widget"+(x?" "+x:"")+(k?" dhx_calendar--with_timepicker":"")+(S?" dhx_calendar--with_week-numbers":""),j=!0,$=f===o.getFullYear(),I=function(F){return $&&c===F};return(0,d.el)("div",m({class:T,style:{width:S?parseInt(O.toString())+48+"px":O}},this._handlers),[(0,d.el)(".dhx_calendar__wrapper",[this._drawHeader((0,d.el)("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},o.getFullYear())),(0,d.el)(".dhx_calendar__months",r.locale.monthsShort.map(function(F,E){return(0,d.el)("div",m(m({class:"dhx_calendar-month"+(I(E)?" dhx_calendar-month--selected":"")},function(V,z){var X={role:"button",tabindex:-1,"aria-pressed":"false"};return V&&($?I(z)&&(X.tabindex=0,X["aria-pressed"]="true"):j&&(X.tabindex=0),j=!1),X}(F,E)),{_date:E}),F)})),P!=="month"?(0,d.el)(".dhx_calendar__actions",[(0,d.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},r.locale.cancel)]):null])])},t.prototype._drawYearSelector=function(){var o=this,c=this._currentDate,f=r.DateHelper.getTwelweYears(c),v=this.config,x=v.css,k=v.timePicker,S=v.weekNumbers,O=v.width,P=v.mode,T="dhx_calendar dhx_widget"+(x?" "+x:"")+(k?" dhx_calendar--with_timepicker":"")+(S?" dhx_calendar--with_week-numbers":""),j=!0,$=this._getSelected()&&f.includes(this._getSelected().getFullYear()),I=function(F){return o._getSelected()&&F===o._getSelected().getFullYear()};return(0,d.el)("div",m({class:T,style:{width:S?parseInt(O.toString())+48+"px":O}},this._handlers),[(0,d.el)(".dhx_calendar__wrapper",[this._drawHeader((0,d.el)("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},f[0]+"-"+f[f.length-1])),(0,d.el)(".dhx_calendar__years",f.map(function(F){return(0,d.el)("div",m({class:"dhx_calendar-year"+(I(F)?" dhx_calendar-year--selected":""),_date:F},function(E){var V={role:"button",tabindex:-1,"aria-pressed":"false"};return E&&($?I(E)&&(V.tabindex=0,V["aria-pressed"]="true"):j&&(V.tabindex=0),j=!1),V}(F)),F)})),P!=="year"&&P!=="month"?(0,d.el)(".dhx_calendar__actions",[(0,d.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},r.locale.cancel)]):null])])},t.prototype._drawHeader=function(o){return(0,d.el)(".dhx_calendar__navigation",[(0,d.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+l.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[(0,d.el)(".dhx_button__icon.dxi.dxi-chevron-left")]),o,(0,d.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+l.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[(0,d.el)(".dhx_button__icon.dxi.dxi-chevron-right")])])},t.prototype._drawTimepicker=function(){var o=this.config,c=o.css,f=o.weekNumbers,v=o.width;return(0,d.el)(".dhx_widget.dhx-calendar",{class:c?" "+c:"",style:{width:f?parseInt(v.toString())+48+"px":v}},[(0,d.inject)(this._timepicker.getRootView())])},t.prototype._selectDate=function(o,c){var f=c.attrs._date,v=r.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var x=this.config.timePicker?r.DateHelper.mergeHoursAndMinutes(f,this._getSelected()||this._currentDate):f;if(!this.events.fire(a.CalendarEvents.beforeChange,[x,v,!0]))return;this.config.range&&this._selected.length===1&&this._selected[0]<x?this._selected.push(x):(this._selected=[],this._selected[0]=x),c.el.blur(),this.showDate(this._getSelected()),this.events.fire(a.CalendarEvents.change,[f,v,!0]);break;case"month":if(this.config.mode!=="month")r.DateHelper.setMonth(this._currentDate,f),this.showDate(null,"calendar"),this.events.fire(a.CalendarEvents.monthSelected,[f]);else{var k=r.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),f);if(!this.events.fire(a.CalendarEvents.beforeChange,[k,v,!0]))return;this._currentDate=k,this._selected[0]=k,this.events.fire(a.CalendarEvents.change,[this._getSelected(),v,!0]),this.events.fire(a.CalendarEvents.monthSelected,[f]),this.paint()}break;case"year":if(this.config.mode!=="year")r.DateHelper.setYear(this._currentDate,f),this.showDate(null,"month"),this.events.fire(a.CalendarEvents.yearSelected,[f]);else{if(k=r.DateHelper.fromYear(f),!this.events.fire(a.CalendarEvents.beforeChange,[k,v,!0]))return;this._currentDate=k,this._selected[0]=k,this.events.fire(a.CalendarEvents.change,[this._getSelected(),v,!0]),this.events.fire(a.CalendarEvents.yearSelected,[f]),this.paint()}}},t.prototype._moveBrowseFocus=function(o,c,f){if(c){var v=c.parent.body[c.idx+f];if(v){var x=v.el;x&&(o.target.tabIndex=-1,x.tabIndex=0,x.focus({preventScroll:!0}))}}},t}(u.View);g.Calendar=n},function(H,g,y){var b,w=this&&this.__extends||(b=function(t,o){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var v in f)Object.prototype.hasOwnProperty.call(f,v)&&(c[v]=f[v])},b(t,o)},function(t,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function c(){this.constructor=t}b(t,o),t.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}),m=this&&this.__assign||function(){return m=Object.assign||function(t){for(var o,c=1,f=arguments.length;c<f;c++)for(var v in o=arguments[c])Object.prototype.hasOwnProperty.call(o,v)&&(t[v]=o[v]);return t},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Timepicker=void 0;var _=y(1),h=y(0),d=y(3),p=y(5),u=y(16),s=y(75),l=y(151),r=y(152),a=y(78),i=y(2);function n(t,o){return isNaN(t)?0:Math.min(o,Math.max(0,t))}var e=function(t){function o(c,f){f===void 0&&(f={});var v=t.call(this,c,(0,_.extend)({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},f))||this;return v.events=new d.EventSystem(v),v._time={hour:0,minute:0,AM:!0},v.config.timeFormat===12&&(v._time.hour=12),v.config.controls=v.config.controls||v.config.actions,v.config.value&&v._setValue(v.config.value),v._initUI(c),v._initHandlers(),v._initEvents(),v}return w(o,t),o.prototype.getValue=function(c){return this.config.timeFormat===12&&(this._time.hour=this._time.hour%12||12),this._getValue(this._time,c)},o.prototype.setValue=function(c){this._setValue(c),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},o.prototype.clear=function(){this.config.timeFormat===24?this.setValue("00:00"):this.setValue("12:00AM")},o.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},o.prototype.getRootView=function(){return this.layout.getRootView()},o.prototype._getValue=function(c,f){var v=c.hour,x=c.minute,k=c.AM;if(f){var S={hour:v,minute:x};return this.config.timeFormat===12&&(S.AM=k),S}return(v<10?"0"+v:v)+":"+(x<10?"0"+x:x)+(this.config.timeFormat===12?k?"AM":"PM":"")},o.prototype._setValue=function(c){var f,v=0,x=0;if(typeof c=="number"&&(c=new Date(c)),c instanceof Date)v=c.getMinutes(),x=c.getHours();else if(Array.isArray(c))x=n(c[0],23),v=n(c[1],59),c[2]&&c[2].toLowerCase()==="pm"&&(f=!0);else if(typeof c=="string"){var k=c.match(/\d+/g);x=n(+k[0],23),v=n(+k[1],59),c.toLowerCase().includes("pm")&&(f=!0)}else typeof c=="object"&&c.hasOwnProperty("hour")&&c.hasOwnProperty("minute")&&(x=c.hour,v=c.minute,f=!c.AM);return f&&x<12&&(x+=12),this.config.timeFormat===12&&!(0,r.isTimeCheck)(c)&&x>=12&&(f=!0),this._time={hour:x,minute:v,AM:!f}},o.prototype._initUI=function(c){var f=this,v={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css?this.config.css:"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(v.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),v.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var x=this.layout=new u.Layout(c,v),k=(0,h.create)({render:function(){return f._draw()}}),S=this._inputsView=(0,p.toViewLike)(k),O=this._minutesSlider=new s.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:l.default.minutes,value:this.config.value?this._time.minute:0}),P=this._hoursSlider=new s.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:l.default.hours,value:this.config.value?this._time.hour===12&&this._time.AM?0:this._time.hour:0});x.getCell("timepicker").attach(S),x.getCell("hour-slider").attach(P),x.getCell("minute-slider").attach(O),this.config.controls&&(x.getCell("save-action").attach(function(){return(0,h.el)("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:f._outerHandlers.save,type:"button"},l.default.save)}),x.getCell("close-action").attach(function(){return(0,h.el)("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:f._outerHandlers.close,type:"button","aria-label":"close timepicker"},[(0,h.el)("span.dhx_button__icon.dxi.dxi-close")])}))},o.prototype._initHandlers=function(){var c=this,f=function(x){var k=n(parseInt(x.value,10),59);x.value=k.toString(),c._minutesSlider.setValue(k)},v=function(x){var k=n(parseInt(x.value,10),23);x.value=k.toString(),c._hoursSlider.setValue(k)};this._handlers={onchange:{".dhx_timepicker-input--hour":function(x){return v(x.target)},".dhx_timepicker-input--minutes":function(x){return f(x.target)}},oninput:{".dhx_timepicker-input--hour":function(x){((0,i.isSafari)()||(0,i.isFirefox)())&&v(x.target)},".dhx_timepicker-input--minutes":function(x){((0,i.isSafari)()||(0,i.isFirefox)())&&f(x.target)}}},this._outerHandlers={close:function(){c.events.fire(a.TimepickerEvents.beforeClose,[c.getValue(c._isTimeObj())])&&(c.events.fire(a.TimepickerEvents.afterClose,[c.getValue(c._isTimeObj())]),c.events.fire(a.TimepickerEvents.close,[]))},save:function(){c.events.fire(a.TimepickerEvents.beforeApply,[c.getValue(c._isTimeObj())])&&(c.events.fire(a.TimepickerEvents.afterApply,[c.getValue(c._isTimeObj())]),c.events.fire(a.TimepickerEvents.apply,[c.getValue()]),c.events.fire(a.TimepickerEvents.save,[c._time]))}}},o.prototype._initEvents=function(){var c=this;this._hoursSlider.events.on(s.SliderEvents.beforeChange,function(f){if(!(f<c._hoursSlider.config.min||f>c._hoursSlider.config.max)){var v=m({},c._time);c.config.timeFormat===12?(v.AM=f<12,v.hour=f%12||12):v.hour=f;var x=c._isTimeObj();return c.events.fire(a.TimepickerEvents.beforeChange,[c._getValue(v,x)])}}),this._hoursSlider.events.on(s.SliderEvents.change,function(f){if(!(f<c._hoursSlider.config.min||f>c._hoursSlider.config.max)){c.config.timeFormat===12?(c._time.AM=f<12,c._time.hour=f%12||12):c._time.hour=f;var v=c._isTimeObj();c.events.fire(a.TimepickerEvents.change,[c.getValue(v)]),c._inputsView.paint()}}),this._minutesSlider.events.on(s.SliderEvents.beforeChange,function(f){if(!(f<c._minutesSlider.config.min||f>c._minutesSlider.config.max)){var v=m(m({},c._time),{minute:f}),x=c._isTimeObj();return c.events.fire(a.TimepickerEvents.beforeChange,[c._getValue(v,x)])}}),this._minutesSlider.events.on(s.SliderEvents.change,function(f){if(!(f<c._minutesSlider.config.min||f>c._minutesSlider.config.max)){c._time.minute=f;var v=c._isTimeObj();c.events.fire(a.TimepickerEvents.change,[c.getValue(v)]),c._inputsView.paint()}})},o.prototype._draw=function(){return this._minutesSlider.config.label=l.default.minutes,this._hoursSlider.config.label=l.default.hours,(0,h.el)(".dhx_timepicker-inputs",m({},this._handlers),[(0,h.el)("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:this.getValue(!0).hour.toString().length>1?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),(0,h.el)("span.dhx_timepicker-delimer",":"),(0,h.el)("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:this.getValue(!0).minute.toString().length>1?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),this.config.timeFormat===12?(0,h.el)(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},o.prototype._isTimeObj=function(){var c;return((c=this.config.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="timeobject"},o}(p.View);g.Timepicker=e},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.getMarginSize=g.getBlockRange=void 0,g.getBlockRange=function(b,w,m){return m===void 0&&(m=!0),m?{min:b.left+window.pageXOffset,max:w.right+window.pageXOffset}:{min:b.top+window.pageYOffset,max:w.bottom+window.pageYOffset}},g.getMarginSize=function(b){return b&&(b.type==="space"||b.type==="wide")?12:0}},function(H,g,y){var b,w=this&&this.__extends||(b=function(d,p){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,s){u.__proto__=s}||function(u,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(u[l]=s[l])},b(d,p)},function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function u(){this.constructor=d}b(d,p),d.prototype=p===null?Object.create(p):(u.prototype=p.prototype,new u)});Object.defineProperty(g,"__esModule",{value:!0}),g.ProLayout=void 0;var m=y(49),_=y(148),h=function(d){function p(u,s){return d.call(this,u,s)||this}return w(p,d),p.prototype._createCell=function(u){var s;return u.rows||u.cols||u.views?(u.parent=this._root,s=new p(this,u)):s=new _.ProCell(this,u),this._root._all[s.id]=s,u.init&&u.init(s,u),s},p}(m.Layout);g.ProLayout=h},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}),m=this&&this.__assign||function(){return m=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.ProCell=void 0;var _=y(1),h=y(0),d=y(34),p=function(u){function s(l,r){var a=u.call(this,l,r)||this;return a.scrollView=new d.ScrollView(function(){return a._getFirstRootView()}),a}return w(s,u),s.prototype._getFirstRootView=function(l){return l===void 0&&(l=this),l.getParent()&&l.getParent().getRootView()?l.getParent().getRootView():this._getFirstRootView(l.getParent())},s.prototype.toVDOM=function(l){var r,a;if(this.config===null&&(this.config={}),!this.config.hidden){var i,n=this.config.$fieldset,e=this._calculateStyle(),t=(0,_.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",o=this.config.full||this.config.html?e:m(m({},e),t),c=this._checkProgress()?this._getProgressBar():null;if(!this.config.html)if(this._ui){var f=this._ui.getRootView();f.render&&(f=(0,h.inject)(f)),i=f?[this.scrollView.render(f)]:f||null}else i=l?this.scrollView.render([l]):l||null;var v=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?(0,h.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),m(m({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[(0,h.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,x={};if(this.config.on)for(var k in this.config.on)x["on"+k]=this.config.on[k];var S="",O=this.config.cols||this.config.rows;if(this.config.type&&O)switch(this.config.type){case"line":S=" dhx_layout-line";break;case"wide":S=" dhx_layout-wide";break;case"space":S=" dhx_layout-space"}var P=(0,h.el)(".dhx_layout-cell-content",{_key:"".concat(this._uid,"_html"),style:t},[(0,h.el)(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})]),T=n?(0,h.el)("fieldset.dhx_form-fieldset",{class:this.config.$disabled?" dhx_form-fieldset--disabled":"",style:t,disabled:this.config.$disabled},[(0,h.el)("legend.dhx_form-fieldset-legend",{class:"dhx_form-fieldset-legend--".concat(this.config.labelAlignment||"left")},this.config.label),(0,h.el)(".dhx_layout-cell-content",{class:this._getCss(!1)},[].concat(i))]):this.config.full?[(0,h.el)("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,h.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,h.el)(".dhx_layout-cell-header__image-wrapper",[(0,h.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,h.el)("h3.dhx_layout-cell-header__title",this.config.header),this.config.collapsable?(0,h.el)("div.dhx_layout-cell-header__collapse-icon",{class:this._getCollapseIcon()}):(0,h.el)("div.dhx_layout-cell-header__collapse-icon",{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,h.el)("div",{style:m(m({},t),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?S:"")},this.config.html?[(0,h.el)("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:i)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?i:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([P],this._uid):P],j=(0,h.el)("div",m(m(((r={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,r["data-cell-id"]=(a=this.config.id)!==null&&a!==void 0?a:null,r),x),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?S:""),style:n?e:o}),T||c?[].concat(T,c):null);return v?[].concat(j,v):j}},s}(y(74).Cell);g.ProCell=p},function(H,g,y){var b,w=this&&this.__extends||(b=function(n,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])},b(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}b(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),m=this&&this.__assign||function(){return m=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var c in e=arguments[t])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Slider=void 0;var _=y(1),h=y(0),d=y(3),p=y(14),u=y(5),s=y(11),l=y(77),r=y(2);function a(n,e,t){return n<e?e:n>t?t:n}var i=function(n){function e(t,o){var c=n.call(this,t,(0,_.extend)({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},o))||this;c._disabled=!1,c.config.helpMessage=c.config.helpMessage||c.config.help,c.config.thumbLabel!==void 0&&(c.config.tooltip=c.config.thumbLabel),c.config.labelInline&&(c.config.labelPosition="left"),c.events=new d.EventSystem(c),c._axis=c.config.mode==="horizontal"?"clientX":"clientY",c._initStartPosition(),c._keyManager=new p.KeyManager(function(){var v,x;return document.activeElement===((x=(v=c.getRootView().refs)===null||v===void 0?void 0:v[c._isExtraActive?"extraRunner":"runner"])===null||x===void 0?void 0:x.el)}),c._initHotkeys();var f=(0,h.create)({render:function(){return c._draw()},hooks:{didMount:function(){return c._calcSliderPosition()},didRedraw:function(){return c._calcSliderPosition()}}});return c._initHandlers(),c.mount(t,f),c}return w(e,n),e.prototype.disable=function(){this._disabled=!0,this.paint()},e.prototype.enable=function(){this._disabled=!1,this.paint()},e.prototype.isDisabled=function(){return this._disabled},e.prototype.focus=function(t){this.getRootView().refs[t?"extraRunner":"runner"].el.focus()},e.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},e.prototype.getValue=function(){var t;if(this.config.range){var o=this._getValue(this._currentPosition),c=this._getValue(this._extraCurrentPosition);t=o<c?[o,c]:[c,o]}else t=[this._getValue(this._currentPosition)];return t},e.prototype.setValue=function(t){var o=this._getValue(this._currentPosition);if(Array.isArray(t)&&t.length>1){var c=this._getValue(this._extraCurrentPosition);this.events.fire(l.SliderEvents.beforeChange,[t[0],o,!1])&&(this._setValue(t[0],!1),this.events.fire(l.SliderEvents.change,[t[0],o,!1])),this.events.fire(l.SliderEvents.beforeChange,[t[1],c,!0])&&(this._setValue(t[1],!0),this.events.fire(l.SliderEvents.change,[t[1],c,!0]))}else{if(t=parseFloat(t),isNaN(t))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this.events.fire(l.SliderEvents.beforeChange,[t,o,!1])&&(this._setValue(t),this.events.fire(l.SliderEvents.change,[t,o,!1]))}this.paint()},e.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},e.prototype._calcSliderPosition=function(){var t=this.getRootView();if(t){var o=t.refs.track.el.getBoundingClientRect();this._offsets={left:o.left+window.pageXOffset,top:o.top+window.pageYOffset},this._length=this.config.mode==="horizontal"?o.width:o.height}},e.prototype._initHotkeys=function(){var t=this,o={arrowLeft:function(f){f.preventDefault(),t._move(-t.config.step,f.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(f){f.preventDefault(),t._move(t.config.step,f.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(f){f.preventDefault(),t._move(t.config.step,f.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(f){f.preventDefault(),t._move(-t.config.step,f.target.classList.contains("dhx_slider__thumb--extra"))}};for(var c in o)this._keyManager.addHotKey(c,o[c])},e.prototype._move=function(t,o){o===void 0&&(o=!1),this.config.inverse&&(t=-t);var c=this.config,f=c.max,v=c.min,x=o?this._getValue(this._extraCurrentPosition):this._getValue(this._currentPosition),k=x+t;(k>f||k<v)&&(k=x),this.events.fire(l.SliderEvents.beforeChange,[k,x,o])&&(this._setValue(x+t,o),this.events.fire(l.SliderEvents.change,[k,x,o]),this.paint())},e.prototype._initStartPosition=function(){var t=this.config,o=t.max,c=t.min,f=t.range,v=function(S,O,P){var T;return(T=S===void 0?[]:Array.isArray(S)?S:typeof S=="string"?S.split(",").map(function(j){return parseInt(j,10)}):[S])[0]=T[0]===void 0?O:a(T[0],O,P),T[1]=T[1]===void 0?P:a(T[1],O,P),T}(this.config.value,this.config.min,this.config.max),x=v[0],k=v[1];this._currentPosition=(x-c)/(o-c)*100,f&&(this._extraCurrentPosition=(o-k)/(o-c)*100),this._currentPosition=(x-c)/(o-c)*100,f&&(this._extraCurrentPosition=(k-c)/(o-c)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,f&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},e.prototype._getValue=function(t){this._isInverse()&&(t=100-t);var o=this.config,c=o.min,f=o.max,v=o.step;if(t===100)return f;if(t===0)return c;var x=t*(f-c)/100,k=x%v,S=k>=v/2?v:0;return+(Number(c)+Number(x)-k+S).toFixed(5)},e.prototype._setValue=function(t,o){o===void 0&&(o=!1);var c=this.config,f=c.max,v=c.min;if(t>f||t<v)return!1;var x=(t-v)/(f-v)*100,k=this._isInverse()?100-x:x;o?this._extraCurrentPosition=k:this._currentPosition=k},e.prototype._initHandlers=function(){var t=this,o=function(v){v.cancelable&&v.preventDefault();var x=((v.targetTouches?v.targetTouches[0][t._axis]:v[t._axis])-t._getBegining())/t._length*100;if(t._findNewDirection){if(Math.abs(t._currentPosition-x)<1)return;x>t._currentPosition?t._possibleRange=[t._currentPosition,100]:t._possibleRange=[0,t._currentPosition],t._findNewDirection=null}t._inSide(x)&&t._updatePosition(x,t._isExtraActive),t.paint()},c=function(v){t.events.fire(l.SliderEvents.mouseup,[v]),setTimeout(function(){t._isMouseMoving=!1,t.paint()},4),v.targetTouches?(document.removeEventListener("touchend",c),document.removeEventListener("touchmove",o)):(document.removeEventListener("mouseup",c),document.removeEventListener("mousemove",o))},f=function(v){var x;if(!t._disabled&&v.which!==3)if(t.events.fire(l.SliderEvents.mousedown,[v]),t._isMouseMoving=!0,v.target.classList.contains("dhx_slider__thumb--extra")?(t._isExtraActive=!0,x=t._extraCurrentPosition):(t._isExtraActive=!1,x=t._currentPosition),t._findNewDirection=null,t.config.range){var k=t._currentPosition>t._extraCurrentPosition?[t._currentPosition,t._extraCurrentPosition]:[t._extraCurrentPosition,t._currentPosition],S=k[0],O=k[1];t._currentPosition===t._extraCurrentPosition?(t._findNewDirection=x,t._possibleRange=[0,100]):t._possibleRange=x<S?[0,S]:[O,100]}else t._possibleRange=[0,100]};this.config.helpMessage&&(this._helper=new s.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(v){v.preventDefault(),v.stopPropagation(),t._helper.show(v.target,{theme:v.target})},onmousedown:function(v){f(v),document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)},ontouchstart:function(v){t._setTooltip(v),t._mouseIn=!1,f(v),document.addEventListener("touchmove",o,{passive:!1}),document.addEventListener("touchend",c),t.paint()},ontouchend:function(v){t._setTooltip(v),t._mouseIn=!1,t.paint()},onlabelClick:function(){t.getRootView().refs.runner.el.focus()},onclick:function(v){if(!t._disabled&&!t._isMouseMoving&&v.which!==3){var x=(v[t._axis]-t._getBegining())/t._length*100,k=t.getRootView().refs;t.config.range?Math.abs(t._currentPosition-x)<Math.abs(t._extraCurrentPosition-x)?(t._updatePosition(x,!1),k.runner.el.focus()):(t._updatePosition(x,!0),k.extraRunner.el.focus()):(t._updatePosition(x,!1),k.runner.el.focus()),t.paint()}},onmouseover:function(v){t._setTooltip(v),t._mouseIn=!0,t.paint()},onmouseout:function(v){t._setTooltip(v),t._mouseIn=!1,t.paint()},onfocus:function(v){t._setTooltip(v),t._focusIn=!0,t.events.fire(l.SliderEvents.focus,[]),t.paint()},onblur:function(v){t._setTooltip(v),t._focusIn=!1,t.events.fire(l.SliderEvents.blur,[]),t.paint()},onkeydown:function(v){t.events.fire(l.SliderEvents.keydown,[v])}}},e.prototype._getBegining=function(){return this.config.mode==="horizontal"?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},e.prototype._inSide=function(t){var o=this._possibleRange;return t<o[0]?(this._updatePosition(o[0],this._isExtraActive),!1):!(t>o[1])||(this._updatePosition(o[1],this._isExtraActive),!1)},e.prototype._updatePosition=function(t,o){o===void 0&&(o=!1),t>100&&(t=100),t<0&&(t=0);var c=this.config,f=c.max,v=c.min,x=o?this._extraCurrentPosition:this._currentPosition,k=this._getValue(x),S=this._getValue(t);if(k!==S&&this.events.fire(l.SliderEvents.beforeChange,[S,k,o])){var O=(S-v)/(f-v)*100,P=this._isInverse()?100-O:O;o?this._extraCurrentPosition=P:this._currentPosition=P,this.events.fire(l.SliderEvents.change,[S,k,o])}},e.prototype._getRunnerStyle=function(t){var o;t===void 0&&(t=!1);var c=this.config.mode==="horizontal"?"left":"top",f=t?this._extraCurrentPosition:this._currentPosition;return(o={})[c]=f+"%",o},e.prototype._isInverse=function(){return this.config.inverse&&this.config.mode==="horizontal"||!this.config.inverse&&this.config.mode==="vertical"},e.prototype._getRunnerCss=function(t){return t===void 0&&(t=!1),"dhx_slider__thumb"+(t?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(t&&this._isExtraActive||!t&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(t?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},e.prototype._draw=function(){var t=this.config,o=t.labelPosition,c=t.mode,f=t.hiddenLabel,v=t.tick,x=t.majorTick,k=t.css,S=t.helpMessage,O=(0,r.getLabelStyle)(m(m({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),(0,h.el)("div",{class:"dhx_slider dhx_slider--mode_"+c+(o==="left"?" dhx_slider--label-inline":"")+(f?" dhx_slider--label_sr":"")+(v?" dhx_slider--ticks":"")+(x?" dhx_slider--major-ticks":"")+(k?" "+k:"")+(this._disabled?" dhx_slider--disabled":""),style:{paddingBottom:this.config.tick?"16px":null}},[O?(0,h.el)("label.dhx_label.dhx_slider__label",{style:O.style,class:S?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},S?[O.label&&(0,h.el)("span.dhx_label__holder",O.label),(0,h.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:O.label):null,this._drawSlider()])},e.prototype._drawSlider=function(){return(0,h.el)(".dhx_widget.dhx_slider__track-holder",{"data-dhx-widget-id":this._uid},[(0,h.el)(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),(0,h.el)("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?(0,h.el)("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},e.prototype._getDetector=function(){var t,o,c;if(this._disabled)return(0,h.el)(".dhx_slider__range");var f=this.config.mode==="horizontal"?"left":"top",v=this.config.mode==="horizontal"?"width":"height";if(this.config.range){var x=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],k=x[0],S=x[1];return(0,h.el)(".dhx_slider__range",{style:(t={},t[f]=S+"%",t[v]=k-S+"%",t)})}return this._isInverse()?(0,h.el)(".dhx_slider__range",{style:(o={},o[f]=this._currentPosition+"%",o[v]=100-this._currentPosition+"%",o)}):(0,h.el)(".dhx_slider__range",{style:(c={},c[f]=0,c[v]=this._currentPosition+"%",c)})},e.prototype._drawTooltip=function(t){if(t===void 0&&(t=!1),this._activeTooltip!=="none"&&this.getRootView()){var o=this._activeTooltip==="extraTooltip"?this._extraCurrentPosition:this._currentPosition,c=this.config.mode==="horizontal"?"left":"top",f="";(t&&this._isExtraActive||!t&&!this._isExtraActive)&&(f+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div"));var v=this._activeTooltip==="tooltip"?this.getRootView().refs.runner.el.getBoundingClientRect():this.getRootView().refs.extraRunner.el.getBoundingClientRect();this._tooltip.className="dhx_slider__thumb-label"+f,this._tooltip.style.left=v.x+(c==="left"?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=v.y+(c==="left"?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(o).toString(),document.body.appendChild(this._tooltip)}},e.prototype._getTicks=function(){for(var t=this.config,o=t.max,c=t.min,f=t.step,v=t.tick,x=t.majorTick,k=o-c,S=f*v/k,O=[],P=0,T=0;P<1;){var j=+(Number(c)+P*k).toFixed(5),$=T%x==0;O.push({position:(this._isInverse()?100*(1-P):100*P)+"%",isMultiple:$,label:$&&typeof this.config.tickTemplate=="function"?this.config.tickTemplate(j):null}),P+=S,T++}return O.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:typeof this.config.tickTemplate=="function"?this.config.tickTemplate(o):null}),O},e.prototype._drawTicks=function(){var t=this.config.mode==="horizontal"?"left":"top";return(0,h.el)(".dhx_slider__ticks-holder",this._getTicks().map(function(o){var c;return(0,h.el)("div",{class:"dhx_slider__tick"+(o.isMultiple?" dhx_slider__tick--major":""),style:(c={},c[t]=o.position,c)},o.label!==void 0?[(0,h.el)(".dhx_slider__tick-label",o.label)]:null)}))},e.prototype._isNullable=function(t){return this._isInverse()?t===100:t===0},e.prototype._setTooltip=function(t){t.target.classList.contains("dhx_slider__thumb--extra")?this._activeTooltip="extraTooltip":t.target.classList.contains("dhx_slider__thumb")?this._activeTooltip="tooltip":this._activeTooltip="none"},e}(u.View);g.Slider=i},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Popup=void 0;var _=y(1),h=y(0),d=y(3),p=y(2),u=y(5),s=y(76),l=function(r){function a(i){i===void 0&&(i={});var n=r.call(this,null,(0,_.extend)({},i))||this,e=n._popup=document.createElement("div");return e.className="dhx_widget dhx_popup"+(n.config.css?" "+n.config.css:""),e.style.position="absolute",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-live","polite"),n.config.theme&&n._setTheme(n.config.theme),n.mount(e,(0,h.create)({render:function(){return n.toVDOM()}})),n._clickEvent=function(t){return n.events.fire(s.PopupEvents.click,[t])},n.events=i.events||new d.EventSystem(n),n._isActive=!1,n}return w(a,r),a.prototype.show=function(i,n,e){var t=this;n===void 0&&(n={}),this.events.fire(s.PopupEvents.beforeShow,[i])&&(i=(0,p.toNode)(i),this._isActive?this._setPopupSize(i,n):(e&&this.attach(e),n.theme&&this._setTheme(n.theme),this._popup.style.left="0",this._popup.style.top="0",(0,h.awaitRedraw)().then(function(){t._setPopupSize(i,n),t._popup.style.position="fixed",document.body.appendChild(t._popup),t._isActive=!0}).then(function(){t._popup.style.position="absolute",t.events.fire(s.PopupEvents.afterShow,[i]),t._outerClickDestructor=t._detectOuterClick(i)})))},a.prototype.hide=function(){this._hide(!1,null)},a.prototype.isVisible=function(){return this._isActive},a.prototype.attach=function(i,n){return this._html=null,typeof i=="object"?this._ui=i:typeof i=="string"?this._ui=new window.dhx[i](null,n):typeof i=="function"&&(i.prototype instanceof u.View?this._ui=new i(null,n):this._ui={getRootView:function(){return i(n)}}),this.paint(),this._ui},a.prototype.attachHTML=function(i){this._html=i,this.paint()},a.prototype.getWidget=function(){return this._ui},a.prototype.getContainer=function(){return this.getRootView().refs.content.el},a.prototype.toVDOM=function(){var i;return this._html?i=(0,h.el)(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(i=this._ui?this._ui.getRootView():null)&&i.render&&(i=(0,h.inject)(i)),(0,h.el)("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[i])},a.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},a.prototype._setTheme=function(i){var n;if(typeof i=="string")this._popup.setAttribute("data-dhx-theme",i);else{var e=(n=i==null?void 0:i.closest("[data-dhx-theme]"))===null||n===void 0?void 0:n.getAttribute("data-dhx-theme");e&&this._popup.setAttribute("data-dhx-theme",e)}},a.prototype._setPopupSize=function(i,n,e){var t=this;e===void 0&&(e=3);var o=this._popup.getBoundingClientRect(),c=o.width,f=o.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!e||c!==0&&f!==0){var v=(0,p.fitPosition)(i,m(m({centering:!0,mode:"bottom"},n),{width:c,height:f})),x=v.left,k=v.top;if(this._popup.style.left=x,this._popup.style.top=k,n.indent&&n.indent!==0)switch(n.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(n.indent.toString(),null)+"px";break;case"bottom":default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(n.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(n.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(n.indent.toString(),null)+"px"}}else this._timeout=setTimeout(function(){t._isActive&&(t._setPopupSize(i,n,e-1),t._timeout=null)})},a.prototype._detectOuterClick=function(i){var n=this,e=!1,t=new WeakMap,o=function(c){var f=c.target,v=document.querySelectorAll(".dhx_popup");for(e?v.forEach(function(x){return t.has(x)||t.set(x,n._popup)}):(e=Boolean(v.length))&&v.forEach(function(x){return t.set(x,!0)});f;){if(f===i||f===n._popup||t.get(f)===n._popup)return;f=f.parentNode}n._hide(!0,c)&&document.removeEventListener("mousedown",o)};return document.addEventListener("mousedown",o),function(){return document.removeEventListener("mousedown",o)}},a.prototype._hide=function(i,n){if(this._isActive)return!!this.events.fire(s.PopupEvents.beforeHide,[i,n])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(s.PopupEvents.afterHide,[n]),!0)},a}(u.View);g.Popup=l},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.isTimeCheck=void 0,g.isTimeCheck=function(b){return/(^12:[0-5][0-9]?AM$)/i.test(b)}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.linkButtonClasses=void 0,g.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.CheckboxEditor=void 0;var b=y(1),w=y(0),m=y(7),_=function(){function h(d,p,u){this._config=u,this._cell={row:d,col:p},this._initHandlers()}return h.prototype.endEdit=function(){var d=this._checked;this._config.events.fire(m.GridEvents.beforeEditEnd,[d,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(m.GridEvents.afterEditEnd,[d,this._cell.row,this._cell.col])):this._input.checked=!d},h.prototype.toHTML=function(){this._checked===void 0&&(this._checked=this._cell.row[this._cell.col.id]);var d=(0,b.uid)();return(0,w.el)("div.dhx_checkbox.dhx_cell-editor__checkbox",[(0,w.el)("label",{style:{display:"none"},for:d},this._checked||"false"),(0,w.el)("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor","data-dhx-checked":(!!this._checked).toString(),checked:this._checked,id:d,style:{userSelect:"none"}}),(0,w.el)("span.dhx_checkbox__visual-input")])},h.prototype._initHandlers=function(){var d=this;this._handlers={onClick:function(){var p=!d._input.checked;d._config.events.fire(m.GridEvents.beforeEditStart,[d._cell.row,d._cell.col,"checkbox"])?(d._checked=p,d._config.events.fire(m.GridEvents.afterEditStart,[d._cell.row,d._cell.col,"checkbox"]),d.endEdit()):d._input.checked=!p},didInsert:function(p){d._checkbox=p.el.parentNode.lastChild,d._input=p.el.parentNode.querySelector("input"),p.el.parentNode.addEventListener("click",d._handlers.onClick)}}},h}();g.CheckboxEditor=_},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.ComboboxEditor=void 0;var w=y(0),m=y(7),_=y(51),h=y(31),d=y(18),p=function(){function u(s,l,r){this._config=r,this._cell={row:s,col:l},this._initHandlers()}return u.prototype.endEdit=function(s){var l=this;if(this._config.$editable){var r;if(!s){var a=this._input.getValue();r=this._cell.col.editorType==="multiselect"?a.split(",").join(", "):a}if(this._config.events.fire(m.GridEvents.beforeEditEnd,[r,this._cell.row,this._cell.col])){var i=(0,d.getEditorOptions)(this._cell.col,this._cell.row);this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),h.focusManager.setFocusId(this._config.gridId),r==null||r.toString().split(", ").forEach(function(n){var e=i.find(function(t){return typeof t=="string"?t===n:t.id.toString()===n});n&&!e&&(l._cell.col.$customOptions||(l._cell.col.$customOptions=[]),l._cell.col.$customOptions.push(l._input.data.getItem(n)))}),this._config.$editable=null,this._config.events.fire(m.GridEvents.afterEditEnd,[r,this._cell.row,this._cell.col])}else this._input.focus()}},u.prototype.toHTML=function(){var s=this,l=(0,d.getEditorOptions)(this._cell.col,this._cell.row).map(function(i){return typeof i=="string"?{id:"".concat(i),value:i}:i})||[];if(!this._input){this._input=new _.Combobox(null,b({itemHeight:37,css:"dhx_cell-editor__combobox",multiselection:this._cell.col.editorType==="multiselect",htmlEnable:this._cell.col.htmlEnable},this._cell.col.editorConfig)),this._input.data.parse(l);var r=this._cell.row[this._cell.col.id],a=this._cell.col.editorType==="multiselect"?((r==null?void 0:r.toString())||"").split(", "):r;this._input.setValue(a),this._input.events.on("keydown",this._handlers.onkeydown),this._input.data.events.on("beforeAdd",function(i){if(i.id!==i.value)return s._input.addOption({id:i.value,value:i.value},!0),!1})}return document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,(0,w.awaitRedraw)().then(function(){var i=s._input.getRootView().refs.holder.el;s._input.popup.getContainer().style.width=i.offsetWidth+"px",s._input.popup.show(i)}),h.focusManager.setFocusId(this._input._uid),(0,w.inject)(this._input.getRootView())},u.prototype._initHandlers=function(){var s=this;this._handlers={onOuterClick:function(l){if(l.target instanceof Node){var r=s._input&&s._input.getRootNode()&&s._input.getRootNode().contains(l.target),a=s._input.popup&&s._input.popup.getRootNode()&&s._input.popup.getRootNode().contains(l.target);r||a||s.endEdit()}},onkeydown:function(l){l.key!=="Escape"&&l.key!=="Tab"||s.endEdit()}}},u}();g.ComboboxEditor=p},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.KEY_CODES=void 0,g.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.getEditor=void 0;var b=y(158);g.getEditor=function(w,m){return new b.InputEditor(w,m)}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.InputEditor=void 0;var b=y(0),w=y(52),m=function(){function _(h,d){var p=this;this._list=d,this._config=d.config,this._item=h,this._list.events.on(w.ListEvents.focusChange,function(u,s){p._mode&&s!==p._item.id&&p.endEdit()}),this._initHandlers()}return _.prototype.endEdit=function(){if(this._input){var h=this._input.value;this._list.events.fire(w.ListEvents.beforeEditEnd,[h,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._input.removeEventListener("keydown",this._handlers.onKeyDown),this._handlers={},this._mode=!1,this._list.events.fire(w.ListEvents.afterEditEnd,[h,this._item.id])):this._input.focus()}},_.prototype.toHTML=function(){this._mode=!0;var h=this._config.itemHeight;return(0,b.el)(".dhx_input__wrapper",{role:"presentation"},[(0,b.el)("div.dhx_input__container",{role:"presentation"},[(0,b.el)("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:h,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,"data-dhx-id":this._item.id})])])},_.prototype._initHandlers=function(){var h=this;this._handlers={onBlur:function(){h.endEdit()},onChange:function(){h.endEdit()},onKeyDown:function(d){d.key==="Enter"&&h._item.value===h._input.value&&h.endEdit(),d.key==="Escape"&&(h._input.value=h._item.value,h.endEdit())},didInsert:function(d){var p=d.el;h._input=p,p.focus(),p.value=h._item.value,p.setSelectionRange(0,p.value.length),p.addEventListener("change",h._handlers.onChange),p.addEventListener("blur",h._handlers.onBlur),p.addEventListener("keydown",h._handlers.onKeyDown)}}},_}();g.InputEditor=m},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}),m=this&&this.__assign||function(){return m=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},m.apply(this,arguments)},_=this&&this.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var r,a=0,i=s.length;a<i;a++)!r&&a in s||(r||(r=Array.prototype.slice.call(s,0,a)),r[a]=s[a]);return u.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(g,"__esModule",{value:!0}),g.ProList=void 0;var h=y(0),d=y(34),p=function(u){function s(l,r){var a=u.call(this,l,r)||this;return a.scrollView=new d.ScrollView(function(){return a.getRootView()}),a.paint(),a}return w(s,u),s.prototype.destructor=function(){u.prototype.destructor.call(this),this.scrollView=null},s.prototype.scrollTo=function(l){var r,a,i=this.getRootView();if(i&&i.node&&i.node.el&&l!==void 0){var n=!((r=this.scrollView)===null||r===void 0)&&r.config.enable?(a=this.getRootNode())===null||a===void 0?void 0:a.querySelector(".scroll-view"):this.getRootNode();this._scrollTo(l,n)}},s.prototype._renderList=function(){var l=this,r=this._getRange(),a=this.data.getRawData(r[0],r[1]).map(function(e,t){return l._renderItem(e,t)});this.config.virtual&&(a=_(_([(0,h.el)(".div",{style:{height:r[2]+"px"}})],a,!0),[(0,h.el)(".div",{style:{height:r[3]+"px"}})],!1));var i=this.scrollView&&this.scrollView.config.enable,n=(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(i?" dhx_list--scroll-view":"");return(0,h.el)("ul.dhx_widget.dhx_list",m(m({style:{"max-height":this.config.height,position:"relative"},class:n,"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),i?[].concat(this.scrollView.render(a)):a)},s}(y(82).List);g.ProList=p},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.KeyListener=void 0;var b=function(){function w(){var m=this;this._handler=function(_){if(m._isActive){var h=_.key;h==="Backspace"&&m._sequence.length>0&&(m._sequence=m._sequence.slice(0,m._sequence.length-1),m._change()),h.length<2&&(m._sequence+=h,m._change())}},this._sequence="",document.addEventListener("keydown",this._handler)}return w.prototype.startNewListen=function(m){this._isActive=!0,this._sequence="",this._currentAction=m},w.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},w.prototype.reset=function(){this._sequence=""},w.prototype.destructor=function(){document.removeEventListener("keydown",this._handler)},w.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},w.prototype._addClearTimeout=function(){var m=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout(function(){m.reset(),m._clearTimeout=null},2e3)},w}();g.KeyListener=b},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(g,"__esModule",{value:!0}),g.ProCombobox=void 0;var m=y(80),_=y(81),h=y(16),d=y(85),p=function(u){function s(l,r){return u.call(this,l,r)||this}return w(s,u),s.prototype._createLayout=function(){var l=this.list=new _.ProList(null,{$template:m.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),r=this._layout=new h.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});r.getCell("list").attach(l),this.config.multiselection&&this.config.selectAllButton&&r.getCell("select-unselect-all").attach(d.selectAllView)},s}(m.Combobox);g.ProCombobox=p},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(p){for(var u,s=1,l=arguments.length;s<l;s++)for(var r in u=arguments[s])Object.prototype.hasOwnProperty.call(u,r)&&(p[r]=u[r]);return p},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.TextAreaEditor=void 0;var w=y(0),m=y(7),_=y(1),h=y(18),d=function(){function p(u,s,l){this._config=l,this._cell={row:u,col:s},this.type=this._cell.col.type,this._width=this._cell.col.$width;var r=0;this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(r=(0,h.getTreeCellWidthOffset)(this._cell.row)),this._width-=r-4,this._initHandlers()}return p.prototype.endEdit=function(u){var s;this._config.$editable&&(u||(s=this._editor.value,this.type==="number"&&(s=parseFloat(s),Number.isNaN(s)&&(s=""))),this._config.events.fire(m.GridEvents.beforeEditEnd,[s,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(m.GridEvents.afterEditEnd,[s,this._cell.row,this._cell.col])):this._editor.focus())},p.prototype.toHTML=function(u){(0,_.isDefined)(u)&&(this.type="string"),u=u!=null?u:this._cell.row[this._cell.col.id],this._editor&&(u=this._editor.value),this._config.$editable.editor=this;var s=this._cell.row.height!==void 0||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea";return(0,w.el)("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor","data-dhx-id":"cell_editor",value:u,onblur:this._handlers.onBlur,oninput:this._handlers.onInput,class:s,style:{width:this._width}})},p.prototype._initHandlers=function(){var u=this;this._handlers={onBlur:function(){u.endEdit()},onInput:function(s){var l;if(u._cell.row.height===void 0&&!u._cell.col.htmlEnable){var r=u._getCurrentHeight(u._editor.value,{width:u._cell.col.$width-2,maxHeight:u._config.rowHeight});u._cell.row[u._cell.col.id]=u._editor.value;var a=(0,h.getCalculatedRowHeight)((0,h.getMaxRowHeight)(u._cell.row,u._config.columns)),i=(0,h.getCalculatedRowHeight)((0,h.getMaxRowHeight)(((l={})[u._cell.col.id]=u._cell.row[u._cell.col.id],l),u._config.columns));if(u._minHeight=a===i?u._config.rowHeight:a,r>=u._minHeight&&r!==u._prevHeight){if(!u._config.events.fire(m.GridEvents.beforeRowResize,[u._cell.row,s,r]))return;u._config.events.fire(m.GridEvents.afterRowResize,[u._cell.row,s,r])}u._prevHeight=r}},didInsert:function(s){u._editor=s.el,u._editor.focus()}}},p.prototype._getCurrentHeight=function(u,s){s=b({width:100,maxHeight:40,lineHeight:20},s);var l=document.createElement("textarea");l.className="dhx_cell-editor dhx_cell-editor__textarea",l.value=u,l.style.width="".concat(s.width,"px"),l.style.lineHeight="".concat(s.lineHeight,"px"),l.style.maxHeight="".concat(s.maxHeight,"px"),l.style.boxSizing="border-box",document.body.appendChild(l);var r=this._getElementHeight(l),a=l.value.split(`
`).length,i=Math.round(r/s.lineHeight),n=r<s.maxHeight?s.maxHeight:r;return document.body.removeChild(l),a===1&&a===i?s.maxHeight:n},p.prototype._getElementHeight=function(u){return u.scrollHeight},p}();g.TextAreaEditor=d},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.getContent=void 0;var b=y(0),w=y(18),m=y(1),_=y(164),h=y(165),d=y(166);function p(s,l){var r=l[s.id];if(s.editorType==="combobox")parseFloat((0,w.getEditorValue)(r,(0,w.getEditorOptions)(s,l)));else if(s.editorType==="multiselect")return NaN;return parseFloat(r)}function u(s,l,r,a){if(s&&l&&r){var i=a?a(s.id,l.data):l.data.reduce(function(e,t){var o=p(s,t);return isNaN(o)||e.push(o),e},[]),n=i;return l.type==="tree"&&(n=l.data.reduce(function(e,t){if(t.$level===0){var o=p(s,t);if(isNaN(o)){var c=0;l.datacollection.eachChild(t.id,function(f){if(!l.datacollection.haveItems(f.id)){var v=p(s,f);isNaN(v)||(c+=v)}}),e.push(c)}else e.push(o)}return e},[])),r(i,n)}}g.getContent=function(){return{inputFilter:{element:{},toHtml:function(s,l){var r=this,a=(0,m.uid)(),i=s.id.toString(),n=this.element[i];return n?n.value=this.value[i]:((n=new d.InputFilter(s,l,a,this.value[i])).events.on("change",function(e){r.value[i]=e}),this.element[i]=n),n.toHTML()},match:function(s){var l=s.val,r=s.match,a=s.col;if(!(0,m.isDefined)(l))return!1;var i=[];i.push((0,w.toFormat)(l,a.type,a.format)),a.format&&(e=a.format.lastIndexOf("#"))>0&&i.push((0,w.toFormat)(l,a.type,a.format.slice(e)));for(var n="",e=0;e<r.length;e++){var t=r.charCodeAt(e);n+=t>32&&t<48||t===63||t>90&&t<95||t===124?"\\"+r[e]:r[e]}return i.some(function(o){return new RegExp("".concat(n),"i").test(o)})},value:{}},selectFilter:{element:{},toHtml:function(s,l){var r=this,a=s.id.toString(),i=this.element[a];return i?(i.value=this.value[a],i.data=s.$activeFilterData||s.$uniqueData):((i=new h.SelectFilter(s,l,s.$uniqueData,this.value[a])).events.on("change",function(n){r.value[a]=n}),this.element[a]=i),i.toHTML()},match:function(s){var l=s.val,r=s.match,a=s.col,i=(0,w.toFormat)(l,a.type,a.format);return!r||(i||typeof i=="boolean")&&i.toString()==r},value:{}},comboFilter:{element:{},toHtml:function(s,l){var r=this,a=s.id.toString(),i=this.element[a];if(i)i.data=s.$uniqueData;else{var n=s.header.filter(function(e){return e.filterConfig!==void 0})[0];(i=new _.ComboFilter(s,l,s.$uniqueData,this.value[a],n)).events.on("change",function(e){r.value[a]=e}),this.element[a]=i}return(0,b.inject)(i.getFilter().getRootView())},match:function(s){var l=s.val,r=s.match,a=r===void 0?"":r,i=s.multi,n=i!==void 0&&i,e=s.col,t=(0,w.toFormat)(l,e.type,e.format);if(Array.isArray(a)){for(var o=void 0,c=function(v){if(o=n&&typeof t=="string"?t.split(", ").some(function(x){return x===a[v]}):a[v]===t)return"break"},f=0;f<a.length&&c(f)!=="break";f++);return!a||!a.length||o}return a===void 0||t===a},destroy:function(){this.value={};var s=this.element;for(var l in s)s[l].destructor(),delete s[l]},value:{}},sum:{calculate:function(s,l){return s.length?l.reduce(function(r,a){var i=r+parseFloat(a)||0;return parseFloat(i.toFixed(12))},0):null},toHtml:function(s,l){var r=u(s,l,this.calculate);return s.format||s.type==="percent"?(0,w.toFormat)(r,s.type,s.format):(0,m.isDefined)(r)?r:null}},avg:{calculate:function(s,l){return s.length?l.reduce(function(r,a){return r+a},0)/s.length:null},toHtml:function(s,l){var r=u(s,l,this.calculate);return s.format||s.type==="percent"?(0,w.toFormat)(r,s.type,s.format):(0,m.isDefined)(r)?r.toFixed(3):null}},min:{calculate:function(s){return s.length?Math.min.apply(Math,s):null},toHtml:function(s,l){var r=u(s,l,this.calculate);return s.format||s.type==="percent"||s.type==="number"?(0,w.toFormat)(r,s.type,s.format):(0,m.isDefined)(r)?r.toFixed(3):null}},max:{calculate:function(s){return s.length?Math.max.apply(Math,s):null},toHtml:function(s,l){var r=u(s,l,this.calculate);return s.format||s.type==="percent"||s.type==="number"?(0,w.toFormat)(r,s.type,s.format):(0,m.isDefined)(r)?r.toFixed(3):null}},count:{calculate:function(s,l){return l.length},validate:function(s,l){return l.reduce(function(r,a){return(0,m.isDefined)(a[s])&&a[s]!==""&&(isNaN(a)?r.push(1):r.push(a)),r},[])},toHtml:function(s,l){return u(s,l,this.calculate,this.validate)}}}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.ComboFilter=void 0;var b=y(51),w=y(3),m=y(8),_=y(1),h=y(7),d=function(){function p(u,s,l,r,a){var i;this.events=new w.EventSystem,this._silentMode=!1,this.column=u,this.config=s,this.data=l,this.value=r,this.filterConfig=(a==null?void 0:a.filterConfig)||{},(this.column.htmlEnable||((i=this.config)===null||i===void 0?void 0:i.htmlEnable)&&this.column.htmlEnable!==!1)&&(this.filterConfig.readonly=!0,this.filterConfig.template||(this.filterConfig.template=function(n){return n.value})),this.filterConfig.filter||(this.filterConfig.filter=function(n,e){return(0,_.isExistValue)(n.value,e)}),this.initFilter(),this.config&&this.initHandlers()}return p.prototype.initFilter=function(){this._filter=new b.Combobox(null,Object.assign({},this.filterConfig)),this.data&&this._filter.data&&this._setData()},p.prototype.initHandlers=function(){var u,s,l,r=this,a=this.column.id.toString();this.config.events.on(m.DataEvents.load,function(){return r._setData()},this),this._filter.events.on("change",function(i){var n,e;i&&(Array.isArray(i)?i.find(function(t){return r._filter.data.getItem(t)}):r._filter.data.getItem(i))&&(e=r._filter.config.multiselection?r._filter.list.selection.getItem().map(function(t){if(t&&r._filter.data.getItem(t.id))return t.value}):r._filter.list.selection.getItem().value),r.value=e,(n=r.config.events)===null||n===void 0||n.fire(h.GridEvents.filterChange,[r.value,a,"comboFilter",r._silentMode]),r._silentMode&&r.value===void 0&&(r._silentMode=!1)}),this.config.events.on(h.GridEvents.filterChange,function(i){return r.events.fire(h.HeaderFilterEvent.change,[i])},this),this._filter.popup.events.on("afterHide",function(){r.filterConfig.multiselection||r._filter.list.selection.getItem()||r.clear()}),this._filter.popup.events.on("afterShow",function(){!r.filterConfig.multiselection&&(r.value===""||r.filterConfig.readonly&&r.value!==void 0)&&r.clear()}),(u=this.config.events)===null||u===void 0||u.on(h.GridEvents.scroll,function(){var i;r._isFocused&&((i=r._filter.getRootView().refs)===null||i===void 0?void 0:i.input)&&r._filter.focus()},this),(s=this.config.events)===null||s===void 0||s.on(h.GridEvents.headerCellMouseDown,function(i){i.id!==r.column.id&&r.blur()},this),(l=this.config.events)===null||l===void 0||l.on(h.GridEvents.cellMouseDown,function(){return r.blur()},this),this.config.events.on(m.DataEvents.change,function(i,n){r.column.hidden||n!=="add"&&n!=="update"&&n!=="remove"||(n!=="add"&&r._checkValue(),r._setData(!0))},this),this.config.events.on(m.DataEvents.removeAll,function(){r.clear(!0),r._setData()},this),this.config.events.on(h.GridEvents.afterRowShow,function(){return r._setData(!0)},this),this.config.events.on(h.GridEvents.afterRowHide,function(){r.column.hidden||(r._checkValue(),r._setData(!0))},this),this.config.events.on(m.DataEvents.filter,function(i){r.column.hidden||(!i||(0,m.isOnlyPermanentFilters)(i)?r.clear(!0):r._checkValue(),r.filterConfig.multiselection&&r._filter.popup.isVisible()||r._setData(!0))},this),this.config.events.on(h.GridEvents.afterColumnShow,function(){r.filterConfig.multiselection||(r._checkValue(),r._setData())},this),this.config.events.on(h.GridEvents.afterColumnHide,function(){r.filterConfig.multiselection||r._setData()},this)},p.prototype.getFilter=function(){return this._filter},p.prototype.setValue=function(u,s){var l,r,a=this;if(this.filterConfig.multiselection||!Array.isArray(u))if((0,_.isDefined)(u)){if((u==null?void 0:u.length)||u===""){var i=this.filterConfig.multiselection&&Array.isArray(u)?u.map(function(n){var e;return(e=a._filter.data.find(function(t){return t.value===n}))===null||e===void 0?void 0:e.id}):(r=this._filter.data.find(function(n){return n.value===u}))===null||r===void 0?void 0:r.id;this._filter.setValue(i,s)}}else s&&(this._silentMode=!0),this._filter.clear(),this.filterConfig.multiselection||this.value===void 0||(this.value=void 0,(l=this.config.events)===null||l===void 0||l.fire(h.GridEvents.filterChange,[this.value,this.column.id,"comboFilter"]))},p.prototype.clear=function(u){this.value!==void 0&&this.setValue(null,u)},p.prototype.focus=function(){var u;this._isFocused=!0,!((u=this._filter.getRootView().refs)===null||u===void 0)&&u.input&&this._filter.focus()},p.prototype.blur=function(){var u;this._isFocused=!1,!((u=this._filter.getRootView().refs)===null||u===void 0)&&u.input&&this._filter.blur()},p.prototype.destructor=function(){var u=this.config.events;if(u)for(var s in u.events)this.config.events.detach(s,this);this.events.clear(),this._filter&&this._filter.destructor(),this.config=this.filterConfig=this.data=this.column=this.value=this.events=null},p.prototype._setData=function(u){var s=this;u===void 0&&(u=!1);var l=function(){var r=s.column.$activeFilterData||s.column.$uniqueData;if(s.column.header.some(function(n){var e;return(e=n.filterConfig)===null||e===void 0?void 0:e.filter})){var a=s._filter.data.reduce(function(n,e){return n[e.value]=e.id,n},{}),i=r.map(function(n){return a[n]?{id:a[n],value:n}:{value:n}});s._filter.data.parse(i)}else s._filter.data.parse(r.map(function(n){return{value:n}}))};this.value===void 0?l():u&&this.filterConfig.multiselection&&(l(),this.setValue(this.value,!0))},p.prototype._checkValue=function(){if(this.value!==void 0)for(var u=Array.isArray(this.value)?this.value:[this.value],s=function(i){if(l.column.$uniqueData.includes(i))return"continue";if(u.length>1){var n=l._filter.data.find(function(e){return e.value===i});l._filter.list.selection.remove(n.id)}else l.clear();return"break"},l=this,r=0,a=u;r<a.length&&s(a[r])!=="break";r++);},p}();g.ComboFilter=d},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.SelectFilter=void 0;var b=y(0),w=y(3),m=y(7),_=function(){function h(d,p,u,s){this.events=new w.EventSystem,this.column=d,this.config=p,this.data=u,this.value=s||"",this.initHandlers(),this.toHTML()}return h.prototype.toHTML=function(){var d,p=this;return(0,b.el)("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:"".concat(this.column.id,"_filter")},[(0,b.el)("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id},[(0,b.el)("option",{value:"",_key:0},""),(d=this.value?[this.value]:this.data)===null||d===void 0?void 0:d.map(function(u){return(u=u!=null?u:"")!==""&&(0,b.el)("option",{_key:u,value:u,selected:p.value===u.toString()},u)})])])},h.prototype.getFilter=function(){return this.toHTML()},h.prototype.setValue=function(d,p){var u;this.value=d||"",this.events.fire(m.HeaderFilterEvent.change,[d]),(u=this.config.events)===null||u===void 0||u.fire(m.GridEvents.filterChange,[this.value,this.column.id,"selectFilter",p])},h.prototype.clear=function(d){this.setValue("",d)},h.prototype.focus=function(){var d,p,u,s;this._isFocused=!0;var l=(s=(u=(p=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||p===void 0?void 0:p.getRootView())===null||u===void 0?void 0:u.refs["".concat(this.column.id,"_filter")])===null||s===void 0?void 0:s.el;l&&l.focus()},h.prototype.blur=function(){var d,p,u,s;this._isFocused=!1;var l=(s=(u=(p=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||p===void 0?void 0:p.getRootView())===null||u===void 0?void 0:u.refs["".concat(this.column.id,"_filter")])===null||s===void 0?void 0:s.el;l&&l.blur()},h.prototype.initHandlers=function(){var d,p,u,s=this;this._handlers={onchange:function(l){var r,a,i,n,e=((r=l.target)===null||r===void 0?void 0:r.value)||((i=(a=l.composedPath())===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.value)||((n=l.explicitOriginalTarget)===null||n===void 0?void 0:n.value);s.setValue(e)},onfocus:function(){s._isFocused=!0},onblur:function(){s._isFocused=!1}},(d=this.config.events)===null||d===void 0||d.on(m.GridEvents.scroll,function(){var l,r,a,i,n=(i=(a=(r=(l=s.config.events)===null||l===void 0?void 0:l.context)===null||r===void 0?void 0:r.getRootView())===null||a===void 0?void 0:a.refs["".concat(s.column.id,"_filter")])===null||i===void 0?void 0:i.el;s._isFocused&&n&&(0,b.awaitRedraw)().then(function(){n.focus()})}),(p=this.config.events)===null||p===void 0||p.on(m.GridEvents.headerCellMouseDown,function(l){l.id!==s.column.id&&s.blur()}),(u=this.config.events)===null||u===void 0||u.on(m.GridEvents.cellMouseDown,function(){return s.blur()})},h}();g.SelectFilter=_},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.InputFilter=void 0;var b=y(0),w=y(3),m=y(7),_=function(){function h(d,p,u,s){this.events=new w.EventSystem,this.column=d,this.config=p,this.id=u,this.value=s||"",this.initHandlers(),this.toHTML()}return h.prototype.toHTML=function(){return(0,b.el)("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:"".concat(this.column.id,"_filter")},[(0,b.el)("label",{style:{display:"none"},"aria-label":"Type to search",for:this.id},"Type to search"),(0,b.el)("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id,id:this.id,value:this.value})])},h.prototype.getFilter=function(){return this.toHTML()},h.prototype.setValue=function(d,p){var u;this.value=d||"",this.events.fire(m.HeaderFilterEvent.change,[this.value]),(u=this.config.events)===null||u===void 0||u.fire(m.GridEvents.filterChange,[this.value,this.column.id,"inputFilter",p])},h.prototype.clear=function(d){this.setValue("",d)},h.prototype.focus=function(){var d,p,u,s,l;this._isFocused=!0;var r=(s=(u=(p=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||p===void 0?void 0:p.getRootView())===null||u===void 0?void 0:u.refs["".concat(this.column.id,"_filter")])===null||s===void 0?void 0:s.el;r&&((l=r.querySelector("input"))===null||l===void 0||l.focus())},h.prototype.blur=function(){var d,p,u,s,l;this._isFocused=!1;var r=(s=(u=(p=(d=this.config.events)===null||d===void 0?void 0:d.context)===null||p===void 0?void 0:p.getRootView())===null||u===void 0?void 0:u.refs["".concat(this.column.id,"_filter")])===null||s===void 0?void 0:s.el;r&&((l=r.querySelector("input"))===null||l===void 0||l.blur())},h.prototype.initHandlers=function(){var d,p,u,s=this;this._handlers={onchange:function(l){var r,a,i,n,e=((r=l.target)===null||r===void 0?void 0:r.value)||((i=(a=l.composedPath())===null||a===void 0?void 0:a[0])===null||i===void 0?void 0:i.value)||((n=l.explicitOriginalTarget)===null||n===void 0?void 0:n.value);s._inputDelay&&clearTimeout(s._inputDelay),s._inputDelay=setTimeout(function(){return s.setValue(e)},500)},onfocus:function(){s._isFocused=!0},onblur:function(){s._isFocused=!1}},(d=this.config.events)===null||d===void 0||d.on(m.GridEvents.scroll,function(){var l,r,a,i,n=(i=(a=(r=(l=s.config.events)===null||l===void 0?void 0:l.context)===null||r===void 0?void 0:r.getRootView())===null||a===void 0?void 0:a.refs["".concat(s.column.id,"_filter")])===null||i===void 0?void 0:i.el;s._isFocused&&n&&(0,b.awaitRedraw)().then(function(){var e;(e=n.querySelector("input"))===null||e===void 0||e.focus()})}),(p=this.config.events)===null||p===void 0||p.on(m.GridEvents.headerCellMouseDown,function(l){l.id!==s.column.id&&s.blur()}),(u=this.config.events)===null||u===void 0||u.on(m.GridEvents.cellMouseDown,function(){return s.blur()})},h}();g.InputFilter=_},function(H,g,y){var b=this&&this.__spreadArray||function(h,d,p){if(p||arguments.length===2)for(var u,s=0,l=d.length;s<l;s++)!u&&s in d||(u||(u=Array.prototype.slice.call(d,0,s)),u[s]=d[s]);return h.concat(u||Array.prototype.slice.call(d))};Object.defineProperty(g,"__esModule",{value:!0}),g.startResize=void 0;var w=y(1),m=y(7),_=y(25);g.startResize=function(h,d,p,u){var s,l=h.config.rightSplit;p.targetTouches&&p.preventDefault();var r=p.targetTouches?p.targetTouches[0].clientX:p.clientX,a=h.config.columns.filter(function(f){return!f.hidden}),i=l?a.slice(-l).map(function(f){return f.id}):[],n=!!(!((s=h.scrollView)===null||s===void 0)&&s.config.enable),e=l?(0,_.calcScrollBarWidth)(h.config,n).xState:null,t=0;h.config.$resizing=d;var o=function(f){var v=(0,w.findIndex)(a,function(F){return F.id===d}),x=f.targetTouches?f.targetTouches[0].clientX:f.clientX,k=x-h.getRootNode().getBoundingClientRect().left,S=(0,_.calcScrollBarWidth)(h.config,n);if(!(h.config.leftSplit===v+1&&k>=h.config.$width-S.y-2||l&&i.includes(d)&&S.xState!==e)){t=t||a[v].$width;var O,P=a[v].minWidth||40,T=a[v].maxWidth,j=x-r,$=b([],a,!0),I=t+(e&&i.includes(d)?-j:j);T&&I>=T||I<=P?(I<=P&&(O=P),I>=T&&(O=T)):O=I,$[v].$width=O,$[v].$fixed=!0,h.events.fire(m.GridEvents.resize,[a[v],f]),h.paint()}},c=function(){p.targetTouches?(document.removeEventListener("touchmove",o),document.removeEventListener("touchend",c)):(document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",c)),u()};p.targetTouches?(document.addEventListener("touchmove",o),document.addEventListener("touchend",c)):(document.addEventListener("mousemove",o),document.addEventListener("mouseup",c)),h.paint()}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(p){for(var u,s=1,l=arguments.length;s<l;s++)for(var r in u=arguments[s])Object.prototype.hasOwnProperty.call(u,r)&&(p[r]=u[r]);return p},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.getKeysHandlers=g.selectionMove=void 0;var w=y(7),m=y(2),_=y(26);function h(p,u,s,l,r,a,i){if(r===void 0&&(r=!1),a===void 0&&(a=!1),i===void 0&&(i=!1),!u.config.$editable&&u.config.selection&&!(0,m.locateNodeByClassName)(p,"dhx_grid-header-cell")){p&&p.preventDefault();var n=u.selection.getCell(),e=u.config.columns.filter(function(c){return!c.hidden});if(n)if(s==="vertical")if(r){var t=l===1?u.data.getItem(u.data.getId(u.data.getLength()-1)):u.data.getItem(u.data.getId(0));u.selection.setCell(t.id,n.column.id,a,i),u.scrollTo(t.id.toString(),n.column.id.toString())}else(o=u.data.getIndex(n.row.id.toString()))+l>=0&&o+l<u.data.getLength()&&(t=u.data.getItem(u.data.getId(o+l)),u.selection.setCell(t.id,n.column.id,a,i),u.scrollTo(t.id.toString(),n.column.id.toString()));else if(r)t=l===1?e[e.length-1]:e[0],u.selection.setCell(n.row.id,t.id,a,i),u.scrollTo(n.row.id.toString(),t.id.toString());else{var o;(o=e.indexOf(n.column))+l>=0&&o+l<e.length&&(u.selection.setCell(n.row.id,e[o+l].id,a,i),u.scrollTo(n.row.id.toString(),e[o+l].id.toString()))}}}function d(p,u){var s,l,r=p.selection.getCell(),a=r&&p.getSpan(r.row.id,r.column.id);if(a){if(u==="up"||u==="down"){var i=(s=p.config.data)===null||s===void 0?void 0:s.findIndex(function(t){return t.id===a.row}),n=(l=p.config.data)===null||l===void 0?void 0:l.findIndex(function(t){return t.id===r.row.id});return u==="up"?i-n-1:i+(a.rowspan||1)-n}var e=p.config.columns.filter(function(t){return!t.hidden});return i=e.findIndex(function(t){return t.id===a.column}),n=e.findIndex(function(t){return t.id===r.column.id}),u==="left"?i-n-1:i+(a.colspan||1)-n}return u==="down"||u==="right"?1:-1}g.selectionMove=h,g.getKeysHandlers=function(p){var u,s,l,r=p.config.selection==="cell"||p.config.selection==="complex"||p.config.selection===!0,a={};if(p.getRootView()){var i=(l=(s=(u=p.getRootView())===null||u===void 0?void 0:u.refs)===null||s===void 0?void 0:s.grid_body)===null||l===void 0?void 0:l.el;if(!i)return;a={pageUp:function(n){n.preventDefault(),i.scrollTop-=i.clientHeight},pageDown:function(n){n.preventDefault(),i.scrollTop+=i.clientHeight},home:function(n){n.preventDefault(),i.scrollTop=0},end:function(n){n.preventDefault(),i.scrollTop+=i.scrollHeight}}}return b({enter:function(){if(r){var n=(0,_.normalizeCell)(p.selection.getCell(),p);if(n&&(n.column.editable!==!1&&p.config.editable||n.column.editable))if(p.config.$editable)p.editEnd();else if(n.column.type==="boolean"){if(!p.events.fire(w.GridEvents.beforeEditStart,[n.row,n.column,"checkbox"])||(p.events.fire(w.GridEvents.afterEditStart,[n.row,n.column,"checkbox"]),!p.events.fire(w.GridEvents.beforeEditEnd,[!n.row[n.column.id],n.row,n.column])))return;p.events.fire(w.GridEvents.afterEditEnd,[!n.row[n.column.id],n.row,n.column])}else p.editCell(n.row.id,n.column.id,n.column.editorType)}else p.config.$editable&&p.editEnd()},space:function(n){var e,t=(0,_.normalizeCell)(p.selection.getCell(),p);if(r&&((e=t==null?void 0:t.column.editable)!==null&&e!==void 0?e:p.config.editable)&&!p.config.$editable&&t&&t.column.type==="boolean"){if(n.preventDefault(),!p.events.fire(w.GridEvents.beforeEditStart,[t.row,t.column,"checkbox"])||(p.events.fire(w.GridEvents.afterEditStart,[t.row,t.column,"checkbox"]),!p.events.fire(w.GridEvents.beforeEditEnd,[!t.row[t.column.id],t.row,t.column])))return;p.events.fire(w.GridEvents.afterEditEnd,[!t.row[t.column.id],t.row,t.column])}},escape:function(){p.config.$editable&&p.editEnd(!0)},tab:function(n){if(p.config.selection&&!(0,m.locateNodeByClassName)(n,"dhx_grid-header-cell")){p.config.$editable&&p.editEnd();var e=p.selection.getCell(),t=p.config.columns.filter(function(f){return!f.hidden});if(e){var o=t.indexOf(e.column)+d(p,"right");if(o>=0&&o<t.length)n&&n.preventDefault(),p.selection.setCell(e.row.id,t[o].id),p.scrollTo(e.row.id.toString(),t[o].id.toString());else if(o>=0){var c=p.data.getIndex(e.row.id.toString())+1;c<p.data.getLength()&&(n&&n.preventDefault(),p.selection.setCell(p.data.getId(c),t[0].id),p.scrollTo(p.data.getId(c).toString(),t[0].id.toString()))}}}},"shift+tab":function(n){if(p.config.selection&&!(0,m.locateNodeByClassName)(n,"dhx_grid-header-cell")){p.config.$editable&&p.editEnd();var e=p.selection.getCell(),t=p.config.columns.filter(function(f){return!f.hidden});if(e){var o=t.indexOf(e.column)+d(p,"left");if(o>=0&&o<t.length)n&&n.preventDefault(),p.selection.setCell(e.row.id,t[o].id),p.scrollTo(e.row.id.toString(),t[o].id.toString());else if(o<p.data.getLength()){var c=p.data.getIndex(e.row.id.toString())-1;c>=0&&(n&&n.preventDefault(),p.selection.setCell(p.data.getId(c),t[t.length-1].id),p.scrollTo(p.data.getId(c).toString(),t[t.length-1].id.toString()))}}}},arrowUp:function(n){h(n,p,"vertical",d(p,"up"))},"ctrl+arrowUp":function(n){h(n,p,"vertical",-1,!0)},"shift+arrowUp":function(n){p.config.multiselection&&h(n,p,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(n){p.config.multiselection&&h(n,p,"vertical",-1,!0,!1,!0)},arrowDown:function(n){h(n,p,"vertical",d(p,"down"))},"ctrl+arrowDown":function(n){h(n,p,"vertical",1,!0)},"shift+arrowDown":function(n){p.config.multiselection&&h(n,p,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(n){p.config.multiselection&&h(n,p,"vertical",1,!0,!1,!0)},arrowRight:function(n){h(n,p,"horizontal",d(p,"right"))},"ctrl+arrowRight":function(n){h(n,p,"horizontal",1,!0)},"shift+arrowRight":function(n){p.config.multiselection&&h(n,p,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(n){p.config.multiselection&&h(n,p,"horizontal",1,!0,!1,!0)},arrowLeft:function(n){h(n,p,"horizontal",d(p,"left"))},"ctrl+arrowLeft":function(n){h(n,p,"horizontal",-1,!0)},"shift+arrowLeft":function(n){p.config.multiselection&&h(n,p,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(n){p.config.multiselection&&h(n,p,"horizontal",-1,!0,!1,!0)}},a)}},function(H,g,y){var b,w=this&&this.__extends||(b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])},b(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}b(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}),m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var t,o=1,c=arguments.length;o<c;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},m.apply(this,arguments)},_=this&&this.__spreadArray||function(e,t,o){if(o||arguments.length===2)for(var c,f=0,v=t.length;f<v;f++)!c&&f in t||(c||(c=Array.prototype.slice.call(t,0,f)),c[f]=t[f]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(g,"__esModule",{value:!0}),g.ProGrid=void 0;var h=y(72),d=y(7),p=y(8),u=y(2),s=y(18),l=y(25),r=y(0),a=y(34),i=y(15),n=function(e){function t(o,c){var f,v,x=this;return(x=e.call(this,o,m({autoHeight:!1,headerAutoHeight:(f=c==null?void 0:c.headerAutoHeight)!==null&&f!==void 0?f:c==null?void 0:c.autoHeight,footerAutoHeight:(v=c==null?void 0:c.footerAutoHeight)!==null&&v!==void 0?v:c==null?void 0:c.autoHeight},c))||this).scrollView=new a.ScrollView(function(){return x.getRootView()},{scrollHandler:function(k){return x.events.fire(d.GridEvents.scroll,[{y:k.target.scrollTop,x:k.target.scrollLeft}])}}),x}return w(t,e),t.prototype._createView=function(){var o=this;return(0,r.create)({render:function(c,f){return o._destructed?(0,r.el)("div"):(0,l.proRender)(c,f,o._htmlEvents,o.selection,o._uid)},hooks:this._initHooks()},this)},t.prototype._setEventHandlers=function(){var o=this;e.prototype._setEventHandlers.call(this),this.events.on(d.GridEvents.headerCellMouseDown,function(c,f){var v,x=(0,u.locateNodeByClassName)(f,"dhx_header-row"),k=x&&x.getAttribute("aria-rowindex");!((v=c.header[Number(k)-1])===null||v===void 0)&&v.content||(f.targetTouches?o._touch.timer=setTimeout(function(){o._dragStartColumn(f,c)},o._touch.duration):o._dragStartColumn(f,c))}),this._events.on(d.GridSystemEvents.headerCellTouchMove,function(c,f){o._touch.start&&f.preventDefault(),o._clearTouchTimer()}),this._events.on(d.GridSystemEvents.headerCellTouchEnd,function(){o._touch.start=!1,o._clearTouchTimer()}),this.events.on(d.GridEvents.afterResizeEnd,function(){o.config.autoHeight&&(o.config.data=o.data.map(function(c){var f=(0,s.getMaxRowHeight)(c,o.config.columns);return c.$height=(0,s.getCalculatedRowHeight)(f,{rowHeight:o.config.rowHeight}),c}))}),this.events.on(d.GridEvents.afterRowResize,function(c,f,v){var x=o.data.getItem(c.id),k=x.id,S=x.height,O=x.$height;S&&S!==O&&o.data.update(k,{height:v}),o.data.update(k,{$height:v},!0),o.config.data=o.data.map(function(P){return P}),o.paint()}),this.events.on(d.GridEvents.scroll,function(){o._lazyLoad()}),this.events.on(p.DataEvents.dataRequest,function(c,f){var v=o.data.dataProxy;v&&v.config&&o._prepareDataFromTo(o.data,c,f)})},t.prototype.getNormalizeContentHeight=function(o,c,f){var v,x,k=0,S=this.content[o.content],O=o.content&&typeof S.calculate=="function"&&S.toHtml(c,f).toString(),P=o.text||O||"";if(o.colspan){var T=(v=f.columns)===null||v===void 0?void 0:v.findIndex(function(I){return I.id===c.id}),j=T+o.colspan,$=(x=f.columns)===null||x===void 0?void 0:x.slice(T,j);$==null||$.forEach(function(I){k+=I.$width})}else k+=c.$width;return(0,s.measureTextHeight)({text:P,width:k-24,htmlEnable:(0,i.isHtmlEnable)(f,c,o),font:"bold 14px Arial"})+16},t.prototype._prepareData=function(o){var c=this;return this._normalizeDataType(),this._adjustColumns(),o.map(function(f){if(c.config.autoHeight&&f.height===void 0){var v=c.config.columns.filter(function(k){return!k.hidden}),x=(0,s.getMaxRowHeight)(f,v);f.$height=(0,s.getCalculatedRowHeight)(x,{rowHeight:c.config.rowHeight})||c.config.rowHeight}else f.$height=f.height||c.config.rowHeight;return f})},t.prototype._prepareDataFromTo=function(o,c,f){var v=this;return o.mapRange(c,f,function(x){var k=(0,s.getMaxRowHeight)(x,v.config.columns);return x.$height=(0,s.getCalculatedRowHeight)(k,{rowHeight:v.config.rowHeight})||v.config.rowHeight,x})},t.prototype._dragStart=function(o){if(this.config.dragMode&&(this.config.dragItem==="row"||this.config.dragItem==="both")&&!this.config.$editable){var c=this.getColumn(o.target.getAttribute("data-dhx-col-id"));if((c==null?void 0:c.draggable)===!1)return;var f=(0,u.locateNode)(o,"data-dhx-id"),v=f&&f.getAttribute("data-dhx-id");o.targetTouches&&(this._touch.start=!0);var x=[v];if(this.config.multiselection&&(x=_(_([],x,!0),this.selection.getCells().map(function(T){return T.row.id}),!0)).length>1){for(var k=this.data.getInitialData(),S={},O=function(T){var j=x[T],$=k==null?void 0:k.findIndex(function(I){return I.id==j});S[$]=j},P=0;P<x.length;P++)O(P);x=_([],Object.values(S),!0)}return p.dragManager.onMouseDown(o,x,[this._getRowGhost(x)])}},t.prototype._lazyLoad=function(){var o,c,f=this,v=this.data.dataProxy;if(v&&v.config){var x=this.data.getRawData(0,-1,null,2);if(!x.length)return;var k,S=(0,l.getRenderConfig)(this,x,{width:this.config.$width,height:this.config.$height}),O=v.config.limit,P=O,T=S.currentRows,j=T[0],$=T[T.length-1],I=this.data.getIndex($.id),F=function(X){for(var Y=1;Y<T.length;Y++)if(X==="firstFilledRow"&&!T[Y].$empty&&T[Y-1].$empty||X==="firstEmptyRow"&&T[Y].$empty&&!T[Y-1].$empty)return f.data.getIndex(T[Y].id)};if(j.$empty)if($.$empty)k=this.data.getIndex(j.id);else{var E=F("firstFilledRow"),V=E-P;V<0&&(V=0);for(var z=V;z<E;z++)if(this.data.getItem(this.data.getId(z)).$empty){k=z,P=E-z;break}}else $.$empty?k=F("firstEmptyRow"):(k=(o=F("firstEmptyRow"))!==null&&o!==void 0?o:this.data.getIndex(j.id),P=((c=F("firstFilledRow"))!==null&&c!==void 0?c:I)-k);!this.data.isDataLoaded(k,I)&&this.data.events.fire(p.DataEvents.beforeLazyLoad,[])&&(v.updateUrl(null,{from:k,limit:P}),v.config.limit=O,this.data.load(v).then(function(){f.config.autoHeight&&f._prepareDataFromTo(f.data,k,I)}))}},t.prototype._getColumnGhost=function(o){var c=this._container||(0,u.toNode)(this._uid),f=c.querySelector(".dhx_header-row"),v=f.querySelector('.dhx_grid-header-cell[data-dhx-id="'.concat(o.id,'"]')),x=Array.from(f.childNodes).indexOf(v)+1,k=c.querySelectorAll('.dhx_grid-header-cell[data-dhx-id="'.concat(o.id,'"]:not(.dhx_span-cell)')),S=c.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child(".concat(x,")")),O=document.createElement("div");return k.forEach(function(P){return O.appendChild(P.cloneNode(!0))}),S.forEach(function(P){return O.appendChild(P.cloneNode(!0))}),O},t.prototype._dragStartColumn=function(o,c){var f=o.target,v=function(x){return x.classList.contains("dhx_grid-custom-content-cell")};v(f.parentElement)||v(f.parentElement.parentElement)||!(c.draggable||this.config.dragItem==="column"&&c.draggable!==!1||this.config.dragItem==="both"&&c.draggable!==!1)||(0,u.locateNodeByClassName)(o,"dhx_resizer_grip_wrap")||(o.targetTouches&&(this._touch.start=!0),p.dragManager.onMouseDown(o,[c.id],[this._getColumnGhost(c)]))},t}(h.Grid);g.ProGrid=n},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.collectionStore=void 0;var b=y(1),w=function(){function _(){this._store={}}return _.prototype.setItem=function(h,d){this._store[h]=d},_.prototype.getItem=function(h){return(0,b.isId)(h)&&this._store[h]?this._store[h]:null},_}(),m=window.dhxHelpers=window.dhxHelpers||{};m.collectionStore=m.collectionStore||new w,g.collectionStore=m.collectionStore},function(H,g,y){(function(b){var w,m=this&&this.__extends||(w=function(u,s){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},w(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}w(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(g,"__esModule",{value:!0}),g.LazyDataProxy=void 0;var _=y(32),h=y(1),d=y(47),p=function(u){function s(l,r){var a=u.call(this,l)||this;return a.config=(0,h.extend)({from:0,limit:50,delay:50,prepare:0},r),a.updateUrl(l,{from:a.config.from,limit:a.config.limit}),a}return m(s,u),s.prototype.load=function(){var l=this;return new b(function(r,a){l._timeout?(clearTimeout(l._timeout),l._timeout=setTimeout(function(){d.ajax.get(l.url,{responseType:"text"}).then(r).catch(a),l._cooling=!0},l.config.delay),l._cooling&&(r(null),l._cooling=!1)):(d.ajax.get(l.url,{responseType:"text"}).then(r).catch(a),l._cooling=!0,l._timeout=setTimeout(function(){}))})},s}(_.DataProxy);g.LazyDataProxy=p}).call(this,y(17))},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.Selection=void 0;var b=y(3),w=y(35),m=y(22),_=y(1),h=function(){function d(p,u,s){var l=this;this.events=s||new b.EventSystem(this),this._data=u,this.config=p,this._data.events.on(m.DataEvents.removeAll,function(){l._selected=null}),this._data.events.on(m.DataEvents.change,function(){if((0,_.isId)(l._selected)){var r=l._data.getNearId(l._selected);r!==l._selected&&(l._selected=null,r&&l.add(r))}})}return d.prototype.getId=function(){return this._selected},d.prototype.getItem=function(){return(0,_.isId)(this._selected)?this._data.getItem(this._selected):null},d.prototype.remove=function(p){return p=p!=null?p:this._selected,!(0,_.isDefined)(p)||!!this.events.fire(w.SelectionEvents.beforeUnSelect,[p])&&(this._data.update(p,{$selected:!1},!0),this._selected=null,this.events.fire(w.SelectionEvents.afterUnSelect,[p]),!0)},d.prototype.add=function(p){this._selected!==p&&!this.config.disabled&&this._data.exists(p)&&(this.remove(),this._addSingle(p))},d.prototype.enable=function(){this.config.disabled=!1},d.prototype.disable=function(){this.remove(),this.config.disabled=!0},d.prototype._addSingle=function(p){this.events.fire(w.SelectionEvents.beforeSelect,[p])&&(this._selected=p,this._data.update(p,{$selected:!0},!0),this.events.fire(w.SelectionEvents.afterSelect,[p]))},d}();g.Selection=h},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.createFactory=void 0;var b=y(174),w=y(175),m=y(176),_=y(177),h=y(178),d=y(179),p=y(180),u=y(181),s=y(182),l=y(183),r=y(36);g.createFactory=function(a){for(var i=a.defaultType,n=a.allowedTypes,e=a.widgetName,t=a.widget,o=new Set,c=0,f=n;c<f.length;c++){var v=f[c];o.add(v)}var x=t.config,k=t.events,S=t.data;return function(O,P){if(O.hidden||!(O.type&&O.type!=="button"&&O.type!=="navItem"&&O.type!=="menuItem"||O.value||O.icon||O.html))return null;O.type=O.type||i,o&&!o.has(O.type)&&(O.type=i),O.type==="imageButton"&&e!=="ribbon"&&(O.active=!1),P&&O.type!=="spacer"&&O.type!=="separator"&&O.type!=="customHTML"&&(O.type="menuItem"),S.haveItems(O.id)&&function(j,$,I){switch(j){case"sidebar":case"context-menu":$.$openIcon="right";break;case"toolbar":$.parent===I.getRoot()?$.$openIcon="right":$.$openIcon="bottom";break;case"menu":$.parent!==this.data.getRoot()&&($.$openIcon="right");break;case"ribbon":var F=I.getItem($.parent);F&&$.type!=="block"&&(F.type==="block"?$.$openIcon="bottom":$.$openIcon="right")}}(e,O,S),e==="toolbar"&&O.items&&O.items.forEach(function(j){j.type||(j.type="menuItem")});var T=O.type!=="customHTML"&&function(j,$,I,F){switch(j.type){case"navItem":case"selectButton":return(0,w.navItem)(j,I,F.collapsed);case"button":return(0,b.button)(j,I);case"title":return(0,s.title)(j,I);case"separator":return(0,p.separator)(j,I);case"spacer":return(0,u.spacer)(j,I);case"input":return(0,h.input)(j,$,I);case"imageButton":return(0,_.imageButton)(j,I);case"menuItem":return(0,d.menuItem)(j,I,F.asMenuItem);case"customHTMLButton":return(0,m.customHTMLButton)(j,I,F.asMenuItem);case"datePicker":return(0,l.datePicker)(j,$,I);default:throw new Error("unknown item type "+j.type)}}(O,k,e,{asMenuItem:P,collapsed:e!=="sidebar"||x.collapsed});return(0,r.navbarComponentMixin)(e,O,P,T)}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.button=void 0;var w=y(0),m=y(36);g.button=function(_,h){var d=_.icon&&!_.value,p=d?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return(0,w.el)("button.dhx_button",b({class:(0,m.getNavbarButtonCSS)(_,h),"data-dhx-id":_.id,disabled:_.disabled,type:"button"},function(u){var s=u.active||u.$activeParent,l={"aria-disabled":u.disabled?"true":"false","aria-label":u.value||u.tooltip||u.id||""+" ".concat(u.count||"")};return u.items&&(l.id=u.id,l["aria-haspopup"]="menu",s&&(l["aria-expanded"]="true")),l}(_)),[_.icon?(0,m.getIcon)(_.icon,"button"):null,_.html?(0,w.el)("div.dhx_button__text",{".innerHTML":_.html}):_.value&&(0,w.el)("span.dhx_button__text",_.value),_.count>0&&(0,m.getCount)(_,p,d),_.value&&_.$openIcon?(0,w.el)("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,_.loading&&(0,w.el)("span.dhx_button__loading",{"aria-hidden":"true"},[(0,w.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.navItem=void 0;var w=y(0),m=y(36);g.navItem=function(_,h,d){var p=" dhx_"+h+"-button";return(0,w.el)("button",b({class:"dhx_button"+p+(_.active||_.$activeParent?p+"--active":"")+(_.disabled?p+"--disabled":"")+(_.$openIcon?p+"--select":"")+(_.circle?p+"--circle":"")+(_.size?" "+p+"--"+_.size:"")+(!_.value&&_.icon?p+"--icon":"")+(_.css?" "+_.css:""),"data-dhx-id":_.id,disabled:_.disabled,type:"button"},function(u){var s={"aria-disabled":u.disabled?"true":"false","aria-label":u.value||" "},l=u.active||u.$activeParent;return u.type==="selectButton"||u.items?(s.id=u.id,s["aria-haspopup"]="menu",l&&(s["aria-expanded"]="true")):((u.twoState||l)&&(s["aria-pressed"]=l?"true":"false"),!u.value&&u.icon&&u.tooltip&&(s["aria-label"]="".concat(u.tooltip," ").concat(u.count||""))),s}(_)),[_.icon&&(0,w.el)("span",{class:_.icon+p+"__icon","aria-hidden":"true"}),_.html&&(0,w.el)("div",{class:p.trim()+"__html",".innerHTML":_.html}),!_.html&&_.value&&(0,w.el)("span",{class:p.trim()+"__text"},_.value),_.count>0&&(0,m.getCount)(_,p+"__count",d),_.$openIcon&&(0,w.el)("span.dxi.dxi-menu-right",{class:p+"__caret","aria-hidden":"true"})])}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.customHTMLButton=void 0;var w=y(0);g.customHTMLButton=function(m,_,h){var d=h?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button";return(0,w.el)("button",b({class:"dhx_custom-button"+d+(m.$activeParent?d+"--active":""),"data-dhx-id":m.id,type:"button",".innerHTML":m.html},function(p){var u={"aria-disabled":p.disabled?"true":"false"};return(p.twoState||p.active||p.$activeParent)&&(u["aria-pressed"]=p.active||p.$activeParent?"true":"false"),u}(m)),m.html?"":m.value)}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.imageButton=void 0;var w=y(0),m=y(36);g.imageButton=function(_,h){var d="dhx_"+h+"-button-image",p=h==="ribbon";return(0,w.el)("button.dhx_button",b({class:d+(_.size?" "+d+"--"+_.size:"")+(!_.value&&_.src?" "+d+"--icon":"")+(p&&_.$openIcon?" "+d+"--select":"")+(_.active?" "+d+"--active":""),"data-dhx-id":_.id,type:"button"},function(u){var s={"aria-disabled":u.disabled?"true":"false"};return(u.twoState||u.active)&&(s["aria-pressed"]=u.active?"true":"false"),!u.value&&u.src&&u.tooltip&&(s["aria-label"]="".concat(u.tooltip," ").concat(u.count||"")),s}(_)),[p&&_.value&&_.$openIcon&&(0,w.el)("span.dxi.dxi-menu-right",{class:d+"__caret","aria-hidden":"true"}),_.html?(0,w.el)("div",{class:d+"__text",".innerHTML":_.html}):_.value&&(0,w.el)("span",{class:d+"__text"},_.value),_.src&&(0,w.el)("span",{class:d+"__image",style:{backgroundImage:"url(".concat(_.src,")")},role:"presentation"}),_.count>0&&(0,m.getCount)(_,d+"__count",!0)])}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.input=void 0;var b=y(0),w=y(38);function m(d,p){d.fire(w.NavigationBarEvents.inputBlur,[p])}function _(d,p){d.fire(w.NavigationBarEvents.inputFocus,[p])}function h(d,p,u){d.fire(w.NavigationBarEvents.inputChange,[p,u.target.value])}g.input=function(d,p,u){return(0,b.el)(".dhx_form-group.dhx_form-group--no-message-holder"+(d.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_".concat(u,"__input"),{style:{width:d.width?d.width:"200px"},role:"presentation"},[d.label&&(0,b.el)("label.dhx_label",{for:d.id,style:{maxWidth:d.hiddenLabel?null:"100%"}},d.label),(0,b.el)(".dhx_input__wrapper",{role:"presentation"},[(0,b.el)("input.dhx_input",{id:d.id,placeholder:d.placeholder,class:d.icon?"dhx_input--icon-padding":"",autocomplete:d.autocomplete?"on":"off",value:d.value,disabled:d.disabled,onblur:[m,p,d.id],onfocus:[_,p,d.id],onchange:[h,p,d.id],"data-dhx-id":d.id,_hooks:{didInsert:function(s){p&&p.fire(w.NavigationBarEvents.inputCreated,[d.id,s.el])}},_key:d.id,"aria-label":d.label||d.helpMessage||"type ".concat(d.placeholder?"text like "+d.placeholder:"text")}),d.icon?(0,b.el)(".dhx_input__icon",{class:d.icon,"aria-hidden":"true"}):null])])}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.menuItem=void 0;var w=y(0),m=y(36),_=y(1);g.menuItem=function(h,d,p){var u=p?" dhx_menu-button":" dhx_nav-menu-button",s=(0,_.isDefined)(h.count);return(0,w.el)("button",b({class:"dhx_button"+u+(h.disabled?u+"--disabled":"")+(h.active||h.$activeParent?u+"--active":""),disabled:h.disabled,"data-dhx-id":h.id,type:"button"},function(l){var r={role:"menuitem","aria-disabled":l.disabled?"true":"false"};return l.items&&(r["aria-haspopup"]="true"),r}(h)),p?[h.icon||h.value||h.html?(0,w.el)("span.dhx_menu-button__block.dhx_menu-button__block--left",[h.icon&&(0,w.el)("span.dhx_menu-button__icon",{class:h.icon}),h.html?(0,w.el)("div.dhx_menu-button__text",{".innerHTML":h.html}):h.value&&(0,w.el)("span.dhx_menu-button__text",h.value)]):null,s||h.hotkey||h.items?(0,w.el)("span.dhx_menu-button__block.dhx_menu-button__block--right",[s&&(0,m.getCount)(h," dhx_menu-button__count",!1),h.hotkey&&(0,w.el)("span.dhx_menu-button__hotkey",h.hotkey),h.items&&(0,w.el)("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[h.icon&&(0,w.el)("span.dhx_menu-button__icon",{class:h.icon}),h.html?(0,w.el)("div.dhx_menu-button__text",{".innerHTML":h.html}):h.value&&(0,w.el)("span.dhx_nav-menu-button__text",h.value),s&&(0,m.getCount)(h," dhx_menu-button__count",!1)])}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.separator=void 0,g.separator=function(b,w){return null}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.spacer=void 0,g.spacer=function(b,w){return null}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.title=void 0;var b=y(0);g.title=function(w,m){return(0,b.el)("span",{class:"dhx_navbar-title dhx_navbar-title--"+m,"data-dhx-id":w.id,".innerHTML":w.html,"aria-label":w.value||""},w.html?null:w.value)}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.datePicker=void 0;var w=y(0),m=y(48),_=y(11),h=y(38),d=y(24),p=y(2);function u(r,a,i){var n=i.target;n&&(n.value=a.$calendar.getValue()),r.fire(h.NavigationBarEvents.inputBlur,[a==null?void 0:a.id])}function s(r,a,i){(0,w.awaitRedraw)().then(function(){return a.$popup.show(i.target,{theme:i.target})}),r.fire(h.NavigationBarEvents.inputFocus,[a==null?void 0:a.id])}function l(r,a,i){var n=i.target.value,e=r.$calendar.config.dateFormat;return n.length?(0,d.stringToDate)(n,e,!0)&&r.$calendar.setValue((0,d.stringToDate)(n,e)):r.$calendar.clear(),a.fire(h.NavigationBarEvents.input,[(0,p.locate)(i),n]),!1}g.datePicker=function(r,a,i){r.$popup||(r.$popup=new _.Popup),r.$calendar||(r.$calendar=new m.Calendar(null,b(b({},r),{css:"dhx_widget--bordered"})),r.$popup.attach(r.$calendar),r.$calendar.events.on("change",function(e,t,o){var c;o&&r.$popup.isVisible()&&r.$popup.hide();var f=((c=r.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="date";a.fire(h.NavigationBarEvents.inputChange,[r.id,r.$calendar.getValue(f)])}));var n=r.$calendar.getValue();return r.mode&&r.mode!=="calendar"&&r.$calendar.showDate(void 0,r.mode),(0,w.el)(".dhx_form-group.dhx_form-group--no-message-holder"+(r.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_".concat(i,"__input"),{style:{width:r.width?r.width:"200px"},role:"presentation"},[r.label&&(0,w.el)("label.dhx_label",{for:r.id,style:{maxWidth:r.hiddenLabel?null:"100%"}},r.label),(0,w.el)(".dhx_input__wrapper",{role:"presentation"},[(0,w.el)("input.dhx_input",{id:r.id,placeholder:r.placeholder,class:r.icon?"dhx_input--icon-padding":"",value:n,disabled:r.disabled,onblur:[u,a,r],onfocus:[s,a,r],oninput:[l,r,a],"data-dhx-id":r.id,readOnly:r.editable!==!0,_hooks:{didInsert:function(e){a&&a.fire(h.NavigationBarEvents.inputCreated,[r.id,e.el])}},_key:r.id,"aria-label":r.label||r.helpMessage||"type ".concat(r.placeholder?"text like "+r.placeholder:"text")}),r.icon?(0,w.el)(".dhx_input__icon",{class:r.icon,"aria-hidden":"true"}):null])])}},function(H,g,y){var b,w=this&&this.__extends||(b=function(p,u){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var r in l)Object.prototype.hasOwnProperty.call(l,r)&&(s[r]=l[r])},b(p,u)},function(p,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function s(){this.constructor=p}b(p,u),p.prototype=u===null?Object.create(u):(s.prototype=u.prototype,new s)});Object.defineProperty(g,"__esModule",{value:!0}),g.Menu=void 0;var m=y(1),_=y(0),h=y(30),d=function(p){function u(s,l){var r=p.call(this,s,(0,m.extend)({$name:"menu"},l))||this;return r.mount(s,(0,_.create)({render:function(){return r._draw()}})),r}return w(u,p),u.prototype._getFactory=function(){return(0,h.createFactory)({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"menu-nav"})},u.prototype._draw=function(){return(0,_.el)("ul.dhx_widget",{"data-dhx-widget-id":this._uid,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,onkeydown:this._handlers.onkeydown,class:"dhx_menu-nav "+(this.config.css?this.config.css:"")},this._drawMenuItems(this.data.getRoot(),!1))},u}(h.Navbar);g.Menu=d},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Exporter=void 0;var w=y(2),m=function(){function _(h,d,p){this._name=h,this._version=d,this._view=p}return _.prototype.pdf=function(h){this._rawExport(h,"pdf",this._view)},_.prototype.png=function(h){this._rawExport(h,"png",this._view)},_.prototype._rawExport=function(h,d,p){var u=this;if(h===void 0&&(h={}),h.url=h.url||"https://export.dhtmlx.com/"+this._name+"/"+d+"/"+this._version,d==="pdf"){var s=h.pdf||{};h.pdf=b(b({},s),{printBackground:!1})}var l="",r=p.config.exportStyles;(typeof h.exportStyles=="boolean"||Array.isArray(h.exportStyles))&&(r=h.exportStyles),r===!0?l="".concat((0,w.getPageLinksCss)(),"<style>").concat((0,w.getPageInlineCss)(),"</style>"):r.length&&(l="".concat((0,w.getPageLinksCss)(r)));var a=`
				`.concat(l,`
				`).concat(p.getRootView().node.el.parentNode.innerHTML,`
			`).replace(/(src|href)=("(.+?\.(jpeg|jpg|png|apng|gif|svg|bmp|ico))")/gm,function(n){if(n.includes("://"))return n;var e=n.replace(/(src|href)="/,"").replace('"',"");return/(src|href)="/.exec(n)[0]+u._normalizeLink(e)+'"'}),i=document.createElement("form");i.setAttribute("method","POST"),i.setAttribute("action",h.url),i.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',i.childNodes[0].value=a,i.childNodes[1].value=JSON.stringify(h),document.body.appendChild(i),i.submit(),setTimeout(function(){i.parentNode.removeChild(i)},100)},_.prototype._normalizeLink=function(h){var d=window.location.pathname.split("/");return d[0]===""&&(d.shift(),d.pop()),window.location.origin+"/"+d.join("/")+(h[0]!=="/"?"/"+h:h)},_}();g.Exporter=m},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)},w=this&&this.__spreadArray||function(h,d,p){if(p||arguments.length===2)for(var u,s=0,l=d.length;s<l;s++)!u&&s in d||(u||(u=Array.prototype.slice.call(d,0,s)),u[s]=d[s]);return h.concat(u||Array.prototype.slice.call(d))};Object.defineProperty(g,"__esModule",{value:!0}),g.Selection=void 0;var m=y(27),_=function(){function h(d,p){var u=this;this._selected=[],this._selectedLines=[],this.events=p,this._data=d,this._data.events.on(m.DataEvents.removeAll,function(){return u.clear()}),this._data.events.on(m.DataEvents.afterRemove,function(s){var l=s.id;return u.remove({id:l})})}return h.prototype.add=function(d){var p,u=d.id,s=d.join,l=s!==void 0&&s,r=d.batch,a=r===void 0?[]:r,i=this._data.getItem(u);if((i==null?void 0:i.type)==="$sgroup"&&(u=i.$group),!i||this.includes({id:u})||!l&&!this.remove()||!this.events.fire(m.SelectionEvents.beforeSelect,[{id:u,join:l,batch:a}]))return!1;var n=i.$item.getBaseType();if(!this.includes({id:u})){var e=n!=="line"||n==="line"&&l&&this._selected.length;this._data.update(u,{$selected:e},!0),n==="line"&&this._selectedLines.push(u),this._selected.length&&this._selectedLines.length&&!(!((p=this._data.getItem(this._selectedLines[0]))===null||p===void 0)&&p.$selected)&&this._data.update(this._selectedLines[0],{$selected:!0},!0),this._selected.push(u)}return this.events.fire(m.SelectionEvents.afterSelect,[{id:u,join:l,batch:a}]),!0},h.prototype.remove=function(d){var p=this;if(!d){var u=w([],this._selected,!0);return u.map(function(s){return p.unselect({id:s,batch:u})}).every(function(s){return s})}return!!this.includes(b({},d))&&this.unselect(d)},h.prototype.includes=function(d){var p=d.id;return this._selected.includes(p)},h.prototype.getItem=function(d){var p=this._selected[this._selected.length-1];return d&&this.includes({id:d.id})&&(p=d.id),this._data.getItem(p)},h.prototype.getIds=function(){return this._selected},h.prototype.clear=function(){this._data&&this._data.forEach(function(d){d.$selected&&delete d.$selected}),this._selected=[],this._selectedLines=[]},h.prototype.unselect=function(d){var p=d.id,u=d.batch,s=u===void 0?[]:u;return!!this.events.fire(m.SelectionEvents.beforeUnSelect,[{id:p,batch:s}])&&(this._selected=this._selected.filter(function(l){return l!==p}),this._data.update(p,{$selected:void 0},!0),this._selectedLines.some(function(l){return l==p})&&(this._selectedLines=this._selectedLines.filter(function(l){return l!==p})),this._selected.length===1&&this._selectedLines.length===1&&this._data.update(this._selectedLines[0],{$selected:void 0},!0),this.events.fire(m.SelectionEvents.afterUnSelect,[{id:p,batch:s}]),!0)},h}();g.Selection=_},function(H,g,y){var b,w=this&&this.__extends||(b=function(h,d){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,u){p.__proto__=u}||function(p,u){for(var s in u)Object.prototype.hasOwnProperty.call(u,s)&&(p[s]=u[s])},b(h,d)},function(h,d){if(typeof d!="function"&&d!==null)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function p(){this.constructor=h}b(h,d),h.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(g,"__esModule",{value:!0}),g.ImgCard=void 0;var m=y(0),_=function(h){function d(){return h!==null&&h.apply(this,arguments)||this}return w(d,h),d.prototype.setDefaults=function(p,u){var s=p.width,l=p.height,r=p.text,a=p.title,i=p.headerColor,n=p.fixed,e=u.width?parseFloat(u.width):210,t=u.height?parseFloat(u.height):90;return p.width=s||e,p.height=l||t,p.title=typeof a=="string"?a:u.title||"",p.text=typeof r=="string"?r:u.text||"",p.headerColor=i||u.headerColor||"",p.fixed=n||!1,p.editable=typeof p.editable!="boolean"||p.editable,p},d.prototype.getCss=function(){return"dhx_diagram_shape_card-img "+h.prototype.getCss.call(this)},d.prototype.getContent=function(){var p=this.config,u=p.img,s=p.headerColor,l=p.title,r=p.text,a=p.$editable,i=p.width,n=u?"".concat(u):null;return[(0,m.el)("img.dhx_diagram_item__image",{style:{backgroundColor:u?null:s},src:n}),(0,m.el)("div.dhx_diagram_item__title",a&&this.editableProperty.key==="title"?[this.getEditorNode()]:l),(0,m.el)("div.dhx_diagram_item__text",{style:{maxWidth:i-80,marginLeft:80,marginTop:l?null:"12px"}},a&&this.editableProperty.key==="text"?[this.getEditorNode()]:r)]},d}(y(89).Card);g.ImgCard=_},function(H,g,y){var b,w=this&&this.__extends||(b=function(s,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},b(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function r(){this.constructor=s}b(s,l),s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)}),m=this&&this.__assign||function(){return m=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.TextShape=void 0;var _=y(0),h=y(2),d=y(28),p=y(19),u=function(s){function l(r,a){var i=s.call(this,r,a)||this;return i.data=a.data,i}return w(l,s),l.prototype.render=function(){var r=this.getCoords(this.config),a=this.config,i=a.id,n=a.angle,e=a.text,t=a.fontSize,o=a.lineHeight,c=a.fontWeight,f=a.fontStyle,v=a.width,x=a.height,k={fontSize:"".concat(t,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(o,"px"),fontWeight:c,fontStyle:f};if(this._prevValue&&this.config.text!==this._prevValue){var S=(0,h.getStrSize)(e,k);this.data.update(this.id,{height:S.height+2,width:S.width+4})}this._prevValue=this.config.text;var O=this.config.$group||this.config.$selected?this.config.$selected?2:1:0;return(0,_.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_text",{_key:i,class:this.getCss(),"data-dhx-id":i,style:{zIndex:O,width:v,height:x,position:"absolute",top:r.y,left:r.x,transform:"rotate(".concat(n||0,"deg)")}},[].concat((0,p.getTextTemplate)(this.config,this.getContent())))},l.prototype.setDefaults=function(r,a){var i=r.width,n=r.height,e=r.fontColor,t=r.fontSize,o=r.fontStyle,c=r.textAlign,f=r.lineHeight,v=r.textVerticalAlign,x=r.text,k=r.fontWeight,S=r.x,O=r.y,P=r.fixed,T=r.editable,j=a.lineHeight?parseFloat(a.lineHeight):14,$=a.fontSize?parseFloat(a.fontSize):14,I={fontSize:"".concat(t||$,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(f||j,"px"),fontWeight:k,fontStyle:o},F=(0,h.getStrSize)(x,I),E=a.width?parseFloat(a.width):F.width+4,V=a.height?parseFloat(a.height):F.height+2;return r.width=i||E,r.height=n||V,r.lineHeight=f||j,r.fontSize=t||$,r.text=x||a.text||"",r.fontColor=e||a.fontColor||"#4C4C4C",r.textAlign=c||a.textAlign||"center",r.fontStyle=o||a.fontStyle||"normal",r.textVerticalAlign=v||a.textVerticalAlign||"center",r.x=S||0,r.y=O||0,r.fixed=P||!1,r.editable=typeof T!="boolean"||T,r},l.prototype.getContent=function(){var r=this.config,a=r.$editable,i=r.text;return(0,_.el)("span.dhx_diagram_item__text",{style:m({},(0,p.getShapeCss)(this.config))},a?[this.getEditorNode()]:i)},l}(d.BaseShape);g.TextShape=u},function(H,g,y){var b,w=this&&this.__extends||(b=function(l,r){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},b(l,r)},function(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=l}b(l,r),l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}),m=this&&this.__assign||function(){return m=Object.assign||function(l){for(var r,a=1,i=arguments.length;a<i;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n]);return l},m.apply(this,arguments)},_=this&&this.__spreadArray||function(l,r,a){if(a||arguments.length===2)for(var i,n=0,e=r.length;n<e;n++)!i&&n in r||(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return l.concat(i||Array.prototype.slice.call(r))};Object.defineProperty(g,"__esModule",{value:!0}),g.TopicShape=void 0;var h=y(0),d=y(2),p=y(28),u=y(19),s=function(l){function r(a,i){var n=l.call(this,a,i)||this;return n.data=i.data,n}return w(r,l),r.prototype.render=function(){var a=this,i=this.getCoords(this.config),n=this.config,e=n.id,t=n.angle,o=n.width,c=n.height,f=n.fontSize,v=n.lineHeight,x=n.fontWeight,k=n.fontStyle,S=n.text,O=n.strokeWidth,P=n.$group,T=n.$selected,j=P||T?T?2:1:0,$={fontSize:"".concat(f,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(v,"px"),fontWeight:x,fontStyle:k,strokeWidth:O};if(this._oldText&&this.config.text!==this._oldText){var I=(0,d.getStrSize)(S,$),F=I.width+16,E=I.height+8;this.data.update(this.id,{height:E>30?E:30,width:F>60?F:60})}this._oldText=this.config.text;var V=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(z,X){V.push((0,u.getCircleTpl)(a.config,X))}):V.push((0,u.getCircleTpl)(this.config)),(0,h.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_topic",{_key:e,"data-dhx-id":e,class:this.getCss(),style:{position:"absolute",width:o,height:c,left:i.x,top:i.y,transform:"rotate(".concat(t||0,"deg)"),zIndex:j}},[].concat.apply([],_([(0,u.getTextTemplate)(this.config,this.getContent())],V,!1)))},r.prototype.getContent=function(){var a=this.config,i=a.height,n=a.width,e=a.strokeWidth,t=a.strokeType,o=a.fill,c=a.stroke,f=a.text,v=a.$editable,x="none";return t!=="line"&&t||(x="solid"),t==="dash"&&(x="dashed"),[(0,h.el)("div.dhx_diagram_item__text",{style:m({height:i,width:n,border:"".concat(e,"px ").concat(x," ").concat(c||"#03A9F4"),background:o,borderRadius:"".concat(i/2)},(0,u.getShapeCss)(this.config))},v?[this.getEditorNode()]:f)]},r.prototype.setDefaults=function(a,i){var n=a.width,e=a.height,t=a.fontColor,o=a.fontSize,c=a.fontStyle,f=a.textAlign,v=a.lineHeight,x=a.textVerticalAlign,k=a.text,S=a.fontWeight,O=a.x,P=a.y,T=a.fill,j=a.strokeWidth,$=a.stroke,I=a.strokeType,F=a.fixed,E=a.editable,V=i.lineHeight?parseFloat(i.lineHeight):14,z=i.fontSize?parseFloat(i.fontSize):14,X=i.strokeWidth?parseFloat(i.strokeWidth):1;a.lineHeight=v||V,a.fontSize=o||z,a.text=k||i.text||"",a.fill=T||i.fill||"#fff",a.fontColor=t||i.fontColor||"#4C4C4C",a.textAlign=f||i.textAlign||"center",a.fontStyle=c||i.fontStyle||"normal",a.textVerticalAlign=x||i.textVerticalAlign||"center",a.strokeWidth=j||X,a.stroke=$||i.stroke,a.strokeType=I||i.strokeType||"line";var Y={fontSize:"".concat(o||z,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(v||V,"px"),fontWeight:S,fontStyle:c,strokeWidth:a.strokeWidth},U=(0,d.getStrSize)(k,Y),A=i.width?parseFloat(i.width):U.width+24,M=i.height?parseFloat(i.height):U.height+12;return a.height=M>30||e>30?e||M:30,a.width=A>60||n>60?n||A:60,a.x=O||0,a.y=P||0,a.fixed=F||!1,a.editable=typeof E!="boolean"||E,a},r}(p.BaseShape);g.TopicShape=s},function(H,g,y){var b,w=this&&this.__extends||(b=function(s,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},b(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function r(){this.constructor=s}b(s,l),s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)});Object.defineProperty(g,"__esModule",{value:!0}),g.Toolbar=void 0;var m=y(0),_=y(2),h=y(27),d=y(5),p=y(21),u=function(s){function l(r,a){var i=s.call(this,null,{height:50,iconWidth:30,gap:16,icons:a})||this;return i.events=r,i._handlers={onclick:(0,_.eventHandler)(function(n){return(0,_.locate)(n)},{dhx_diagram_toolbar__icon:function(n,e){i.events.fire(h.DiagramEvents.shapeIconClick,[e,n])}}),tooltip:(0,_.eventHandler)(function(n){return(0,_.locate)(n)},{dhx_diagram_toolbar__icon:function(n,e){var t=(0,_.locateNode)(n);if(t){var o=a.find(function(c){return c.id===e});o!=null&&o.tooltip&&(0,p.tooltip)(o.tooltip,{node:t,position:p.Position.top})}}})},i}return w(l,s),l.prototype.render=function(r,a,i){if(r){var n=this.config,e=this._getIcons(r,n.icons),t=n.iconWidth*e.length+n.gap,o=this._getCoords(r,{width:t/a.scale,height:n.height/a.scale,x:i==null?void 0:i.x,y:i==null?void 0:i.y});return(0,m.el)("div",{class:"dhx_diagram_toolbar",style:{display:this._hidden||!e.length?"none":"block",maxHeight:this.config.height,width:t,top:(o.y-a.top)*a.scale,left:(o.x-a.left)*a.scale},onclick:this._handlers.onclick,onmouseover:this._handlers.tooltip},[(0,m.el)("div.dhx_diagram_toolbar__wrapper",e)])}},l.prototype.hide=function(){this._hidden=!0,this.paint()},l.prototype.show=function(){this._hidden=!1,this.paint()},l.prototype._getIcons=function(r,a){for(var i=[],n=0;n<a.length;n++){var e=a[n];if(!e.check||e.check(r)){var t=e.css?e.css(r):"",o={_key:e.id,class:"dhx_diagram_toolbar__icon "+t,"data-dhx-id":e.id},c=typeof e.content=="function"?e.content(r):e.content;typeof c=="string"?(o[".innerHTML"]=c,i.push((0,m.el)("div",o))):i.push((0,m.el)("div",o,[c]))}}return i},l.prototype._getCoords=function(r,a){var i,n,e=a.width,t=a.height,o=a.x,c=a.y;if(Array.isArray(r)){var f=r.map(function(v){return v.$item.getBox()});n={},f.forEach(function(v){for(var x in v)(isNaN(n[x])||(x==="top"||x==="left")&&v[x]<n[x]||(x==="bottom"||x==="right")&&v[x]>n[x])&&(n[x]=v[x])})}else{if(((i=r.$item)===null||i===void 0?void 0:i.getBaseType())==="line"&&!r.$subSelected)return{x:o+25,y:c-t/2};n=r.$item.getBox()}return{x:n.right/2+n.left/2-e/2,y:n.top-t-8}},l}(d.View);g.Toolbar=u},function(H,g,y){var b=this&&this.__spreadArray||function(f,v,x){if(x||arguments.length===2)for(var k,S=0,O=v.length;S<O;S++)!k&&S in v||(k||(k=Array.prototype.slice.call(v,0,S)),k[S]=v[S]);return f.concat(k||Array.prototype.slice.call(v))};Object.defineProperty(g,"__esModule",{value:!0});var w=y(192),m=y(193),_=y(194),h=function(){function f(){}return f.prototype.layout=function(v,x){if(v.routes=new m.default,!x.full){var k=d(v,x);return x.preserveLocation||u(k.n,k.size),l(k.mx,k.n,k.n,k.size),k.n,v.setGlobalBox(),v}var S=(0,_.split)(v);if(S.length==1&&S[0].root!==null)return new w.default().layout(S[0].g,x);(v=S[0].g).routes=new m.default;var O,P,T,j,$,I=d(v,x);return x.preserveLocation||u(I.n,I.size,function(F,E){if(!E)return F[0].g.getNodes()[0].id;var V=E;if(F[0].g.getNodes().find(function(X){return X.id===E}))return V;for(var z=1;z<F.length;z++)if(F[z].g.getNodes().find(function(X){return X.id===E})){V=F[z].root;break}return V}(S,x.root)),l(I.mx,I.n,I.n,I.size),I.n,x.full&&(function(F,E,V,z){V.length,V.forEach(function(A){return A.iss=""});var X=[].concat(V).filter(function(A){return A.links.length>=3}).sort(function(A,M){return A.links.length>M.links.length?-1:A.links.length==M.links.length?0:1});if(X.map(function(A){var M=[];return A.links.forEach(function(R){var W=Math.atan2(R.x-A.x,R.y-A.y)+Math.PI,Q=Math.ceil(W/(2*r))*2*r,Z=Math.floor(W/(2*r))*2*r;M.push([R,Q,Math.abs(W-Q)]),M.push([R,Z,Math.abs(W-Z)])}),M.sort(function(R,W){return R[2]>W[2]?1:-1}),[A,M]}).forEach(function(A){var M=A[0],R=A[1],W=M.x,Q=M.y;M.x=Math.round(M.x/z)*z,M.y=Math.round(M.y/z)*z;for(var Z=0;Z<R.length;Z++){var B=R[Z],K=B[0];if(!F.getRoute(M.id,K.id)){var J=i(M,K,B[1],z,W,Q),tt=J[0],nt=J[1],rt=J[2],lt=J[3];F.hasRoute(M.id,rt,lt)||F.isAligned(K.id)||(K.x+=tt,K.y+=nt,F.addRoute(M.id,K.id,rt,lt))}}}),l(E,V,V.filter(function(A){return!F.isAligned(A.id)}),z),X.forEach(function(A){F.isAligned(A.id)||(A.x=Math.round(A.x/z)*z,A.y=Math.round(A.y/z)*z),A.links.forEach(function(M){M.links.length==2&&a(A,M,F,z)})}),X.length===0){var Y=V[0],U=V[0].links[0];U.x=Math.round(U.x/z)*z,U.y=Math.round(U.y/z)*z,a(Y,U,F,z)}}(v.routes,I.mx,I.n,I.size),O=v,P=I.mx,T=S.slice(1).sort(c),j=I.size,$=O.getNodes().length,T.forEach(function(F){var E=F.g,V=F.root;new w.default().layout(E,{root:E.getNodes()[0].id});var z=function(Y,U,A,M,R,W,Q){return U.map(function(Z){if(!Z[2]&&!Z[3]&&A.routes.hasRoute(R,Z[0],Z[1]))return null;var B=M.copy(),K=A.copy(),J=B.getRoot(),tt=K.hash[R];B.rotate({x:-Z[0],y:Z[1]});var nt=B.getBox(),rt=nt[0][1]-nt[0][0],lt=nt[1][1]-nt[1][0];(function(ut,at,ht,pt,gt,vt,_t,N){var dt,bt,xt=at.x+(N[2]||N[0])*_t,Dt=at.y+(N[3]||N[1])*_t;if(o(ut,xt-_t/2,xt+_t/2,Dt-_t/2,Dt+_t/2))t(ut,xt-_t/2*N[0],Dt-_t/2*N[1],ht,pt,N,_t);else{var Mt,Ct,It,wt,Ft=(N[0]?ht:pt)/_t-1;if(!(Ft<=0)){var Rt=.45*_t;N[0]?(Ct=(Mt=xt+_t/2*N[0])+ht*N[0],wt=(It=Dt-pt/2-Rt-vt)+pt+2*Rt):(Ct=(Mt=xt-ht/2-Rt-gt)+ht+2*Rt,wt=(It=Dt+_t/2*N[1])+pt*N[1]),It>wt&&(It=(dt=[wt,It])[0],wt=dt[1]),Mt>Ct&&(Mt=(bt=[Ct,Mt])[0],Ct=bt[1]),o(ut,Mt,Ct,It,wt)&&t(ut,xt,Dt,ht,pt,N,_t)}}})(K,tt,rt,lt,J.x-nt[0][0]-rt/2,J.y-nt[1][0]-lt/2,W,Z),function(ut,at,ht,pt,gt,vt){var _t=ht.x+gt*(vt[0]||vt[2])-pt.x,N=ht.y+gt*(vt[1]||vt[3])-pt.y;at.translate({x:_t,y:N}),ut.importNodes(at.getNodes())}(K,B,tt,J,W,Z);var ct=function(ut,at){for(var ht,pt,gt=at.length,vt=0,_t=0;_t<gt;_t++){ht=0,pt=0;for(var N=at[_t],dt=ut[N.isn],bt=0;bt<gt;bt++)if(N.isn!=bt){var xt=at[bt],Dt=dt[xt.isn],Mt=.5/(Dt*Dt),Ct=N.x-xt.x,It=N.y-xt.y,wt=Math.sqrt(Math.pow(Ct,2)+Math.pow(It,2));wt&&(ht+=Mt*(Ct-Dt*Ct/wt),ht+=Mt*(It-Dt*It/wt))}vt+=Math.sqrt(Math.pow(ht,2)+Math.pow(pt,2))}return vt}(Y,K.getNodes().slice(0,Q));return{g:K,s:ct,dir:Z}}).reduce(function(Z,B){return!Z||B&&B.s<Z.s?B:Z})}(P,e,O,E,V,j,$);if(z){O=z.g;var X=E.getRoot().id;return z.dir[2]||z.dir[3]||O.routes.addRoute(V,E.getRoot().id,z.dir[0],z.dir[1]),O.hash[V].links.push(O.hash[X]),void O.hash[X].links.push(O.hash[V])}console.log("Can't position sub tree")}),v=O),v.setGlobalBox(),v},f}();function d(f,v){var x=f.getNodes(),k=0;x.forEach(function(O,P){O.isn=P,k+=O.w+O.h}),k=Math.round(k/(2*x.length)),v.itemPadding?k+=v.itemPadding:k*=2;var S=function(O){for(var P=[],T=O.getNodes(),j=0;j<T.length;j++){var $=P[j]=[];$[T[j].isn]=0,p(T[j],$,j,1)}return P}(f);return{n:x,mx:S,size:k}}function p(f,v,x,k){for(var S=[f],O=[];S.length;){for(var P=0;P<S.length;P++)for(var T=S[P],j=0;j<T.links.length;j++){var $=T.links[j],I=$.isn;I==x||v[I]||(v[I]=k,O.push($))}k++,S=O,O=[]}}function u(f,v,x){var k=f.findIndex(function(T){return T.id===x});k>0&&f.unshift.apply(f,f.splice(k,1));var S=2*Math.PI/f.length,O=0,P=5*v;f.forEach(function(T,j){T.x=Math.round(Math.cos(O)*P),T.y=Math.round(Math.sin(O)*P),O+=S}),k>0&&f.splice.apply(f,b([k,0],f.splice(0,1),!1))}function s(f,v,x,k){for(var S,O,P=0,T=0,j=0,$=0,I=v.length,F=x.length,E=0;E<F;E++){S=0,O=0;for(var V=x[E],z=f[V.isn],X=0;X<I;X++)if(V.isn!=X){var Y=.5/((tt=z[(J=v[X]).isn])*tt),U=V.x-J.x,A=V.y-J.y;(nt=Math.sqrt(Math.pow(U,2)+Math.pow(A,2)))&&(S+=Y*(U-k*tt*U/nt),O+=Y*(A-k*tt*A/nt))}var M=Math.sqrt(Math.pow(S,2)+Math.pow(O,2));M>T&&(P=V.isn,T=M,j=S,$=O)}var R,W=0,Q=0,Z=0,B=v[P],K=f[P];for(X=0;X<I;X++)if(P!=X){Y=.5/((tt=K[(J=v[X]).isn])*tt);var J,tt,nt,rt=(U=B.x-J.x)*U,lt=(A=B.y-J.y)*A;(nt=Math.sqrt(Math.pow(rt+lt,3)))&&(W+=Y*(1-k*tt*lt/nt),Q+=Y*k*tt*A*U/nt,Z+=Y*(1-k*tt*rt/nt))}return[P,T,R=(-j/W+Q*$/(Z*W))/(1+Q*Q/(Z*W)),(-$-Q*R)/Z]}function l(f,v,x,k){for(var S=0;S++<100;){var O=s(f,v,x,k),P=O[0],T=O[1],j=O[2],$=O[3];if(T<10)break;v[P].x+=j,v[P].y+=$}}g.default=h;var r=Math.PI/4;function a(f,v,x,k){for(;;){var S=v.links[0];if(S==f&&(S=v.links[1]),f=v,(v=S).links.length>2)break;for(var O=Math.atan2(v.x-f.x,v.y-f.y)+Math.PI,P=2*Math.ceil(O/(2*r))*r,T=2*Math.floor(O/(2*r))*r,j=Math.abs(O-P)<Math.abs(O-T)?[P,T]:[T,P],$=0;$<j.length;$++){var I=i(f,v,j[$],k,f.x,f.y),F=I[0],E=I[1],V=I[2],z=I[3];if(!x.hasRoute(f.id,V,z)){if(x.isAligned(v.id))return;v.x+=F,v.y+=E,x.addRoute(f.id,v.id,V,z);break}}}}function i(f,v,x,k,S,O){return x<=r||x>7*r?[f.x-v.x,n(f.y,v.y,O,k),0,-1]:x<=3*r&&x>r?[n(f.x,v.x,S,k),f.y-v.y,-1,0]:x<=5*r&&x>3*r?[f.x-v.x,n(f.y,v.y,O,k),0,1]:[n(f.x,v.x,S,k),f.y-v.y,1,0]}function n(f,v,x,k){var S=Math.sign(x-v);return f-v-(Math.round((x-v)/k)||S)*k}var e=[[0,1,0,0],[1,0,0,0],[-1,0,0,0],[0,-1,0,0]].concat([[0,1,-1,1],[-1,0,-1,1],[0,1,1,1],[1,0,1,1],[1,0,1,-1],[0,-1,1,-1],[-1,0,-1,-1],[0,-1,-1,-1]]);function t(f,v,x,k,S,O,P){f.getNodes().forEach(function(T){O[1]?Math.sign(T.y-x)==O[1]&&(T.y+=(S+P/2)*O[1]):O[0]&&Math.sign(T.x-v)==O[0]&&(T.x+=(k+P/2)*O[0])})}function o(f,v,x,k,S){for(var O=f.getNodes(),P=0;P<O.length;P++){var T=O[P];if(T.x>=v&&T.x<=x&&T.y>=k&&T.y<=S)return!0}return!1}function c(f,v){var x=f.g.getNodes().length,k=v.g.getNodes().length;return x>k?-1:x===k?0:1}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0});var b=y(92),w=y(56),m=function(){function _(){this._step=0}return _.prototype.layout=function(h,d){h.root(h.toTree(h.hash[d.root]));var p=h.getNodes();d.levelPadding=d.levelPadding||this._getStep(p),d.itemPadding=d.itemPadding||this._getStep(p),d.dir=d.dir||b.Direction.Bottom,d.rotate=d.dir===b.Direction.Right||d.dir===b.Direction.Left;var u=b.DirVectors[d.dir];this._layout(h,d),h.setBox(),d.dir!==b.Direction.Bottom&&h.rotate(u);var s=h.getBox();return h.translate({x:-1*s[0][0],y:-1*s[1][0]}),h.setBox(),h},_.prototype._layout=function(h,d){var p=this,u=h.getRoot();if(u.x=u.y=0,h.getLevels().length==1)return h._symmetry=!0,"0";var s=u.kids.map(function(o){return new w.default(h,o,d)}),l={};s.forEach(function(o){var c=p._layout(o,d);l[c]?l[c].push(o):l[c]=[o]});for(var r=Object.keys(l).sort(function(o,c){var f=l[o][0],v=l[c][0],x=f._width,k=v._width;if(x>k)return-1;if(x<k)return 1;var S=f.getLevels().length,O=v.getLevels().length;return S>O?-1:S<O||o<c?1:-1}),a=0,i=0,n=0;n<r.length;n++)l[r[n]].length%2==1&&(a++,i=n);var e=!1,t=!1;return a==1?(l[r[i]][0]._symmetry&&(t=!0),e=!0,i!==0&&(r.unshift(r[i]),r.splice(i+1,1))):a===0&&(t=!0),h._symmetry=t,this._layout_place(h,l,r,e,d),h.getIString()},_.prototype._layout_place=function(h,d,p,u,s){for(var l={x:0,y:s.levelPadding},r=!0,a=0;a<p.length;a++)d[p[a]].forEach(function(i){if(u){u=!1,i.translate(l);for(var n=0,e=0,t=i.getLevelBounds(),o=0;o<t.length;o++){var c=t[o],f=c[0],v=c[1];h._bounds[o+1]=[f,v],f<n&&(n=f),v>e&&(e=v)}h._tbounds=[n,e]}else{var x=r?1:0,k=r?0:1;r&&i.mirror();var S=void 0,O=void 0;O=S=999999*(r?-1:1);for(var P=s.itemPadding,T=0;T<i._bounds.length;T++){var j=h.getBounds(T+1,P,s.wide)[x]-i.getBounds(T,P,s.wide)[k];(r&&j>O||!r&&j<O)&&(O=j)}i.translate({x:O,y:l.y});for(var $=0;$<h._bounds.length;$++){var I=void 0;I=$==0||$>i._bounds.length?h._bounds[$][x]:h._bounds[$][x]=i._bounds[$-1][x],(r&&I>S||!r&&I<S)&&(S=I)}h._tbounds[x]=S,r=!r}})},_.prototype._getStep=function(h){if(this._step===0){var d=h.length,p=0;h.forEach(function(u){return p+=u.w+u.h}),this._step=p/d}return this._step},_}();g.default=m},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0});var b=[1,2,4,8,0,16,32,64,128],w=function(){function m(){this._map={}}return m.prototype.getRoute=function(_,h){var d=this._map[_];return d&&d.map[h]||null},m.prototype.addRoute=function(_,h,d,p){this.addPath(_,h,d,p),this.addPath(h,_,-d,-p)},m.prototype.hasRoute=function(_,h,d){var p=this._map[_];return!!p&&(p.dir&this._code(h,d))>0},m.prototype.isAligned=function(_){return!!this._map[_]},m.prototype.isAxisAligned=function(_,h,d){var p=this._map[_];if(!p)return null;for(var u in p.map){var s=p.map[u];if(h&&s.dy||d&&s.dx)return!1}return!0},m.prototype.addPath=function(_,h,d,p,u){var s=this._map[_];s||(s=this._map[_]={map:{},dir:0}),s.map[h]={dx:d,dy:p,points:u},s.dir=s.dir|this._code(d,p)},m.prototype._code=function(_,h){return b[Math.sign(_)+1+3*(Math.sign(h)+1)]},m}();g.default=w},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.split=void 0;var b=y(56);function w(m,_){var h=new b.default;return h.importNodes(m),{g:h,root:_}}g.split=function(m){var _=m.getNodes();if(_.length<3)return[{g:m}];for(var h=_[0],d=[],p=_.length+1;p!=_.length;)p=_.length,_=_.filter(function(r){if(r.links.length==1){var a=m.hash[r.links[0].id];return a&&(a.links=a.links.filter(function(i){return i.id!=r.id})),d.push(r),!1}return!0});if(_.length<2)return d.filter(function(r){return r.links.length>0}).forEach(function(r){r.links[0].links.push(r)}),m.root(m.toTree(h)),[{g:m}];var u={};d.forEach(function(r){return u[r.id]=r});var s=d.filter(function(r){return!u[r.links[0].id]}).map(function(r){return[r]});d.forEach(function(r){var a=u[r.links[0].id];a&&a.links.push(r)});var l=s.map(function(r){for(var a,i=0;a=r[i++];){var n=a.links.length;if(n>1)for(var e=1;e<n;e++){var t=a.links[e];r.push(t)}}var o=r[0].links.splice(0,1)[0].id;return w(r,o)});return[w(_,null)].concat(l)}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.compose=void 0,g.compose=function(b,w){if(b.length<2)return b[0]||null;var m=b[0].getBox(),_=w.padding,h=b.reduce(function(d,p){var u=p.getBox();return p.translate({x:m[0][1]-u[0][0]+_,y:m[1][0]-u[1][0]}),d.importNodes(p.getNodes()),_+=w.padding+u[0][1]-u[0][0],d});return b.length&&h.setGlobalBox(),h}},function(H,g,y){function b(w,m){m[w.id]=1,w.links.forEach(function(_){m[_.id]||b(_,m)})}Object.defineProperty(g,"__esModule",{value:!0}),g.decompose=void 0,g.decompose=function(w){for(var m=[],_=function(){var d={},p=w.getNodes();if(!p.length)return{value:m};b(p[0],d);var u=w.split(function(s){return!d[s.id]});if(m.push(w),!u)return{value:m};w=u};;){var h=_();if(typeof h=="object")return h.value}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.placeMindmap=void 0;var w=y(1),m=y(39),_=y(93);function h(a){var i=[];return a.forEach(function(n){n.forEach(function(e){!i.includes(e)&&e&&i.push(e)})}),i}function d(a,i){var n=[];return function e(t){return t.forEach(function(o){var c=a.getItem(o[1]);if(c.$connection)e(c.$connection);else{var f=c.parent&&c.parent.toString()||a.getItem(a.getId(0)).id,v=[];for(v.push(c.id.toString());f;)v.push(f.toString()),f=a.getItem(f).parent;v.reverse(),n.push(v)}}),n}(i),n}function p(a,i,n,e,t,o){var c=h(a),f=0,v=i.margin,x=v.itemX,k=v.itemY,S=a.map(function(P){var T=[],j=[],$=e;P.forEach(function(E){if(t)(V=b({},n.getItem(E))).parent&&($-=+x+ +V.width),T.push($),j.push(f);else{var V=b({},n.getItem(E));T.push($),j.push(f),$+=+x+ +V.width}});var I=P.map(function(E,V){var z=b({},n.getItem(E));return z._x=T[V],z._y=j[V],z}),F=function(E,V){for(var z,X=0,Y=0;Y<E.length;Y++){var U=(z=V.getItem(E[1]))===null||z===void 0?void 0:z.height;U&&U>X&&(X=U)}return X}(P,n);return f+=k+F,I}),O=c.map(function(P){var T=[];S.forEach(function(I){var F=I.find(function(E){return E.id===P},!0);F&&T.push({x:F._x,y:F._y})});var j=T[0].x,$=T.reduce(function(I,F){return I+F.y},0)/T.length;return{id:P,x:j,y:$}});o.push(O[0]),c.forEach(function(P,T){if(P){var j=n.getItem(P);j.x=O[T].x,j.y=O[T].y,delete j._x,delete j._y}})}function u(a,i,n){h(a).forEach(function(e){e&&n.getIndex(e)!==0&&(n.getItem(e).y+=i)})}var s=function(a,i,n){return n.indexOf(a)===i};function l(a,i){var n=i.map(function(e){var t=!1;return e.map(function(o){if(!t)return a.getItem(o).open===!1&&(t=!0),o}).filter(function(o){return o})});return n.map(function(e){return JSON.stringify(e)}).filter(s).map(function(e){return JSON.parse(e)})}function r(a,i,n,e,t,o){if(o){var c=l(a,d(a,n));return e=function(v,x,k){var S=[];return v.forEach(function(O){S.push(function(P,T,j){var $=[];return P.length>1&&P.forEach(function(I,F){var E=T.getItem(I);F!==0&&!E.hidden&&T.getItem(E.parent).open&&$.push(E.width+j.margin.itemX)}),$.length||$.push(0),$.reduce(function(I,F){return I+F})}(O,x,k))}),Math.max.apply(Math,S)}(c,a,i),p(c,i,a,e,!0,t),{allLeftBranches:c,leftBranchWidth:e}}var f=l(a,d(a,n));return p(f,i,a,e,!1,t),{allRightBranches:f}}g.placeMindmap=function(a,i){var n=a.getRoots();if(n.length===1){var e=a.getItem(n[0]);if(e!=null&&e.$connection){var t,o,c=function(O,P,T){var j,$,I=T.typeConfig,F=O.$connection,E=[],V=[],z=((j=I==null?void 0:I.side)===null||j===void 0?void 0:j.hasOwnProperty("left"))&&I.side.left.length,X=(($=I==null?void 0:I.side)===null||$===void 0?void 0:$.hasOwnProperty("right"))&&I.side.right.length;if(!I||(I==null?void 0:I.direction)!=="left"&&(I==null?void 0:I.direction)!=="right")if(I&&(z||X))F.forEach(function(U,A){z&&I.side.left.includes(U[1])?E.push(U):X&&I.side.right.includes(U[1])?V.push(U):A%2?E.push(U):V.push(U)});else{var Y=Math.floor(F.length/2);F.forEach(function(U,A){var M=P.getItem(U[1]);M.dir==="verticalLeft"?E.push(U):M.dir==="verticalRight"||A<Y?V.push(U):E.push(U)})}else F.forEach(function(U){I.direction==="left"?E.push(U):V.push(U)});return{leftTree:E,rightTree:V}}(e,a,i),f=c.leftTree,v=c.rightTree,x=[],k=0;[f,v].forEach(function(O,P){if(O.length)if(P===0){var T=r(a,i,O,k,x,!0);o=T.allLeftBranches,k=T.leftBranchWidth}else T=r(a,i,O,k,x),t=T.allRightBranches}),f.length&&v.length&&function(O,P,T,j,$){O[1]&&O[0].y>O[1].y?(u(P,O[0].y-O[1].y,j),$.y=O[0].y):O[1]&&O[0].y<O[1].y&&(u(T,O[1].y-O[0].y,j),$.y=O[1].y)}(x,t,o,a,e);var S=[];[f,v].forEach(function(O,P){if(O.length){var T=P===0?"verticalLeft":"verticalRight",j=T==="verticalLeft"?o:t;!S.includes(T)&&S.push(T),e.dir=S,O.forEach(function($){a.getItem($[1]).dir=T}),function($,I,F,E,V){$.forEach(function(z){var X=F.getItem(z),Y=X.$connection;X.id!==V.id&&(X.dir=I),Y&&(X.$count=Y.length,Y.forEach(function(U){if($.includes(U[1])){var A=F.getItem(U[1]),M=F.getItem(U[0]);M.connectType="curved",(0,m.directLinkPath)(M,X,A,E)}}))})}(h(j),T,a,i,e)}}),Array.isArray(e.dir)&&((0,w.isEmptyObj)(e.openDir)&&(e.openDir={}),e.dir.includes("verticalLeft")&&!Object.keys(e.openDir).includes("left")&&(e.openDir.left=e.open===void 0||e.open),e.dir.includes("verticalRight")&&!Object.keys(e.openDir).includes("right")&&(e.openDir.right=e.open===void 0||e.open),e.open===!1&&(e.openDir={right:!1,left:!1})),e.$connection.forEach(function(O){for(var P=a.getItem(O[1]).dir.toLowerCase(),T=0,j=Object.entries(e.openDir);T<j.length;T++){var $=j[T],I=$[0],F=$[1];P.includes(I)&&!F&&a.update(O[1],{hidden:!0},!0)}})}else e.x=0,e.y=0;(0,_.setHeaderColor)(a)}}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.placeOrgonogram=void 0;var b=y(39),w=y(93);function m(h,d,p,u,s){var l,r=d.$connection,a=d.$assistants,i=(l=d.$partners)===null||l===void 0?void 0:l.common;(d.dir==="vertical"&&(i==null?void 0:i.length)||d.$level===0&&(d.openDir||Array.isArray(d.dir))||d.dir==="verticalLeft"||d.dir==="verticalRight")&&(delete d.dir,delete d.openDir);var n=d.dir==="vertical",e=n?p.margin.itemX/2:0,t=0,o=0,c=0;if(r&&d.open!==!1&&!d.assistant&&!d.partner){for(var f=0,v=0;v<r.length;v++)if(!($=h.getItem(r[v][1])).hidden&&!$.assistant&&!$.partner){var x=m(h,$,p,u+e,e);n?t=Math.max(t,x):t+=x,f++}f&&!n&&(t+=(f-1)*p.margin.itemX),d.$count=f}if(i!=null&&i.length){for(var k=0,S=0,O=0,P=0;P<i.length;P++){var T=($=h.getItem(i[P])).height+p.margin.itemY,j=$.width+p.margin.itemX;$.$even=!!(P%2),$.hidden||($.$even?S+=T:k+=T,O=Math.max(O,j),++d.$count)}c=Math.max(k,S),t=Math.max(t,S?2*O+d.width:2*Math.max(O-p.margin.itemX/2,d.width+p.margin.itemX/2)),d.$partners.leftHeight=k,d.$partners.rightHeight=S}if(a!=null&&a.length){for(O=0,k=0,S=0,P=0;P<a.length;P++){var $;T=($=h.getItem(a[P])).height+p.margin.itemY,j=$.width+p.margin.itemX/2,$.$even=!!(P%2),$.hidden||($.$even?S+=T:k+=T,O=Math.max(O,j),++d.$count)}n?(t=Math.max(t,O),o=k+S):(t=Math.max(t,2*O),o=Math.max(S,k))}if(t=Math.max(d.width,t),n)d.x=u;else{var I=p.gridStep||1;j=(t-d.width)/2+u,d.x=Math.ceil(j/I)*I}return d.y=0,d.$width=t,d.$baseHeight=c||d.height+p.margin.itemY,d.$height=o+d.$baseHeight,t+s}function _(h,d,p,u,s,l){var r,a=d.$connection,i=d.$assistants,n=(r=d.$partners)===null||r===void 0?void 0:r.common,e=d.dir==="vertical",t=0;if(d.x+=p,d.y+=u,s.gridStep&&(d.y=Math.ceil(d.y/s.gridStep)*s.gridStep),i==null?void 0:i.length)for(var o=s.margin.itemX/2,c=d.x+d.width/2,f=d.y+d.$baseHeight,v=d.y+d.$baseHeight,x=0;x<i.length;x++){var k=(T=h.getItem(i[x])).height+s.margin.itemY;T.hidden||(e?(T.x=d.x+o,T.y=v,v+=k):T.$even?(T.y=v,T.x=c+o,v+=k):(T.y=f,T.x=c-(o+T.width),f+=k))}if(n!=null&&n.length){var S=d.y+(d.$baseHeight/2-(d.height+s.margin.itemY)/2),O=S-d.y,P=S-O+(d.$baseHeight-d.$partners.leftHeight)/2;if(v=S-O+(d.$baseHeight-d.$partners.rightHeight)/2,n.length>1)for(x=0;x<n.length;x++)k=(T=h.getItem(n[x])).height+s.margin.itemY,T.hidden||(T.$even?(T.x=d.x+d.width+s.margin.itemX,T.y=v,v+=k):(T.x=d.x-T.width-s.margin.itemX,T.y=P,P+=k));else d.x=d.x+d.width/2+s.margin.itemX/2,(T=h.getItem(n[0])).x=d.x-T.width-s.margin.itemX,T.y=P;d.y=S}if(u+=d.$height,d.open!==!1&&a){for(var T=void 0,j=0;j<a.length;j++)if(!(T=h.getItem(a[j][1])).hidden){if(!T.assistant&&!T.partner){var $=_(h,T,p,u,s);e?(u+=$,t+=$):(t=Math.max(t,$),p+=T.$width+s.margin.itemX)}(0,b.directLinkPath)(h.getItem(a[j][0]),d,T,s)}}return d.$height+t}g.placeOrgonogram=function(h,d){var p=h.getRoots();if(p.length===1){var u=h.getItem(p[0]);m(h,u,d,0,0),_(h,u,0,0,d),(0,w.setHeaderColor)(h)}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},b.apply(this,arguments)},w=this&&this.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var r,a=0,i=s.length;a<i;a++)!r&&a in s||(r||(r=Array.prototype.slice.call(s,0,a)),r[a]=s[a]);return u.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(g,"__esModule",{value:!0}),g.Editor=g.EditorEvents=void 0;var m,_=y(0),h=y(2),d=y(14);(function(u){u.beforeEditorOpen="beforeEditorOpen",u.afterEditorOpen="afterEditorOpen",u.beforeEditorClose="beforeEditorClose",u.afterEditorClose="afterEditorClose",u.beforeEditorEditing="beforeEditorEditing",u.afterEditorEditing="afterEditorEditing"})(m||(g.EditorEvents=m={}));var p=function(){function u(s){var l=this;this._currentValue=" ",this.data=s.data,this.events=s.events,this._keyManager=new d.KeyManager,this._dblDuration=300,this._documentClick=function(r){(0,h.locate)(r,"dhx_editor_id")||l.closeEditor()},this._handlers={edit:function(r){l.edit(r.target.innerText)},didInsert:function(r){var a=r==null?void 0:r.el;if(a!=null&&a.childNodes[0]){var i=document.createRange(),n=window.getSelection();i.setStart(a.childNodes[0],a.innerText.length),i.collapse(!0),n&&(n.removeAllRanges(),n.addRange(i)),a.focus()}}}}return u.prototype.openEditor=function(s,l,r){var a,i;l===void 0&&(l="text");var n=this.data.getItem(s);if(!n||this._editable||!this.events.fire(m.beforeEditorOpen,[s,l,r]))return!1;this._addHotkeys(),this._initOuterClick(),this.data.update(s,{$editable:!0},!0),this._editableItem=n,this._editable=!0,this._key=l,this._subId=r;var e=this._editableItem.$item.getBaseType();if(e==="group"||e==="swimlane")if(r){var t=this._editableItem,o=t.subHeaderRows,c=t.subHeaderCols,f=[];(o==null?void 0:o.enable)&&((a=o==null?void 0:o.headers)===null||a===void 0?void 0:a.length)&&(f=o.headers);var v=[];(c==null?void 0:c.enable)&&((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i.length)&&(v=c.headers);var x=w(w([],f,!0),v,!0).find(function(k){return(k==null?void 0:k.id)===r});this._currentValue=x==null?void 0:x[l]}else this._currentValue=this._editableItem.header[l];else this._currentValue=this._editableItem[l];return this.events.fire(m.afterEditorOpen,[s,this._key,this._subId]),!0},u.prototype.closeEditor=function(){var s=this._editableItem.id;return!!this.events.fire(m.beforeEditorClose,[s,this._key,this._subId])&&(this._removeHotkeys(),this._removeClickListener(),this.data.update(s,{$editable:!1},!0),this._editable=!1,this.events.fire(m.afterEditorClose,[s,this._key,this._subId]),this._editableItem=null,this._subId=null,this._currentValue=" ",!0)},u.prototype.isEditable=function(){return this._editable},u.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.data=this.events=this._editable=this._editableItem=this._currentValue=this._keyManager=null},u.prototype.render=function(){var s=this._editableItem.id;return(0,_.el)("div.dhx_diagram_inline_editor",{dhx_editor_id:s+"_editor",contentEditable:!0,oninput:this._handlers.edit,_hooks:{didInsert:this._handlers.didInsert}},this._currentValue||" ")},u.prototype.edit=function(s){var l,r,a,i,n=this;if(this._editableItem&&this.events.fire(m.beforeEditorEditing,[s,this._currentValue,this._editableItem.id,this._key,this._subId])){var e=this._editableItem,t=e.id,o=e.header,c=e.$item,f=e.subHeaderCols,v=e.subHeaderRows;this._currentValue=s;var x=c.getBaseType();if(x==="group"||x==="swimlane")if(this._subId){var k,S=(a=v==null?void 0:v.headers)===null||a===void 0?void 0:a.findIndex(function(P){return(P==null?void 0:P.id)===n._subId}),O=(i=f==null?void 0:f.headers)===null||i===void 0?void 0:i.findIndex(function(P){return(P==null?void 0:P.id)===n._subId});O>-1&&((k=w([],f.headers,!0))[O][this._key]=this._currentValue,this.data.update(t,{subHeaderCols:b(b({},f),{headers:k})})),S>-1&&((k=w([],v.headers,!0))[S][this._key]=this._currentValue,this.data.update(t,{subHeaderRows:b(b({},v),{headers:k})}))}else this.data.update(t,{header:b(b({},o),(l={},l[this._key]=this._currentValue,l))});else this.data.update(t,((r={})[this._key]=this._currentValue,r));this.events.fire(m.afterEditorEditing,[this._currentValue,t,this._key,this._subId])}},u.prototype._addHotkeys=function(){var s=this;this._keyManager.addHotKey("escape",function(){s.closeEditor()})},u.prototype._removeHotkeys=function(){this._keyManager.removeHotKey()},u.prototype._initOuterClick=function(){var s=this;setTimeout(function(){document.addEventListener("pointerdown",s._documentClick)},this._dblDuration)},u.prototype._removeClickListener=function(){document.removeEventListener("pointerdown",this._documentClick)},u}();g.Editor=p},function(H,g,y){var b=this&&this.__spreadArray||function(d,p,u){if(u||arguments.length===2)for(var s,l=0,r=p.length;l<r;l++)!s&&l in p||(s||(s=Array.prototype.slice.call(p,0,l)),s[l]=p[l]);return d.concat(s||Array.prototype.slice.call(p))};Object.defineProperty(g,"__esModule",{value:!0}),g.CellManager=g.CellManagerEvents=void 0;var w,m=y(1),_=y(0);(function(d){d.beforeCellsAdd="beforeCellsAdd",d.afterCellsAdd="afterCellsAdd",d.beforeCellsMove="beforeCellsMove",d.afterCellsMove="afterCellsMove",d.beforeCellsRemove="beforeCellsRemove",d.afterCellsRemove="afterCellsRemove",d.beforeCellsValidation="beforeCellsValidation",d.afterCellsValidation="afterCellsValidation"})(w||(g.CellManagerEvents=w={}));var h=function(){function d(p,u){this.events=u,this.data=p,this.swimlane=null}return d.prototype.setSwimlane=function(p){var u,s=this.data.getItem(p);return((u=s==null?void 0:s.$item)===null||u===void 0?void 0:u.getBaseType())==="swimlane"&&(this.swimlane=s,!0)},d.prototype.resetSwimlane=function(){var p=this;(0,_.awaitRedraw)().then(function(){p.swimlane=null})},d.prototype.add=function(p,u,s){var l=this;(0,_.awaitRedraw)().then(function(){var r,a,i=l.getDirectionType(u),n=l.getUniqueLayout(),e=i==="col"?((r=n[0])===null||r===void 0?void 0:r.length)-1:(n==null?void 0:n.length)-1;if(p>=0&&p<=e&&l.events.fire(w.beforeCellsAdd,[l.swimlane.id])&&(s||l.validation(p,u,"add"))){var t,o,c=l.swimlane.layout,f=p,v=i==="col"?c[0][f]:c[f][0],x=l.data.getItem(v),k=i==="col"?x==null?void 0:x.$colCount:x==null?void 0:x.$rowCount,S=l.swimlane[i==="col"?"subHeaderCols":"subHeaderRows"],O=(S==null?void 0:S.enable)&&((a=S==null?void 0:S.headers)===null||a===void 0?void 0:a.length);O&&(t=l.swimlane[i==="col"?"subHeaderCols":"subHeaderRows"].headers,o=l.getSubHeaderIndex(l.getCellId(p,i),i));var P=1/0,T=f;u!=="right"&&u!=="down"||(T+=k,O&&o++),T<0&&(T=0);for(var j={},$={},I={},F=0;F<c.length;F++)for(var E=c[F],V=0;V<E.length;V++){var z;if(i==="col"&&((z=l.data.getItem(E[V]))&&P>z.width&&(P=z.width),V===f&&($[z.id]?c[F].splice(T,0,$[z.id]):(j[X=(0,m.uid)()]={id:X,type:"$sgroup"},c[F].splice(T,0,X),$[z.id]=X))),i==="row"&&((z=l.data.getItem(E[V]))&&P>z.height&&(P=z.height),F===f)){var X=(0,m.uid)();V===0&&c.splice(T,0,[]),$[z.id]?c[T][V]=$[z.id]:(j[X]={id:X,type:"$sgroup"},c[T][V]=X,$[z.id]=X)}}for(F=0;F<c.length;F++)for(E=c[F],V=0;V<E.length;V++){if(i==="col"){var Y=E[V];V>T&&!I[Y]&&(l.data.eachChild(Y,function(A){A.x+=P}),I[Y]=!0)}i==="row"&&(Y=E[V],F>T&&!I[Y]&&(l.data.eachChild(Y,function(A){A.y+=P}),I[Y]=!0))}O&&t.splice(o,0,{text:"Untitled",id:(0,m.uid)()});var U={layout:c};i==="col"?U.width=l.swimlane.width+P:U.height=l.swimlane.height+P,l.data.add(Object.values(j)),l.data.update(l.swimlane.id,U),l.events.fire(w.afterCellsAdd,[l.swimlane.id])}})},d.prototype.move=function(p,u,s){var l=this;(0,_.awaitRedraw)().then(function(){var r,a,i,n=l.getDirectionType(u),e=l.getUniqueLayout(),t=n==="col"?((a=e[0])===null||a===void 0?void 0:a.length)-1:(e==null?void 0:e.length)-1;if(p>=0&&p<=t&&l.events.fire(w.beforeCellsMove,[l.swimlane.id])&&(s||l.validation(p,u,"move"))){var o,c,f=l.swimlane.layout,v=l.swimlane[n==="col"?"subHeaderCols":"subHeaderRows"],x=(v==null?void 0:v.enable)&&((i=v==null?void 0:v.headers)===null||i===void 0?void 0:i.length);x&&(o=l.swimlane[n==="col"?"subHeaderCols":"subHeaderRows"].headers,c=l.getSubHeaderIndex(l.getCellId(p,n),n));for(var k=p,S=n==="col"?f[0][k]:f[k][0],O=l.data.getItem(S),P=u==="right"||u==="down"?c+1:c-1,T=l.swimlane[n==="col"?"subHeaderCols":"subHeaderRows"].headers[P].id,j=l.data.getItem(l.getSubHeaderCellId(T)),$=n==="col"?O==null?void 0:O.$colCount:O==null?void 0:O.$rowCount,I=n==="col"?j==null?void 0:j.$colCount:j==null?void 0:j.$rowCount,F=u==="left"||u==="up"?k-I:k+$,E={},V=[],z=0;z<f.length;z++)for(var X=f[z],Y=function(A){var M,R;if(n==="col"&&A===k){var W=f[z][k],Q=f[z][F],Z=l.data.getItem(W),B=l.data.getItem(Q);E[W]||(l.data.eachChild(W,function(tt){u==="left"?tt.x-=B.width:tt.x+=B.width}),E[W]=!0),E[Q]||(l.data.eachChild(Q,function(tt){u==="left"?tt.x+=Z.width:tt.x-=Z.width}),E[Q]=!0),z===0&&x&&(M=[o[P],o[c]],o[c]=M[0],o[P]=M[1]),V[z]=f[z].splice(A,$)}if(n==="row"&&z===k){W=f[k][A],Q=f[F][A];var K=l.data.getItem(W),J=l.data.getItem(Q);E[W]||(l.data.eachChild(W,function(tt){u==="up"?tt.y-=J.height:tt.y+=J.height}),E[W]=!0),E[Q]||(l.data.eachChild(Q,function(tt){u==="up"?tt.y+=K.height:tt.y-=K.height}),E[Q]=!0),A===X.length-1&&(x&&(R=[o[P],o[c]],o[c]=R[0],o[P]=R[1]),V.push(f.splice(z,$)))}},U=0;U<X.length;U++)Y(U);for(u!=="right"&&u!=="down"||(F=k+I),z=0;z<f.length;z++)for(X=f[z],U=0;U<X.length;U++)(u==="left"&&U===F||u==="right"&&U===k)&&(r=f[z]).splice.apply(r,b([F,0],V[z],!1)),(u==="up"&&z===F||u==="down"&&z===k)&&U===0&&f.splice.apply(f,b([F,0],V[0],!1));l.data.update(l.swimlane.id,l.swimlane),l.events.fire(w.afterCellsMove,[l.swimlane.id])}})},d.prototype.remove=function(p,u,s){var l=this;(0,_.awaitRedraw)().then(function(){var r,a,i=u==="col"?"left":"up",n=l.getUniqueLayout(),e=u==="col"?((r=n[0])===null||r===void 0?void 0:r.length)-1:(n==null?void 0:n.length)-1;if(p>=0&&p<=e&&l.events.fire(w.beforeCellsRemove,[l.swimlane.id])&&(s||l.validation(p,i,"remove"))){var t,o,c=l.swimlane.layout,f=l.swimlane[u==="col"?"subHeaderCols":"subHeaderRows"],v=(f==null?void 0:f.enable)&&((a=f==null?void 0:f.headers)===null||a===void 0?void 0:a.length);v&&(t=l.swimlane[u==="col"?"subHeaderCols":"subHeaderRows"].headers,o=l.getSubHeaderIndex(l.getCellId(p,u),u));for(var x=p,k=u==="col"?c[0][x]:c[x][0],S=l.data.getItem(k),O={},P={},T=[],j=0;j<c.length;j++)for(var $=c[j],I=0;I<$.length;I++){var F=c[j][I];u==="col"&&I===x||u==="row"&&j===x?(O[F]=!0,v&&(u==="col"&&j===0||u==="row"&&I===0)&&t.splice(o,1)):O[F]||(T[j]?T[j].push(F):T[j]=[F]),O[F]||P[F]||(u==="col"&&x<I?(l.data.eachChild(F,function(V){V.x-=S.width}),P[F]=!0):u==="row"&&x<j&&(l.data.eachChild(F,function(V){V.y-=S.height}),P[F]=!0))}var E={layout:T.filter(function(V){return V})};u==="col"?E.width=l.swimlane.width-S.width:E.height=l.swimlane.height-S.height,l.data.remove(Object.keys(O)),l.data.update(l.swimlane.id,E),l.events.fire(w.afterCellsRemove,[l.swimlane.id])}})},d.prototype.validation=function(p,u,s){var l,r=this.getDirectionType(u),a=this.getUniqueLayout(),i=r==="col"?((l=a[0])===null||l===void 0?void 0:l.length)-1:(a==null?void 0:a.length)-1;if(p>=0&&p<=i&&this.events.fire(w.beforeCellsValidation,[this.swimlane.id,s])){if(i===0&&s!=="add")return this.events.fire(w.afterCellsValidation,[this.swimlane.id,!1,s]),!1;var n,e=this.swimlane.layout,t=p,o=!0;if(t>=0)for(var c=0;c<e.length;c++)for(var f=e[c],v=0;v<f.length;v++){var x=r==="col"?f[t]:e[t][v];if(r==="col"&&v===t){var k=this.data.getItem(x).$colCount;if(c===0)n=k;else if(n!==k){if(s==="remove"||s==="move")return this.events.fire(w.afterCellsValidation,[this.swimlane.id,!1,s]),!1;o=!1}}if(r==="row"&&c===t){var S=this.data.getItem(x).$rowCount;if(v===0)n=S;else if(n!==S){if(s==="remove"||s==="move")return this.events.fire(w.afterCellsValidation,[this.swimlane.id,!1,s]),!1;o=!1}}}if(u&&!o||s==="move"){var O=r==="col"?e[0][t]:e[t][0],P=this.data.getItem(O),T=r==="col"?P==null?void 0:P.$colCount:P==null?void 0:P.$rowCount;if(u==="right"||u==="down"?t+=T:t-=1,t>=0&&!(r==="row"&&t>e.length-1))for(c=0;c<e.length;c++)for(f=e[c],v=0;v<f.length;v++){var j=r==="col"?f[t]:e[t][v];if(r==="col"&&v===t){if(k=this.data.getItem(j).$colCount,c===0)n=k;else if(n!==k)return this.events.fire(w.afterCellsValidation,[this.swimlane.id,!1,s]),!1}if(r==="row"&&c===t){if(S=this.data.getItem(j).$rowCount,v===0)n=S;else if(n!==S)return this.events.fire(w.afterCellsValidation,[this.swimlane.id,!1,s]),!1}}}return this.events.fire(w.afterCellsValidation,[this.swimlane.id,!0,s]),!0}},d.prototype.getSubHeaderCellIndex=function(p){if(this.swimlane&&arguments.length){var u=this.getSubHeaderType(p),s=this.getSubHeaderCellId(p);return this.getCellIndex(s,u)}},d.prototype.getSubHeaderCellId=function(p){var u;if(this.swimlane&&arguments.length){var s=this.getSubHeaderType(p),l=(u=this.swimlane[s==="col"?"subHeaderCols":"subHeaderRows"])===null||u===void 0?void 0:u.headers;if(l!=null&&l.length){for(var r=l.findIndex(function(o){return o.id===p}),a=[],i=0;i<this.swimlane.layout.length;i++)for(var n=this.swimlane.layout[i],e=0;e<n.length;e++){var t=n[e];(s==="col"&&i===0||s==="row"&&e===0)&&!a.includes(t)&&a.push(t)}return a[r]}}},d.prototype.getSubHeaderType=function(p){var u;if(this.swimlane&&arguments.length){var s,l=this.swimlane,r=l.subHeaderCols,a=l.subHeaderRows,i=(a==null?void 0:a.enable)&&((u=a==null?void 0:a.headers)===null||u===void 0?void 0:u.length),n=(r==null?void 0:r.enable)&&(r==null?void 0:r.headers.length),e=-1,t=-1;return i&&(e=a.headers.findIndex(function(o){var c=o.id;return p===c}),e!==-1&&(s="row")),n&&(t=r.headers.findIndex(function(o){var c=o.id;return p===c}),t!==-1&&(s="col")),s}},d.prototype.getCellIndex=function(p,u){var s,l;if(this.swimlane&&((l=(s=this.swimlane)===null||s===void 0?void 0:s.groupChildren)===null||l===void 0?void 0:l.includes(p))&&!(arguments.length<2)){for(var r=this.swimlane.layout,a=0;a<r.length;a++)for(var i=r[a],n=0;n<i.length;n++)if(i[n]==p)return u==="col"?n:a}},d.prototype.getCellId=function(p,u){if(this.swimlane&&!(arguments.length<2))return this.swimlane.layout[u==="row"?p:0][u==="col"?p:0]},d.prototype.getSubHeaderIndex=function(p,u){var s,l;if(this.swimlane&&((l=(s=this.swimlane)===null||s===void 0?void 0:s.groupChildren)===null||l===void 0?void 0:l.includes(p))&&!(arguments.length<2))for(var r=this.swimlane.layout,a={},i=-1,n=0;n<r.length;n++)for(var e=r[n],t=0;t<e.length;t++){var o=e[t];if(!a[o]&&((u==="col"&&n===0||u==="row"&&t===0)&&i++,a[o]=!0,p==o))return i}},d.prototype.getDirectionType=function(p){return p==="left"||p==="right"||p==="col"?"col":"row"},d.prototype.getUniqueLayout=function(){if(this.swimlane){for(var p=[],u=0;u<this.swimlane.layout.length;u++){var s=this.swimlane.layout[u];p[u]||(p[u]=[]);for(var l=0;l<s.length;l++){var r=s[l];p[u].includes(r)||p[u].push(r)}}return p}},d}();g.CellManager=h},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}),m=this&&this.__assign||function(){return m=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},m.apply(this,arguments)},_=this&&this.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var r,a=0,i=s.length;a<i;a++)!r&&a in s||(r||(r=Array.prototype.slice.call(s,0,a)),r[a]=s[a]);return u.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(g,"__esModule",{value:!0}),g.Line=void 0;var h=y(0),d=y(1),p=function(u){function s(l,r){var a=u.call(this,l,r)||this;return a.id=a.config.id=l.id||(0,d.uid)(),l.width&&(l.width=parseFloat(l.width)),l.height&&(l.height=parseFloat(l.height)),l.x&&(l.x=parseFloat(l.x)),l.y&&(l.y=parseFloat(l.y)),l.strokeWidth&&(l.strokeWidth=parseFloat(l.strokeWidth)),a}return w(s,u),s.prototype.getBaseType=function(){return"line"},s.prototype.setDefaults=function(l,r){return l.connectType=l.connectType==="curved"?"elbow":l.connectType||"elbow",l.stroke=l.stroke||(r==null?void 0:r.stroke)||"#CCC",l.strokeType=l.strokeType||(r==null?void 0:r.strokeType)||l.type,l.strokeWidth=l.strokeWidth||(r==null?void 0:r.strokeWidth)||2,l.cornersRadius=l.cornersRadius||(r==null?void 0:r.cornersRadius)||0,l.backArrow=l.backArrow||(r==null?void 0:r.backArrow)||"none",l.forwardArrow=l.forwardArrow||(r==null?void 0:r.forwardArrow)||"none",l},s.prototype.getBox=function(){var l=this.config.points.reduce(function(t,o){return t.x=Math.max(t.x,o.x),t.y=Math.max(t.y,o.y),t},{x:0,y:0}),r=l.x-this.config.x,a=l.y-this.config.y,i=this.config.x,n=i+r,e=this.config.y;return{left:i,right:n,top:e,bottom:e+a}},s.prototype.render=function(){var l=this.config,r=l.id,a=l.stroke,i=l.strokeWidth,n=this._getPoints(),e=this._getArrowLine()||[];return(0,h.sv)("g",{"data-dhx-id":r,_key:r,class:"dhx_diagram_item dhx_diagram_line "+(this.config.$selected?"dhx_diagram_line--selected":"")+(this.config.css||"")},_([(0,h.sv)("path",{d:n,fill:"none","stroke-dasharray":this._getType(),"stroke-linejoin":"round","stroke-width":i,stroke:a})],e,!0))},s.prototype._getType=function(){if(this.config.strokeType&&(this.config.type=this.config.strokeType),this.config.type)switch(this.config.type){case"line":default:return"";case"dash":return"5, 5"}},s.prototype._getPoints=function(){return this._getStringPoints()},s.prototype._getStringPoints=function(){return this.config.width=Math.abs(this.config.points[this.config.points.length-1].x-this.config.points[0].x),this.config.height=Math.abs(this.config.points[this.config.points.length-1].y-this.config.points[0].y),this.config.x=this.config.points[0].x,this.config.y=this.config.points[0].y,this.config.connectType!=="straight"&&this.config.connectType!=="curved"||(this.config.points=[this.config.points[0],this.config.points[this.config.points.length-1]],this.config.connectType!=="curved")?"M ".concat(this.config.x,",").concat(this.config.y," ")+this.config.points.map(function(l){return l.x1&&l.y1?"Q".concat(l.x1,",").concat(l.y1," ").concat(l.x,",").concat(l.y):"L "+l.x+","+l.y}).join(" "):this._getCurvedPoints(this.config)},s.prototype._getCurvedPoints=function(l){var r=l.points[0].x,a=l.points[1].x,i=l.points[0].y,n=l.points[1].y,e=.5*(a-r),t=r+e,o=a-e;return"M".concat(r,",").concat(i," C").concat(t,",").concat(i," ").concat(o,",").concat(n," ").concat(a,",").concat(n)},s.prototype._getArrowLine=function(){var l=this.config.points,r=this.config.backArrow==="filled",a=this.config.forwardArrow==="filled";if(r||a)return[r?this._getArrow(l[1],l[0]):null,a?this._getArrow(l[l.length-2],l[l.length-1]):null]},s.prototype._getArrow=function(l,r){var a=l.x-r.x,i=l.y-r.y,n=a===0&&i===0,e=1/Math.sqrt(Math.pow(a,2)+Math.pow(i,2)),t=a*e,o=i*e,c={x:r.x,y:r.y},f=r.x-5,v=r.y-5,x=r.x+5,k=r.y-5,S=Math.atan((r.x-l.x)/(r.y-l.y))*(-180/3.14);l.y>r.y&&(S+=180);var O={};return n||(O.transform="translate(".concat(t," ").concat(o,") rotate(").concat(S,",").concat(c.x,",").concat(c.y,")")),(0,h.sv)("path",m({d:"M".concat(f,",").concat(v," L").concat(c.x,",").concat(c.y," L").concat(x,",").concat(k," Z"),class:"dhx_diagram_arrow "+this.getCss(),"shape-rendering":"auto",stroke:this.config.stroke,fill:this.config.stroke},O))},s}(y(54).BaseItem);g.Line=p},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.LineTitle=void 0;var _=y(0),h=y(2),d=y(1),p=y(28),u=y(19),s=y(40),l=function(r){function a(i,n){var e=r.call(this,i,n)||this;return e.id=e.config.id=i.id||(0,d.uid)(),e.config=e.setDefaults(i),e}return w(a,r),a.prototype.render=function(){var i=this.parent.$level+(this.parent.$group||this.parent.$selected?this.parent.$selected?3:2:1);this.config.$selected&&++i;var n=this.getSize(this.config.text),e=n.width,t=n.height;this.config.width=e>20?e+4:20,this.config.height=t>16?t+2:16;var o=this.getTitlePosition(this.parent,this.config),c=o.x,f=o.y;this.config.$x=c,this.config.$y=f;var v=this.config.$selected?"dhx_diagram_line_title--selected":"";return(0,_.el)("div",{_key:this.config.id,class:"dhx_diagram_line_title "+v,"data-dhx-id":this.config.id,"data-dhx-parent-id":this.parent.id,style:m({zIndex:i,position:"absolute",top:f,left:c,transform:"rotate(".concat(this.config.$angle,"deg)")},(0,u.getShapeCss)(this.config))},[this.getContent()])},a.prototype.getBaseType=function(){return"lineTitle"},a.prototype.setDefaults=function(i,n){return i.$angle=i.$angle||0,i.distance=(n==null?void 0:n.distance)||i.distance||50,i.editable=typeof i.editable!="boolean"||i.editable,i.fixed=!!i.fixed,i.autoPosition=!!i.autoPosition,i.fill=(n==null?void 0:n.fill)||i.fill||"#FFFFFF",i.lineHeight=(n==null?void 0:n.lineHeight)||i.lineHeight||14,i.fontSize=(n==null?void 0:n.fontSize)||i.fontSize||14,i.fontColor=(n==null?void 0:n.fontColor)||i.fontColor||"#4C4C4C",i.fontStyle=(n==null?void 0:n.fontStyle)||i.fontStyle||"normal",i.fontWeight=(n==null?void 0:n.fontWeight)||i.fontWeight||"normal",i.textAlign=(n==null?void 0:n.textAlign)||i.textAlign||"center",i.width=(i.width||0)<40?40:i.width,i.height=(i.height||0)<18?18:i.height,i},a.prototype.getContent=function(){var i=this.config,n=i.$editable,e=i.text,t=i.fill;return(0,_.el)("span.dhx_diagram_line_title__text",{style:{backgroundColor:t}},n?[this.getEditorNode()]:e)},a.prototype.getSize=function(i){var n=this.config,e=n.fontSize,t=n.lineHeight,o=n.fontWeight,c=n.fontStyle,f={fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",fontSize:"".concat(e,"px"),lineHeight:"".concat(t,"px"),fontWeight:o,fontStyle:c};return(0,h.getStrSize)(i,f)},a.prototype.getCenterCoords=function(i,n){var e=i.width,t=i.height;return{x:n.x-e/2,y:n.y-t/2}},a.prototype.getStraightCoords=function(i,n,e){e===void 0&&(e=.5);var t=i.x,o=i.y;return{x:t*(1-e)+n.x*e,y:o*(1-e)+n.y*e}},a.prototype.getTitlePosition=function(i,n){var e,t,o,c=(0,s.getDistanceFactor)(n.distance);if(i.connectType==="straight"||((e=i.points)===null||e===void 0?void 0:e.length)===2){var f=(t=i.points)===null||t===void 0?void 0:t[0],v=(o=i.points)===null||o===void 0?void 0:o[i.points.length-1];return this.config.$angle=n.autoPosition?(0,s.getLineAngle)(f,v):0,this.getCenterCoords(n,this.getStraightCoords(f,v,c))}for(var x=i.points,k=[],S=0,O=0;O<x.length-1;O++){var P=x[O],T=x[O+1],j=(0,s.getLineLength)(P,T);S+=j,k.push(j)}var $=S/100*parseFloat(n.distance),I={x:0,y:0},F={x:0,y:0},E=0;for(O=0;O<x.length-1;O++)if((E+=k[O])>=$){I=x[O],F=x[O+1],c=1-(0,s.getDistanceFactor)((E-$)/k[O]*100);break}return this.config.$angle=n.autoPosition?(0,s.getLineAngle)(I,F):0,this.getCenterCoords(n,this.getStraightCoords(I,F,c))},a.prototype.getBox=function(){var i=this.config,n=i.$x,e=n===void 0?0:n,t=i.$y,o=t===void 0?0:t;return{left:e,right:e+i.width,top:o,bottom:o+i.height}},a}(p.BaseShape);g.LineTitle=l},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(p){for(var u,s=1,l=arguments.length;s<l;s++)for(var r in u=arguments[s])Object.prototype.hasOwnProperty.call(u,r)&&(p[r]=u[r]);return p},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=function(){function p(){}return p.prototype.layout=function(u,s){u.setRoot();var l=u.getRoot();return u.root(u.toTree(u.hash[l.id])),_(u,l,m(l,l,{minSpaceBetweenGen:s.levelPadding||20,minSpaceBetweenSibling:s.itemPadding||5})),u.translate({x:1e3,y:1e3}),u},p}();function m(p,u,s,l,r,a){var i;l===void 0&&(l={startAngle:0,endAngle:360}),r===void 0&&(r=0),a===void 0&&(a={});var n,e=(l.endAngle-l.startAngle)/u.kids.length;if(u.kids.length){var t=r+1;a[t]=(i=a[t])!==null&&i!==void 0?i:{radius:0,chord:0};var o=0;u.kids.forEach(function(k,S,O){var P,T,j,$,I,F,E,V,z=l.startAngle+e*(S+.5),X=(((P=a[r])===null||P===void 0?void 0:P.radius)||0)+(F=u,E=((I=k).w+F.w)/2,V=(I.h+F.h)/2,Math.ceil(Math.sqrt(E*E+V*V)))+s.minSpaceBetweenGen;if(o=Math.max(a[t].radius,X),u.kids.length>1){var Y=S!==O.length-1?S+1:0,U=h(k,Z=d({startAngle:z,endAngle:z+e}))+h(O[Y],Z)+s.minSpaceBetweenSibling;a[t].chord=Math.max(a[t].chord,U)}else{var A=(T=p.kids)===null||T===void 0?void 0:T.findIndex(function(K){return K.id===u.id}),M=A===((j=p.kids)===null||j===void 0?void 0:j.length)-1?0:A+1,R=A===0?(($=p.kids)===null||$===void 0?void 0:$.length)-1:A-1;if(A>-1){var W=p.kids[M].kids[0],Q=p.kids[R].kids[p.kids[R].kids.length-1];if(W||Q){var Z,B=(l.endAngle-l.startAngle)/p.kids[W?M:R].kids.length;U=h(k,Z=d({startAngle:z,endAngle:z+.5*(e+B)}))+h(W||Q,Z)+s.minSpaceBetweenSibling+20,a[t].chord=Math.max(a[t].chord,U)}}}});var c=Math.max(o,(n=e,a[t].chord/(2*Math.sin(n/2*Math.PI/180))));if(c>a[t].radius&&a[t+1]){var f=c-a[t].radius;for(var v in a)Number(v)>t&&(a[v].radius+=f)}a[t].radius=c;var x=b({},l);return u.kids.forEach(function(k){x.endAngle=x.startAngle+e,k.kids.length&&(a=m(u,k,s,x,t,a)),x.startAngle+=e}),a}}function _(p,u,s,l,r){l===void 0&&(l={startAngle:0,endAngle:360}),r===void 0&&(r=0);var a,i,n,e,t,o=p.getRoot(),c=o.id===u.id,f=u.kids;if(c)u.x=0,u.y=0;else{var v=(l.startAngle+l.endAngle)/2,x=(a=v,i=s[r].radius,n=o.x,e=o.y,t=a*Math.PI/180,{x:n+i*Math.cos(t),y:e-i*Math.sin(t)});u.x=x.x,u.y=x.y}if(f.length){var k=(l.endAngle-l.startAngle)/f.length;f.forEach(function(S,O){var P={startAngle:l.startAngle+k*O,endAngle:l.startAngle+k*(O+1)};_(p,S,s,P,r+1)})}}function h(p,u){var s=Math.cos(Math.atan(p.h/p.w)),l=Math.cos(u*Math.PI/180);return Math.abs(l)>s?p.w/(2*Math.abs(l)):p.h/(2*Math.abs(Math.sin(u*Math.PI/180)))}function d(p){return 90-p.endAngle/2+p.startAngle/2-(p.startAngle>180?p.startAngle-180:p.startAngle)}g.default=w},function(H,g,y){var b,w=this&&this.__extends||(b=function(l,r){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},b(l,r)},function(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=l}b(l,r),l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)});Object.defineProperty(g,"__esModule",{value:!0}),g.DiagramEditor=g.DiagramShapes=g.DataEvents=g.DataCollection=g.setTheme=g.awaitRedraw=void 0;var m=y(0);Object.defineProperty(g,"awaitRedraw",{enumerable:!0,get:function(){return m.awaitRedraw}}),Object.defineProperty(g,"setTheme",{enumerable:!0,get:function(){return m.setTheme}});var _=y(8);Object.defineProperty(g,"DataCollection",{enumerable:!0,get:function(){return _.DataCollection}}),Object.defineProperty(g,"DataEvents",{enumerable:!0,get:function(){return _.DataEvents}});var h=y(53);Object.defineProperty(g,"DiagramShapes",{enumerable:!0,get:function(){return h.shapes}});var d=y(5),p=y(1),u=y(205),s=function(l){function r(a,i){i===void 0&&(i={});var n,e=l.call(this,a,i)||this;return n=["org","mindmap"].includes(i.type)?new u.OrgChartEditor(a,i):new u.DefaultEditor(a,i),(0,p.extend)(e,n),e}return w(r,l),r.prototype.paint=function(){},r.prototype.destructor=function(){throw new Error("Method not implemented.")},r.prototype.import=function(a){},r.prototype.parse=function(a){},r.prototype.serialize=function(){return[]},r.prototype.zoomIn=function(a){},r.prototype.zoomOut=function(a){},r}(d.View);g.DiagramEditor=s},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(206),g),w(y(276),g),w(y(99),g),w(y(37),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(i,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},b(i,n)},function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=i}b(i,n),i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.OrgChartEditor=void 0;var _=y(29),h=y(1),d=y(64),p=y(59),u=y(98),s=y(37),l=y(100),r=y(112),a=function(i){function n(e,t){return i.call(this,e,(0,h.extend)({itemsDraggable:!0,shapeType:t.type==="org"?"card":"topic",view:{toolbar:!0,editbar:!0}},t))||this}return w(n,i),n.prototype._initDiagram=function(){this.diagram=new _.Diagram(null,{type:this.config.type,defaultShapeType:this.config.shapeType,margin:{y:70,x:40},defaults:this._getDefaults(),toolbar:this._getToolbarConfig(this.config),lineConfig:m({},this.config.lineConfig),gridStep:this.config.gridStep,scale:this.config.scale,select:!0,scroll:!0,$isEditor:!0}),this.diagram.data.parse([{id:(0,h.uid)(),x:0,y:0,text:"main"}])},n.prototype._initUI=function(e){var t=this;this.view=new l.View(e,this);var o=this.view.getViews(),c=o.toolbar,f=o.editbar;this.toolbar=c,this.editbar=f,this.menu=new d.ContextMenu(null),this._resizer=new p.Controls(this.events,this.diagram,{magnetic:!1,connectionPoints:!1,resizePoints:this.config.resizePoints}),this.diagram.config.$svg=function(v){var x,k=(x=t.diagram.selection.getItem())===null||x===void 0?void 0:x.id,S=t.diagram.data.getItem(k);return t._selectionBox&&t._selectionBox.isValid()?t._selectionBox.render():t.diagram.selection.getIds().length<=1?t._resizer.render(S,v):null},this.diagram.config.$grid=function(){return!!t.config.grid}},n.prototype._setHandlers=function(){var e=this;i.prototype._setHandlers.call(this),this.diagram.events.on(_.DataEvents.load,function(){e.history.reset()}),this.diagram.events.on(_.DiagramEvents.shapeIconClick,function(t,o){var c=e.diagram.selection.getItem(),f=e.diagram.selection.getIds().map(function(x){return e.diagram.data.getItem(x)});if(e.events.fire(s.DiagramEditorEvents.beforeShapeIconClick,[t,e.diagram.data.getItem(c.id)])){var v=f.map(function(x){return{id:(0,h.uid)(),parent:x.id,dx:x.dx,dy:x.dy,headerColor:(0,r.getHeaderColor)(x)}});switch(t){case"add":v.forEach(function(x){e.diagram.data.add(x),e.diagram.selection.add({id:x.id}),e.diagram.showItem(x.id)});break;case"addLeft":v.forEach(function(x){e.diagram.data.add(m({dir:"verticalLeft"},x)),e.diagram.selection.add({id:x.id}),e.diagram.showItem(x.id,"left")});break;case"addRight":v.forEach(function(x){e.diagram.data.add(m({dir:"verticalRight"},x)),e.diagram.selection.add({id:x.id}),e.diagram.showItem(x.id,"right")});break;case"remove":f.forEach(function(x){e._removeItem(x.id)});break;case"menu":e.menu.data.parse(e._getContextMenuData(c)),e.menu.showAt(o)}e.events.fire(s.DiagramEditorEvents.afterShapeIconClick,[t,e.diagram.data.getItem(c.id)])}}),this.events.on(s.DiagramEditorEvents.afterShapeMove,function(t){var o=t.id,c=t.batch,f=t.event;if(e.config.itemsDraggable){var v=e.diagram.data.getItem(o);if(v.giveItem!==!1){var x=!1;e.diagram.data.mapVisible(function(k){if(k){var S=k==null?void 0:k.$item.isLocate({width:v.width,height:v.height,x:v.x+(v.dx||0),y:v.y+(v.dy||0)});v.id!=k.id&&v.parent!=k.id&&k.$item.getBaseType()==="shape"&&(S&&!x?(x=!0,k.$target=!0,e.events.fire(s.DiagramEditorEvents.itemTarget,[{id:v.id,batch:c,targetId:k.id,event:f}])):k.$target=!1)}})}}}),this.events.on(s.DiagramEditorEvents.shapeMoveEnd,function(t){var o=t.id,c=t.batch,f=t.event;if(e.config.itemsDraggable){var v=e.diagram.data.getItem(o);if(v.giveItem!==!1){var x=!1;e.diagram.data.mapVisible(function(k){if(k){k.$target=!1;var S=k.$item.isLocate({width:v.width,height:v.height,x:v.x+(v.dx||0),y:v.y+(v.dy||0)});if(v.id!=k.id&&v.parent&&v.parent!=k.id&&k.$item.getBaseType()==="shape"&&!k.assistant&&!k.partner&&!x&&S){if(x=!0,k.catchItem===!1||!e.events.fire(s.DiagramEditorEvents.beforeItemCatch,[{id:v.id,batch:c,targetId:k.id,event:f}]))return;var O=new Set(c);O.forEach(function(P){var T=e.diagram.data.getItem(P);e.diagram.data.update(P,{dx:k.dx,dy:k.dy},!0),O.has(T.parent.toString())||(e.diagram.data.update(P,{parent:k.id},!0),e.diagram.data.remove(T.$parent),e.diagram.data.add({type:"line",from:k.id,to:P}))}),e.diagram.expandItem(k.id),e.events.fire(s.DiagramEditorEvents.afterItemCatch,[{id:v.id,batch:c,targetId:k.id,event:f}])}}})}}}),this.menu.events.on("click",function(t){var o=e.diagram.selection.getItem();if(e.events.fire(s.DiagramEditorEvents.beforeShapeIconClick,[t,e.diagram.data.getItem(o.id)])){var c={id:(0,h.uid)(),parent:o.id,dx:o.dx,dy:o.dy,headerColor:(0,r.getHeaderColor)(o)};switch(t){case"vertical":case"horizontal":e.diagram.data.update(o.id,{dir:t});break;case"addAssistant":e.diagram.data.add(m(m({},c),{assistant:!0,headerColor:(0,r.getHeaderColor)(o,"assistant")})),e.diagram.selection.add({id:c.id}),e.diagram.showItem(c.id);break;case"addPartner":e.diagram.data.add(m(m({},c),{partner:!0,headerColor:(0,r.getHeaderColor)(o,"partner")})),e.diagram.selection.add({id:c.id}),e.diagram.showItem(c.id);break;case"remove":e._removeItem(o.id)}e.events.fire(s.DiagramEditorEvents.afterShapeIconClick,[t,e.diagram.data.getItem(o.id)])}})},n.prototype._getContextMenuData=function(e){var t,o,c=[{id:"addPartner",value:_.locale.menuAddPartner,icon:"dxi dxi-plus"},{id:"addAssistant",value:_.locale.menuAddAssistant,icon:"dxi dxi-plus"}];return e.$connection&&e.$connection.length&&(e.dir==="vertical"||((o=(t=e==null?void 0:e.$partners)===null||t===void 0?void 0:t.common)===null||o===void 0?void 0:o.length)?e.dir==="vertical"&&c.push({id:"horizontal",value:_.locale.menuAlignChildrenHorizontally,icon:"dxi dxi-chart-horizontal"}):c.push({id:"vertical",value:_.locale.menuAlignChildrenVertically,icon:"dxi dxi-chart-vertical"})),e.$parent&&c.push({type:"separator"},{id:"remove",value:_.locale.menuDelete,icon:"dxi dxi-delete-outline",hotkey:"Del"}),c},n.prototype._getDefaults=function(){var e={text:{text:"Text"}};return["card","img-card","topic"].forEach(function(t){e[t]={text:"Text",title:"Title",height:t!=="topic"?90:30,width:t==="img-card"?210:140}}),e=m(m({},e),this.config.defaults)},n}(u.BaseDiagramEditor);g.OrgChartEditor=a},function(H,g,y){var b=this&&this.__spreadArray||function(d,p,u){if(u||arguments.length===2)for(var s,l=0,r=p.length;l<r;l++)!s&&l in p||(s||(s=Array.prototype.slice.call(p,0,l)),s[l]=p[l]);return d.concat(s||Array.prototype.slice.call(p))};Object.defineProperty(g,"__esModule",{value:!0}),g.getConnectPoints=g.Connect=void 0;var w=y(1),m=y(0),_=function(){function d(p,u){var s=this;this.createConnector=function(l){var r,a,i=(0,w.uid)();s._connector={id:i,from:l.id,fromSide:l.side};var n="line",e=s._nearShape.$item.getPoint(l.dx,l.dy);s._diagram.data.add({id:i,type:n,points:[{x:e.x,y:e.y},{x:e.x,y:e.y}],stroke:((a=(r=s._diagram.config.defaults)===null||r===void 0?void 0:r[n])===null||a===void 0?void 0:a.stroke)||"#2196F3",$move:!0}),s._diagram.selection.add({id:i})},this._setNearPoint=function(l){s._nearPoint&&l.side===s._nearPoint.side||(s._nearPoint=l,s._diagram.paint())},this._removeNearPoint=function(){s._nearPoint&&(s._nearPoint=null,s._diagram.paint())},this._controls=p,this._diagram=u,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return d.prototype.getItemId=function(){return this._nearShape?this._nearShape.id:""},d.prototype.getPoints=function(p,u){var s=this;if(this._nearShape&&this._nearShape.$item.canResize()){var l=this._isOrgType?10:8,r=this._diagram.config.scale;if(p&&p.$item.getBaseType()==="line"&&p.$move){var a=this._diagram.data.map(function(c){var f=c.$item.getBaseType(),v=!0;if(s._diagram.data.eachParent(c.id,function(P){(P==null?void 0:P.open)===!1&&(v=!1)}),f!=="shape"||!c.$item.canResize()||!v)return null;var x=c.$item.getBox(),k=f==="group"||f==="swimlane",S=c[k?"$width":"width"]*r,O=c[k?"$height":"height"]*r;return(0,m.el)(".dhx_connect",{style:{width:S,height:O,position:"absolute",top:(x.top-u.top)*r,left:(x.left-u.left)*r,pointerEvents:"none",touchAction:"none",transform:"rotate(".concat(c.angle||0,"deg)")}},s._getConnectionPoints(h(c,l),r))});return(0,m.el)("div",a)}var i=this._nearShape.$item.getBaseType(),n=this._nearShape.$item.getBox(),e=i==="group"||i==="swimlane",t=this._nearShape[e?"$width":"width"]*r,o=this._nearShape[e?"$height":"height"]*r;return(0,m.el)(".dhx_connect",{style:{width:t,height:o,position:"absolute",top:(n.top-u.top)*r,left:(n.left-u.left)*r,pointerEvents:"none",touchAction:"none",transform:"rotate(".concat(this._nearShape.angle||0,"deg)")}},this._getConnectionPoints(h(this._nearShape,l),r))}},d.prototype._getConnectionPoints=function(p,u){var s=this;return p.map(function(l){return(0,m.el)(".dhx_connect_point",{style:{top:l.y*u-15,left:l.x*u-15},_key:(0,w.uid)(),class:"".concat((s._nearPoint&&s._nearPoint.side)==l.side&&l.id==s._nearPoint.id?"dhx_connect_nearest":""),_data:{resizer:s._controls,p:l},onpointerover:[s._setNearPoint,l],onpointerleave:[s._removeNearPoint],onpointerdown:[s.createConnector,l]},[(0,m.el)(".dhx_connect_grip",{_data:{resizer:s._controls,p:l}})])})},d.prototype.setNearShape=function(p){p!==this._nearShape&&(this._nearShape=p,this._diagram.paint())},d.prototype.toggleNearShape=function(p){this._nearShape=this._nearShape&&this._nearShape.id==p.id?null:p,this._diagram.paint()},d.prototype.removeNearShape=function(){this._nearShape=null,this._nearPoint=null},d.prototype.moveConnector=function(p,u,s,l){var r,a,i=this._controls.getPoint(p.clientX,p.clientY);if(this._connector){var n=this._diagram.data.getItem(this._connector.id);return n.points[n.points.length-1]={x:i.x,y:i.y},void this._diagram.paint()}var e=0,t=b([],u.points,!0),o=u.from&&u.to&&u.from===u.to;if(t[l.i])if(l.$slide)if(o)l.$slide==="horizontal"?(t[l.i].x+=s.x,o&&(t[l.i-1].x+=s.x)):(t[l.i].y+=s.y,o&&(t[l.i-1].y+=s.y)),t[l.i].custom=!0,t[l.i-1].custom=!0;else{var c=u.points[u.points.length-1],f=u.points[u.points.length-2];e=l.$slide==="horizontal"?Math.abs(c.x-f.x-s.x):Math.abs(c.y-f.y-s.y)}else t[l.i].x+=s.x,t[l.i].y+=s.y,t[l.i].custom=!0,l.side&&(a=l.side);this._nearPoint&&a?this._diagram.data.update(u.id,((r={points:t,$move:!0})[a]=this._nearPoint.id,r[a+"Side"]=this._nearPoint.side,r.customGap=e,r)):this._diagram.data.update(u.id,{points:t,$move:!0,customGap:e}),this._diagram.paint()},d.prototype.onUp=function(p){var u,s=this._diagram.selection.getItem();if(s&&s.$item.getBaseType()==="line"){delete s.$move;var l=this._controls.getPoint(p.clientX,p.clientY);if(this._findNearShape(l),this._nearShape&&this._connector){var r=this._connector.from,a=this._nearShape.id;s&&r&&a&&this._nearPoint?this._diagram.data.update(s.id,((u={from:this._connector.from,to:this._nearShape.id,fromSide:this._connector.fromSide,toSide:this._nearPoint.side,points:null,strokeType:this._diagram.config.lineConfig.lineType})[this._diagram.config.lineConfig.lineDirection]=this._diagram.config.lineConfig.arrowsHidden?"":"filled",u)):s!=null&&s.id&&this._diagram.data.remove(s.id)}!this._nearShape&&this._connector&&(s==null?void 0:s.id)&&this._diagram.data.remove(s.id),this._connector=null,this._nearShape=null,this._nearPoint=null}},d.prototype._getDistanceBetweenPoints=function(p){var u,s=p.side,l=p.shape,r=p.point;switch(s){case"top":u={x:l.x+l.width/2,y:l.y};break;case"right":u={x:l.x+l.width,y:l.y+l.height/2};break;case"bottom":u={x:l.x+l.width/2,y:l.y+l.height};break;case"left":u={x:l.x,y:l.y+l.height/2};break;case"center":u={x:l.x+l.width/2,y:l.y+l.height/2}}return Math.sqrt(Math.pow(r.x-u.x,2)+Math.pow(r.y-u.y,2))},d.prototype._findNearShape=function(p){var u=this;if(this._nearPoint){this._nearShape=null;var s=20;this._diagram.data.forEach(function(l){if(!l.hidden&&l.$item.getBaseType()==="shape"){var r=u._getDistanceBetweenPoints({side:u._nearPoint.side,shape:l,point:p});(0,w.isDefined)(r)&&r<=s&&(u._nearShape=l,s=r)}})}},d}();function h(d,p){if(!d)return[];var u=d.$item.getBaseType(),s=d.$item.getBox(),l=u==="group"||u==="swimlane",r=d[l?"$width":"width"],a=d[l?"$height":"height"],i=s.left-p/2,n=s.top-p/2;return[{dx:i+r/2,dy:n+a/2,x:0+r/2,y:0+a/2,id:d.id,side:"center"},{x:0+r/2,y:0,dx:i+r/2,dy:n,id:d.id,side:"top"},{x:0+r,y:0+a/2,dx:i+r,dy:n+a/2,id:d.id,side:"right"},{x:0+r/2,y:0+a,dx:i+r/2,dy:n+a,id:d.id,side:"bottom"},{x:0,y:0+a/2,dx:i,dy:n+a/2,id:d.id,side:"left"}]}g.Connect=_,g.getConnectPoints=h},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(u){for(var s,l=1,r=arguments.length;l<r;l++)for(var a in s=arguments[l])Object.prototype.hasOwnProperty.call(s,a)&&(u[a]=s[a]);return u},b.apply(this,arguments)},w=this&&this.__spreadArray||function(u,s,l){if(l||arguments.length===2)for(var r,a=0,i=s.length;a<i;a++)!r&&a in s||(r||(r=Array.prototype.slice.call(s,0,a)),r[a]=s[a]);return u.concat(r||Array.prototype.slice.call(s))};Object.defineProperty(g,"__esModule",{value:!0}),g.getRectPoints=g.getConnectorPoints=g.Resize=void 0;var m=y(0),_=y(59),h=function(){function u(s,l){this._controls=s,this._diagram=l,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return u.prototype.getPoints=function(s,l){var r=this;if(s){var a="dhx_diagram_resizer_grip",i=s.$item.getBaseType(),n=s.$item.getBox(),e=this._isOrgType?10:8,t=this._diagram.config.scale,o=0;i==="line"&&(o=2,a+=" dhx_diagram_resizer_grip--line");var c=p(s,t).map(function(O){return O.$slide&&(a+=" dhx_slide dhx_slide--".concat(O.$slide)),(0,m.el)("div",{style:{cursor:O.cursor,position:"absolute",top:O.y-o-e/2,left:O.x-o-e/2,pointerEvents:"auto",touchAction:"auto",outline:"none"},tabindex:-1,class:a,_data:{resizer:r._controls,p:O}})}),f=i==="group"||i==="swimlane",v=s[f?"$width":"width"]*t,x=s[f?"$height":"height"]*t,k=(!s.angle||s.angle===0||s.angle===360)&&(i==="shape"||f)||i==="line",S=s==null?void 0:s.$group;return(0,m.el)(".dhx_diagram_resizer",{style:{width:v,height:x,top:(n.top-l.top)*t,left:(n.left-l.left)*t,transform:"rotate(".concat(s.angle||0,"deg)")}},[i==="shape"&&!this._isOrgType&&!S&&(0,m.el)("div.dhx_editor_icon.dhx_editor_icon-rotate",{style:{width:20,height:20,position:"absolute",top:x/2-10,left:v+10,zIndex:1e4,pointerEvents:"auto",touchAction:"auto"},_data:{resizer:this._controls,p:{rotate:!0}}},[(0,m.el)("i.dhx_editor_icon--no-touch.dxi.dxi-rotate-right")])].concat(k?c:null))}},u}();function d(u,s){var l=b({},u.points[0]);l.x*=s,l.y*=s;var r=[],a=u.points.map(function(i,n,e){if((i=b({},i)).x*=s,i.y*=s,i.cursor="pointer",i.i=n,n===0&&(i.side="from"),n===u.points.length-1&&(i.side="to"),u.connectType!=="flex"&&e[n+1]){var t=b({},e[n+1]);t.x*=s,t.y*=s;var o=e[n+2]&&{x:e[n+2].x,y:e[n+2].y},c=e[n-1]&&{x:e[n-1].x,y:e[n-1].y},f=c&&t&&o&&(c.x===i.x||c.y===i.y)&&(t.x===i.x||t.y===i.y)&&t.x!==c.x&&t.y!==c.y&&(o.x===t.x||o.y===t.y)&&o.x!==i.x&&o.y!==i.y;if((0,_.getLength)(i,t)>20){var v=(i.x+t.x)/2,x=(i.y+t.y)/2;f&&r.push({x:v-l.x+1,y:x-l.y+1,dx:v/s,dy:x/s,$slide:i.x===t.x?"horizontal":"vertical",i:n+1})}}return i.dx=i.x,i.dy=i.y,i.x=i.x-l.x+2,i.y=i.y-l.y+2,i});return w(w([],a,!0),r,!0)}function p(u,s){var l=u.$item.getBaseType();if(l==="line")return d(u,s);var r=l==="group"||l==="swimlane",a=u[r?"$width":"width"]*s,i=u[r?"$height":"height"]*s;return[{cursor:"nw-resize",x:0,y:0,dx:1,dy:1},{cursor:"n-resize",x:0+a/2,y:0,dx:0,dy:1},{cursor:"ne-resize",x:0+a,y:0,dx:-1,dy:1},{cursor:"e-resize",x:0+a,y:0+i/2,dx:-1,dy:0},{cursor:"se-resize",x:0+a,y:0+i,dx:-1,dy:-1},{cursor:"s-resize",x:0+a/2,y:0+i,dx:0,dy:-1},{cursor:"sw-resize",x:0,y:0+i,dx:1,dy:-1},{cursor:"w-resize",x:0,y:0+i/2,dx:1,dy:0}]}g.Resize=h,g.getConnectorPoints=d,g.getRectPoints=p},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.SelectionBox=void 0;var b=y(0),w=function(){function m(_,h){this.start=_,this._diagram=h,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return m.prototype.render=function(){var _=Math.abs(this.start.$rx-this.end.$rx),h=Math.abs(this.start.$ry-this.end.$ry),d=this.start.$rx<this.end.$rx?this.start.$rx:this.end.$rx,p=this.start.$ry<this.end.$ry?this.start.$ry:this.end.$ry;return(0,b.el)(".dhx_selection_box",{"data-dhx-id":"dhx_selection_box",style:{left:d,top:p,width:this.start.$rx<this.end.$rx?_:this.start.$rx-d,height:this.start.$ry<this.end.$ry?h:this.start.$ry-p}})},m.prototype.isValid=function(){return this.start&&this.end&&Math.abs(this.start.$rx-this.end.$rx)>10&&Math.abs(this.start.$ry-this.end.$ry)>10},m.prototype.addSelected=function(_){var h=this;_===void 0&&(_={start:this.start,end:this.end});var d=_.start.x<_.end.x?_.start.x:_.end.x,p=_.end.x>_.start.x?_.end.x:_.start.x,u=_.start.y<_.end.y?_.start.y:_.end.y,s=_.end.y>_.start.y?_.end.y:_.start.y,l=[],r=[];this._diagram.data.mapVisible(function(a){if(!h._isOrgType||a.$item.getBaseType()!=="line"){var i=a.$item.getBox();i.left>=d&&i.right<=p&&i.top>=u&&i.bottom<=s&&(l.push(a),r.push(a.id))}}),l.forEach(function(a,i){h._diagram.selection.add({id:a.id,join:!!i,batch:r})})},m}();g.SelectionBox=w},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)},w=this&&this.__spreadArray||function(h,d,p){if(p||arguments.length===2)for(var u,s=0,l=d.length;s<l;s++)!u&&s in d||(u||(u=Array.prototype.slice.call(d,0,s)),u[s]=d[s]);return h.concat(u||Array.prototype.slice.call(d))};Object.defineProperty(g,"__esModule",{value:!0}),g.CopyManager=void 0;var m=y(1),_=function(){function h(d){this._copiedStyles={},this._copiedItems=[],this._props=["type","extraLinesStroke","fill","fontColor","fontSize","fontStyle","fontWeight","lineHeight","stroke","strokeDash","strokeType","strokeWidth","textAlign","textVerticalAlign","headerColor","fill","overFill","partiallyFill","borderStyle","iconColor"],this._editor=d,this._data=d.diagram.data}return h.prototype.copy=function(d){var p=this;this._editor.config.type!=="mindmap"&&this._editor.config.type!=="org"&&(d!=null&&d.length||(d=this._editor.diagram.selection.getIds()),this._copiedItems=[],d.forEach(function(u){var s=p._data.getItem(u),l=s.$item.getBaseType();if(s.$group||p._copiedItems.push(s),l==="group"||l==="swimlane"){var r={};p._data.eachChild(u,function(a){var i=a.id;r[i]=!0}),p._data.forEach(function(a){var i;((i=a==null?void 0:a.$item)===null||i===void 0?void 0:i.getBaseType())==="line"&&r[a==null?void 0:a.from]&&r[a==null?void 0:a.to]&&p._copiedItems.push(a)})}}))},h.prototype.paste=function(){var d=this;if(this._copiedItems.length&&this._editor.config.type!=="mindmap"&&this._editor.config.type!=="org"){this._editor.diagram.selection.remove();var p=[],u={},s={},l=function(r,a){a===void 0&&(a=0),r.$group?a+=r.$gx:a=r.x+r.width+40+a;var i,n=[];if(i=r.$item.getBaseType()==="swimlane"?d._data.add(b(b({},r),{groupChildren:n,id:(0,m.uid)(),x:a,layout:[]})):d._data.add(b(b({},r),{groupChildren:n,id:(0,m.uid)(),x:a})),d._data.eachChild(r.id,function(v){var x;v.$item.getBaseType()==="group"?(x=l(v,a),s[v.id]=x):x=d._data.add(b(b({},v),{$group:null,id:(0,m.uid)(),x:a+v.$gx})),n.push(x),u[v.id]=x},!1),r.$item.getBaseType()==="swimlane"){for(var e=JSON.parse(JSON.stringify(w([],r.layout,!0))),t=0;t<e.length;t++)for(var o=e[t],c=0;c<o.length;c++){var f=o[c];e[t][c]=s[f]}d._data.update(i,{groupChildren:n,layout:e})}else d._data.update(i,{groupChildren:n});return u[r.id]=i,i};this._copiedItems.forEach(function(r,a){var i;switch(r.$item.getBaseType()){case"shape":i=d._data.add(b(b({},r),{id:(0,m.uid)(),x:r.x+200})),u[r.id]=i;break;case"group":case"swimlane":i=l(r)}p.push(i)}),this._copiedItems.forEach(function(r){var a;if(u.hasOwnProperty(r.from)&&u.hasOwnProperty(r.to)){var i=b(b({},r),{id:(0,m.uid)(),title:b({},r.title),from:u[r.from],to:u[r.to]});a=d._data.add(i),d._data.eachChild(r.id,function(n){p.push(d._data.add(b(b({},n),{parent:a,id:(0,m.uid)()})))}),p.push(a)}}),p.forEach(function(r,a){d._editor.diagram.selection.add({id:r,join:!!a,batch:p})})}},h.prototype.copyStyles=function(d){(0,m.isDefined)(d)||(d=this._editor.diagram.selection.getIds()[0]);var p=this._editor.diagram.data.getItem(d);if(p){for(var u in this._copiedStyles={},p)this._props.includes(u)&&(this._copiedStyles[u]=p[u]);if(p.header)for(var u in this._copiedStyles.header={},p.header)this._props.includes(u)&&(this._copiedStyles.header[u]=p.header[u]);if(p.style)for(var u in this._copiedStyles.style={},p.style)this._props.includes(u)&&(this._copiedStyles.style[u]=p.style[u])}},h.prototype.pasteStyles=function(d){var p=this;d!=null&&d.length||(d=this._editor.diagram.selection.getIds());var u=this._copiedStyles.type;d.forEach(function(s){var l=p._data.getItem(s),r=l.type;if(r===u&&u==="line"||r!=="line"&&u!=="line"){var a=b({},p._copiedStyles);delete a.type,l.type==="$group"||l.type==="$swimlane"?(l.header||delete a.header,l.style||delete a.style,(0,m.extend)(l,a,!0),p._data.update(l.id,b({},l))):p._data.update(l.id,b({},a))}})},h}();g.CopyManager=_},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.getDefaultShapeToolbar=g.getMindmapShapeToolbar=g.getOrgShapeToolbar=void 0,g.getOrgShapeToolbar=function(b){return[{id:"add",content:"<i class='dxi dxi-plus-box'>",check:function(w){return!Array.isArray(w)&&!w.assistant&&!w.partner},tooltip:b.addShape},{id:"menu",content:"<i class='dxi dxi-dots-vertical'>",check:function(w){return!Array.isArray(w)&&!w.assistant&&!w.partner},tooltip:b.menu},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",check:function(w){return w.assistant||w.partner||Array.isArray(w)},css:function(){return"dhx_diagram_toolbar__icon--remove"},tooltip:b.remove}]},g.getMindmapShapeToolbar=function(b){return[{id:"add",content:"<i class='dxi dxi-plus-box'>",check:function(w){return!Array.isArray(w)&&w.$level!==0},tooltip:b.addShape},{id:"addLeft",content:"<i class='dxi dxi-plus-box'>",check:function(w){return!Array.isArray(w)&&w.$level===0},tooltip:b.addLeftShape},{id:"addRight",content:"<i class='dxi dxi-plus-box'>",check:function(w){return!Array.isArray(w)&&w.$level===0},tooltip:b.addRightShape},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",check:function(w){return!Array.isArray(w)&&!!w.$parent||Array.isArray(w)},css:function(){return"dhx_diagram_toolbar__icon--remove"},tooltip:b.remove}]},g.getDefaultShapeToolbar=function(b,w){return[{id:"lineTitleAutoPositionEnable",content:"<i class='dxi dxi-format-text-rotation-angle-up'>",check:function(m){var _;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="lineTitle"&&m.autoPosition},tooltip:b.lineTitleAutoPositionEnable},{id:"lineTitleAutoPositionDisable",content:"<i class='dxi dxi-format-text-rotation-none'>",check:function(m){var _;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="lineTitle"&&!m.autoPosition},tooltip:b.lineTitleAutoPositionDisable},{id:"addLineTitle",content:"<i class='dxi dxi-format-annotation-plus'>",check:function(m){var _;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="line"&&!m.$selectedPoint},tooltip:b.addLineTitle},{id:"addColumnLast",content:"<i class='dxi dxi-table-column-plus-after'>",check:function(m){var _;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="swimlane"},tooltip:b.addColumnLast},{id:"addRowLast",content:"<i class='dxi dxi-table-row-plus-after'>",check:function(m){var _;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="swimlane"},tooltip:b.addRowLast},{id:"copy",content:"<i class='dxi dxi-copy'>",check:function(m){var _,h;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())!=="line"&&((h=m.$item)===null||h===void 0?void 0:h.getBaseType())!=="lineTitle"&&!m.$group},tooltip:b.copy},{id:"connect",content:"<i class='dxi dxi-line-connect'>",check:function(m){var _;return w.connectionPoints&&((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="shape"},css:function(m){return m.$connectMode?" dhx_diagram_toolbar__icon--active":""},tooltip:b.connect},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",css:function(){return"dhx_diagram_toolbar__icon--remove"},check:function(m){return!m.$selectedPoint},tooltip:b.remove},{id:"removePoint",content:"<i class='dxi dxi-delete-outline'>",check:function(m){var _;return((_=m.$item)===null||_===void 0?void 0:_.getBaseType())==="line"&&m.$selectedPoint},tooltip:b.removePoint},{id:"alignHorizontalLeft",content:"<i class='dxi dxi-align-horizontal-left'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignHorizontalLeft},{id:"alignHorizontalCenter",content:"<i class='dxi dxi-align-horizontal-center'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignHorizontalCenter},{id:"alignHorizontalRight",content:"<i class='dxi dxi-align-horizontal-right'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignHorizontalRight},{id:"alignHorizontalDistribute",content:"<i class='dxi dxi-align-horizontal-distribute'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignHorizontalDistribution},{id:"alignVerticalDistribute",content:"<i class='dxi dxi-align-vertical-distribute'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignVerticalDistribution},{id:"alignVerticalTop",content:"<i class='dxi dxi-align-vertical-top'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignVerticalTop},{id:"alignVerticalMiddle",content:"<i class='dxi dxi-align-vertical-center'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignVerticalMiddle},{id:"alignVerticalBottom",content:"<i class='dxi dxi-align-vertical-bottom'>",check:function(m){return Array.isArray(m)&&m.length>1},tooltip:b.alignVerticalBottom}]}},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},m.apply(this,arguments)},_=this&&this.__rest||function(r,a){var i={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&a.indexOf(n)<0&&(i[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function"){var e=0;for(n=Object.getOwnPropertySymbols(r);e<n.length;e++)a.indexOf(n[e])<0&&Object.prototype.propertyIsEnumerable.call(r,n[e])&&(i[n[e]]=r[n[e]])}return i};Object.defineProperty(g,"__esModule",{value:!0}),g.Toolbar=void 0;var h=y(102),d=y(30),p=y(1),u=y(45),s=y(101),l=function(r){function a(i,n){var e=r.call(this,null,{css:i.css,navigationType:i.navigationType||"click"})||this;return e._editor=n,e._meta=(0,s.meta)(u.i18n.diagram,e._editor.config.type),e.parse(i.items),[d.NavigationBarEvents.click,d.NavigationBarEvents.inputChange].forEach(function(t){e.events.on(t,function(o,c){var f=e.data.getItem(o);typeof f.handler=="function"&&f.handler(e._editor,c),typeof f.checkIcon=="function"&&e.checkIcons()})}),e.events.on(d.NavigationBarEvents.openMenu,function(){e.checkIcons()}),e}return w(a,r),a.prototype.parse=function(i){this.data.parse(this.getPreparedItems(i))},a.prototype.getPreparedItems=function(i){var n=this;return i.map(function(e){if(typeof e=="string"&&n._meta[e])return(v=(0,p.getCloneObject)(n._meta[e])).items&&(v.items=n.getPreparedItems(v.items)),typeof v.checkIcon=="function"&&(v.icon=v.checkIcon(n._editor)||""),v;if(typeof e=="object"){if(n._meta[e.type]){var t=e,o=t.items,c=t.type,f=_(t,["items","type"]);return(v=(0,p.getCloneObject)(n._meta[c])).items&&(v.items=n.getPreparedItems(o||v.items)),typeof v.checkIcon=="function"&&(v.icon=v.checkIcon(n._editor)||""),m(m({},v),f)}var v;return e.items?((v=(0,p.getCloneObject)(e)).items&&(v.items=n.getPreparedItems(v.items)),typeof v.checkIcon=="function"&&(v.icon=v.checkIcon(n._editor)||""),v):e}return{}})},a.prototype.checkIcons=function(){var i=this;this.data.forEach(function(n){typeof n.checkIcon=="function"&&i.data.update(n.id,{icon:n.checkIcon(i._editor)})})},a}(h.ProToolbar);g.Toolbar=l},function(H,g,y){var b,w=this&&this.__extends||(b=function(l,r){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},b(l,r)},function(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=l}b(l,r),l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}),m=this&&this.__assign||function(){return m=Object.assign||function(l){for(var r,a=1,i=arguments.length;a<i;a++)for(var n in r=arguments[a])Object.prototype.hasOwnProperty.call(r,n)&&(l[n]=r[n]);return l},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.ProToolbar=void 0;var _=y(103),h=y(34),d=y(0),p=y(2),u=y(21),s=function(l){function r(a,i){var n=l.call(this,a,i)||this;return n.scrollView=new h.ScrollView(function(){return n.getRootView()}),n}return w(r,l),r.prototype._draw=function(a){var i=this,n=this.data.getLength()?this.data.reduce(function(t,o){switch(o.type){case"title":return t||20;case"button":return o.size==="small"&&(!t||t<=28)?28:t||32;default:return 32}},0)+24:null,e=[(0,d.el)("ul.dhx_navbar.dhx_navbar--horizontal",m(m({"data-dhx-widget-id":this._uid,tabindex:0},function(t){return{role:"toolbar","aria-label":t||""}}(a)),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,onkeydown:this._handlers.onkeydown,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,_hooks:{didInsert:function(t){t.el.addEventListener("keyup",function(o){if(o.which===9){var c=(0,p.locateNode)(document.activeElement);if(c){var f=c.getAttribute("data-dhx-id"),v=i.data.getItem(f);v!=null&&v.tooltip&&(0,u.tooltip)(v.tooltip,{node:c,position:u.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(t){return i._factory(t)},this.data.getRoot(),!1))];return(0,d.el)("nav.dhx_widget.dhx_toolbar",{style:{height:n},class:this.config.css?this.config.css:""},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(e)):e)},r}(_.Toolbar);g.ProToolbar=s},function(H,g,y){var b,w=this&&this.__extends||(b=function(i,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},b(i,n)},function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=i}b(i,n),i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Shapebar=void 0;var _=y(1),h=y(0),d=y(2),p=y(5),u=y(29),s=y(95),l=y(96),r=y(94),a=function(i){function n(e,t){var o=i.call(this,null,e)||this;o._dropdowns=[],o._pull={},o._handleMove=function(f){(!(Math.abs(f.pageX-o._pressedShapeInfo.$x+f.pageY-o._pressedShapeInfo.$y)<10)||o._shadow)&&o._pressedShapeInfo&&(o._shadow||(o._shadow=(0,h.create)({render:function(){return o._getShadow()}},o),o._shadow.mount(o._editor.view.getRootView().node.el)),o._pressedShapeInfo.$x=f.clientX,o._pressedShapeInfo.$y=f.clientY,o._shadow.redraw())},o._handleUp=function(f){document.removeEventListener("pointermove",o._handleMove),document.removeEventListener("pointerup",o._handleUp),o.events.fire("shapesUp",[m({},o._pressedShapeInfo)]),o._pressedShapeInfo=null,o._shadow&&(o._shadow.unmount(),o._shadow=null)},o._toggle=function(f){o._dropdowns[f]=!o._dropdowns[f]},o.events=t.events,o._shapes=t.diagram.flowShapes||{},o._defaults=t.diagram.config.defaults||{},o._data=t.diagram.data||[],o._editor=t,o._htmlEvents={onpointerdown:(0,d.eventHandler)(function(f){return(0,d.locate)(f)},{dhx_editor_shapebar__preview:function(f,v){f.which===1&&(o._pressedShapeInfo=m(m({},o._pull[v]),{$x:f.x,$y:f.y}),document.addEventListener("pointermove",o._handleMove),document.addEventListener("pointerup",o._handleUp))}})};var c=(0,h.create)({render:function(f){return o._render(f)}},o);return o.mount(null,c),o}return w(n,i),n.prototype._getTextIcon=function(){return(0,h.el)("i.dhx_editor_icon-text.dxi.dxi-format-textbox")},n.prototype._wrapDropdown=function(e,t,o){o===void 0&&(o=!0);var c=e,f=this._dropdowns[e]=this._dropdowns[e]?this._dropdowns[e]:o;return(0,h.el)(".dhx_editor_shapebar__section",[(0,h.el)("input",{class:"dhx_editor_shapebar__checkbox",id:c,name:c,type:"checkbox",checked:f,onchange:[this._toggle,e]}),(0,h.el)("label",{class:"dhx_editor_shapebar__label",for:c},e),t])},n.prototype._getShadow=function(){if(!this._pressedShapeInfo)return this._shadow;var e,t=this._pressedShapeInfo,o=u.shapes[t.type];switch(t.type){case"$swimlane":e=this.getSwimlaneNode(m(m({},t),{width:2*t.width,height:2*t.height}),{data:this._data});break;case"$group":e=this.getGroupNode(t,{data:this._data});break;case"text":e=this._getTextIcon();break;default:e=o?new o(t,{defaults:this._defaults[t.type]||{},shapes:this._shapes}).render():new u.CustomShape(t,{defaults:this._defaults[t.type]||{},shapes:this._shapes}).render()}return(0,h.el)(".dhx_editor_shapebar__shadow",{_key:t.$key,style:{top:t.$y,left:t.$x}},[].concat(e))},n.prototype._getWrapped=function(e,t,o){var c,f,v,x,k,S,O,P,T,j,$=u.shapes[e],I=((c=this._defaults[e])===null||c===void 0?void 0:c.preview)||{};this._defaults[e]&&typeof I=="string"?j=I:(I.img&&(j=I.img),I.gap&&(T=I.gap),I.scale&&(P=I.scale),I.width&&(S=I.width),I.height&&(O=I.height));var F,E,V=P||((f=this.config.preview)===null||f===void 0?void 0:f.scale),z=T||((v=this.config.preview)===null||v===void 0?void 0:v.gap);if(j)return(0,h.el)(".dhx_editor_shapebar__preview",{_key:t.$key,"data-dhx-id":t.$key,style:{width:S||"calc(100%/3)",height:O||"100%",margin:z}},[(0,h.el)("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:j||"",alt:e}),(0,h.el)("div.dhx_editor_shapebar__preview-img-overlay")]);var X,Y=t.width,U=t.height;switch(Object.keys(u.flowShapes).includes(e)?(F=((x=this._defaults[e])===null||x===void 0?void 0:x.width)*V||140*V,E=((k=this._defaults[e])===null||k===void 0?void 0:k.height)*V||90*V):(F=Y*V,E=U*V),e){case"$group":X=this.getGroupNode(m(m({},t),{type:e,width:Y,height:U}),{data:this._data});break;case"$swimlane":X=this.getSwimlaneNode(m(m({},t),{type:e,width:Y,height:U}),{data:this._data});break;default:X=$?new $(t,{defaults:this._defaults[e]||{},shapes:this._shapes}).render():new u.CustomShape(t,{defaults:this._defaults[e]||{},shapes:this._shapes}).render()}return(0,h.el)(".dhx_editor_shapebar__preview",{_key:t.$key,"data-dhx-id":t.$key,style:{width:F,height:E,margin:z}},[o||(0,h.el)("div",{style:{transform:"scale(".concat(V,")"),transformOrigin:(0,d.isIE)()?"0":"50%"}},[X])])},n.prototype.getGroupNode=function(e,t){return new s.Group(e,t).render()},n.prototype.getSwimlaneNode=function(e,t){var o={},c=e.layout;if(e.layout.length){var f=new Set(c.flat(1/0));e.groupChildren=Array.from(f);for(var v=0;v<c.length;v++)for(var x=c[v],k=0;k<x.length;k++){var S=c[v][k];o[S]||(o[S]={type:"$sgroup",id:S,groupChildren:[]},o[S].$item=new l.GroupSwimlane(o[S],t))}}return new r.Swimlane(e,t).render(Object.values(o))},n.prototype._shapeInit=function(e){var t,o=["circle","junction","or"].includes(e.type),c=this._defaults[e.type],f=e.text||(c==null?void 0:c.text)||e.type[0].toUpperCase()+e.type.slice(1);switch(e.width=e.width||(c==null?void 0:c.width)||(o?90:140),e.height=e.height||(c==null?void 0:c.height)||90,e.fontColor=e.fontColor||(c==null?void 0:c.fontColor)||"var(--dhx-shapebar-item-font-color)",e.type){case"text":e.text=f,t=this._getTextIcon();break;case"card":case"img-card":e.text=e.text||(c==null?void 0:c.text)||u.locale.text,e.title=e.title||(c==null?void 0:c.text)||u.locale.title;break;case"topic":return e.text=e.text||(c==null?void 0:c.text)||u.locale.text,e.height=e.height||(c==null?void 0:c.height)||30,this._getWrapped(e.type,e);default:e.fill=e.fill||(c==null?void 0:c.fill)||"var(--dhx-shapebar-item-background)",e.stroke=e.stroke||(c==null?void 0:c.stroke)||"var(--dhx-shapebar-item-border-color)",e.text=f}return this._getWrapped(e.type,e,t)},n.prototype._barCreator=function(){var e=this,t=[],o=0,c={increaseValue:function(){return++o},getValue:function(){return o}};if(this.config.sections){var f=function(P){var T=[];v.config.sections[P].forEach(function(j){var $=["org","group","swimlane","flowShapes"].find(function(I){return j[I]===!0});$&&!j.type?T.push(e._getShapeSection($,c)):(e._addToPull(c,j),T.push(e._shapeInit(e._pull[o])))}),t.push(v._wrapDropdown(P,(0,h.el)(".dhx_editor_shapebar__area",T)))},v=this;for(var x in this.config.sections)f(x)}else{var k=Object.keys(this._defaults).map(function(P){return e._addToPull(c,P),e._shapeInit(e._pull[o])}),S=this._getShapeSection("group",c),O=this._getShapeSection("swimlane",c);t.push(this._wrapDropdown(u.locale.shapebar.shapeSections,(0,h.el)(".dhx_editor_shapebar__area",k)),this._wrapDropdown(u.locale.shapebar.groupSections,(0,h.el)(".dhx_editor_shapebar__area",S)),this._wrapDropdown(u.locale.shapebar.swimlaneSections,(0,h.el)(".dhx_editor_shapebar__area",O)))}return t},n.prototype._getShapeSection=function(e,t){var o=this,c="var(--dhx-shapebar-item-background)",f="var(--dhx-shapebar-item-font-color)",v="var(--dhx-shapebar-item-border-color)";switch(e){case"group":return[{type:"$group",header:{text:u.locale.shapebar.group,closable:!0,fill:c,fontColor:f},style:{stroke:v},height:300,width:480}].map(function(x){return o._addToPull(t,x),o._shapeInit(o._pull[t.getValue()])});case"swimlane":return[{type:"$swimlane",height:340,width:480,header:{text:u.locale.shapebar.swimlaneRows,closable:!0,fill:c,fontColor:f},style:{stroke:v},layout:[[(0,_.uid)()],[(0,_.uid)()],[(0,_.uid)()]],subHeaderRows:{enable:!0,fill:c,fontColor:f},subHeaderCols:{enable:!0,fill:c,fontColor:f}},{type:"$swimlane",height:340,width:480,header:{text:u.locale.shapebar.swimlaneCols,closable:!0,fill:c,fontColor:f},style:{stroke:v},layout:[[(0,_.uid)(),(0,_.uid)(),(0,_.uid)()]],subHeaderRows:{enable:!0,fill:c,fontColor:f},subHeaderCols:{enable:!0,fill:c,fontColor:f}},{type:"$swimlane",height:340,width:480,header:{text:u.locale.shapebar.swimlaneMix,closable:!0,fill:c,fontColor:f},style:{stroke:v},layout:[[(0,_.uid)(),(0,_.uid)(),(0,_.uid)()],[(0,_.uid)(),(0,_.uid)(),(0,_.uid)()],[(0,_.uid)(),(0,_.uid)(),(0,_.uid)()]],subHeaderRows:{enable:!0,fill:c,fontColor:f},subHeaderCols:{enable:!0,fill:c,fontColor:f}}].map(function(x){return o._addToPull(t,x),o._shapeInit(o._pull[t.getValue()])});case"org":return["card","img-card"].map(function(x){return o._addToPull(t,x),o._shapeInit(o._pull[t.getValue()])});default:return Object.keys(u.flowShapes).map(function(x){return o._addToPull(t,x),o._shapeInit(o._pull[t.getValue()])})}},n.prototype._addToPull=function(e,t){e.increaseValue();var o=e.getValue();this._pull[o]={$key:o,type:t},(0,_.isObject)(t)&&(this._pull[o]=m(m({},this._pull[o]),t))},n.prototype._render=function(e){return(0,h.el)(".dhx_editor_shapebar__wrapper",{onpointerdown:this._htmlEvents.onpointerdown},[].concat(this._barCreator()))},n}(p.View);g.Shapebar=a},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.base=void 0,g.base={shapebar:{width:300,scale:.5,gap:"6px 8px"},editbar:{width:300}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Editbar=void 0;var w=y(217),m=y(45),_=y(1),h=y(8),d=y(27),p=y(43),u=y(247),s=y(275),l=function(){function r(a,i,n){var e=this;if(this._activeControls={},this._cell=a,this._editor=n,this._diagram=this._editor.diagram,this._properties=b(b({},(0,s.default)(m.i18n.diagram)[this._editor.config.type]),i.properties),this._controls=(0,u.default)(m.i18n.diagram),i.controls)for(var t=0,o=Object.entries(i.controls);t<o.length;t++){var c=o[t],f=c[0],v=c[1];this._controls[f]=b(b({},this._controls[v.type||f]),v)}this._diagram.data.getLength()||this.setControls({type:"$default"}),this._diagram.events.on(d.SelectionEvents.afterSelect,function(x){var k=x.id,S=x.batch;S.length>1?k===S[S.length-1]&&e.setControls({type:"$default"}):e._diagram.selection.getIds().length>1?e.setControls({type:"$default"}):e.setControls({id:k})}),this._diagram.events.on(d.SelectionEvents.afterUnSelect,function(x){var k=x.id,S=x.batch;S.length>1?k===S[S.length-1]&&e.setControls({type:"$default"}):e.setControls({type:"$default"})}),this._diagram.events.on(d.DataEvents.change,function(x,k){var S=e._diagram.selection.getItem();({add:!0,update:!0})[k]&&(S==null?void 0:S.id)===x&&Object.keys(e._activeControls).forEach(function(O){e.useSetValue({id:O,item:S})})}),[d.DataEvents.load,d.DataEvents.removeAll].forEach(function(x){e._diagram.events.on(x,function(){return e.setControls({type:"$default"})})})}return r.prototype.isFocused=function(){var a,i;return(i=(a=this._cell.getCellView())===null||a===void 0?void 0:a.el)===null||i===void 0?void 0:i.contains(document.activeElement)},r.prototype.setControls=function(a){var i=a.type,n=a.id;this._activeControls={};var e=this._diagram.data.getItem(n);n&&(i=e.type),this.setForm(this.getFormLayout(this.getTypeProperties(i,e)),e),this._cell.attach(this._form)},r.prototype.getFormLayout=function(a,i){var n=this;return a.map(function(e){return n.getControlLayout(n.getControlProperties(b(b({},e),{$parent:i})))})},r.prototype.getControlLayout=function(a){var i=this._controls[a.type];i||a.rows||a.cols||(0,h.dhxError)("".concat(a.type," control does not exist. See doc: https://docs.dhtmlx.com/diagram/"));for(var n=0,e=Object.entries(a);n<e.length;n++){var t=e[n],o=t[0],c=t[1];o!=="rows"&&o!=="cols"||(a[o]=this.getFormLayout(c,a.id||a.$parent))}return typeof(i==null?void 0:i.$layout)=="function"&&i.$layout(a)||a},r.prototype.getControlProperties=function(a){var i,n,e=this._controls[a.type];if(e){var t=a.name||a.id||(0,_.uid)(),o=(n=(i=this._activeControls[a.$parent])===null||i===void 0?void 0:i.$properties)===null||n===void 0?void 0:n[a.key],c=this._activeControls[t]=b(b(b({id:t},e),a),o);for(var f in c)f.startsWith("$")||(a[f]=c[f])}return a},r.prototype.getTypeProperties=function(a,i){var n=i==null?void 0:i.$item.getBaseType(),e=this._properties[a]||this._properties["$".concat(n)];return typeof e=="function"?e({item:i,editor:this._editor}):e},r.prototype.setForm=function(a,i){var n=this;a===void 0&&(a=[]),this._form&&this._form.destructor(),this._form=new w.ProForm(null,{padding:"16px 16px 0 16px",rows:a}),Object.entries(this._activeControls).forEach(function(e){var t,o=e[0],c=e[1];typeof c.$setValue=="function"&&n.useSetValue({id:o,item:i});var f=c.$on&&Object.entries(c.$on);f&&f.forEach(function(v){var x=v[0],k=v[1],S=n._form.getItem(o);S==null||S.events.on(x,function(O){if(typeof k=="function")return k({control:S,editor:n._editor,id:i==null?void 0:i.id},O)})}),(t=n._form.getItem(o))===null||t===void 0||t.events.on(w.ItemEvent.input,function(v){n.useHandler({id:o,value:v,item:i})})}),this._form.events.on(w.FormEvents.change,function(e,t){n.useHandler({id:e,value:t,item:i})})},r.prototype.useHandler=function(a){var i=a.id,n=a.value,e=a.item,t=this._activeControls[i];if(t&&typeof t.$handler=="function"){if(n===(0,p.getValueFromObjectByKeys)(e,t.key))return;t.$handler({id:e==null?void 0:e.id,key:t.key,editor:this._editor,control:this._form.getItem(i),value:n}),this._editor.paint()}},r.prototype.useSetValue=function(a){var i=a.id,n=a.item,e=this._activeControls[i];if(e&&typeof e.$setValue=="function"){var t=(0,p.getValueFromObjectByKeys)(n,e.key),o=this._form.getItem(e.id);if(o.getValue()===t)return;e.$setValue({control:o,value:t,editor:this._editor})}},r}();g.Editbar=l},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(104),g),w(y(245),g),w(y(4),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])},b(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}b(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}),m=this&&this.__spreadArray||function(e,t,o){if(o||arguments.length===2)for(var c,f=0,v=t.length;f<v;f++)!c&&f in t||(c||(c=Array.prototype.slice.call(t,0,f)),c[f]=t[f]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(g,"__esModule",{value:!0}),g.DatePicker=void 0;var _=y(48),h=y(24),d=y(3),p=y(0),u=y(1),s=y(9),l=y(11),r=y(4),a=y(6),i=y(14),n=function(e){function t(o,c){var f=e.call(this,null,c)||this;return f.events=new d.EventSystem,f._popupIsFocus=!1,f._propsItem=["required","validation","valueFormat","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],f._propsCalendar=["mode","mark","disabledDates","weekStart","weekNumbers","timePicker","dateFormat","timeFormat","thisMonthOnly"],f._props=m(m(m([],a.baseProps,!0),f._propsItem,!0),f._propsCalendar,!0),f._keyManager=new i.KeyManager(function(){var v,x,k,S=document.activeElement;return((k=(x=(v=f.getRootView())===null||v===void 0?void 0:v.refs)===null||x===void 0?void 0:x.input)===null||k===void 0?void 0:k.el)===S||f._popup.isVisible()}),f._initView(c),f._initHandlers(),f._initHotkeys(),f.mount(o,(0,p.create)({render:function(){return f._draw()}})),f}return w(t,e),t.prototype.destructor=function(){this._popup&&this._popup.destructor(),this._keyManager&&this._keyManager.destructor(),this.calendar&&this.calendar.destructor(),this.events&&this.events.clear(),this.events=this._uid=this._propsCalendar=this._propsItem=this._props=this._keyManager=null,e.prototype._destructor.call(this)},t.prototype.setProperties=function(o){if(o&&!(0,u.isEmptyObj)(o)&&this.events.fire(r.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var c in o)this._props.includes(c)&&(this.config[c]=o[c],this._propsCalendar.includes(c)&&(this.calendar.config[c]=o[c]));this.events.fire(r.ItemEvent.afterChangeProperties,[this.getProperties()]),this.calendar.paint(),this.paint()}},t.prototype.getProperties=function(){for(var o={},c=0,f=this._props;c<f.length;c++){var v=f[c];o[v]=this.config[v]}return o},t.prototype.show=function(){var o=this.config,c=o.value;o.hidden&&this.events.fire(r.ItemEvent.beforeShow,[c])&&(this.config.hidden=!1,this.events.fire(r.ItemEvent.afterShow,[c]))},t.prototype.hide=function(o){var c=this.config,f=c.value;c.hidden&&!o||!this.events.fire(r.ItemEvent.beforeHide,[f,o])||(this.config.hidden=!0,this.events.fire(r.ItemEvent.afterHide,[f,o]))},t.prototype.isVisible=function(){return!this.config.hidden},t.prototype.disable=function(){this.config.disabled=!0,this.paint()},t.prototype.enable=function(){var o;this.config.disabled=!1,!((o=this.parent)===null||o===void 0)&&o.isDisabled()&&this.parent.enable(),this.paint()},t.prototype.isDisabled=function(){return!!this.config.disabled},t.prototype.validate=function(o){var c;o===void 0&&(o=!1);for(var f=[],v=1;v<arguments.length;v++)f[v-1]=arguments[v];var x=f.length?f[0]:this.getValue(),k=((c=this.config.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="date"?x instanceof Date:(0,h.stringToDate)(x,this.calendar.config.dateFormat,!0);if(!o&&!this.events.fire(r.ItemEvent.beforeValidate,[x]))return!1;var S=!0;return(this.config.required||f.length)&&(S=!!k),typeof this.config.validation=="function"&&(S=this.config.validation(x)),o||(this.setValidationStatus(S?"success":"error"),this.events.fire(r.ItemEvent.afterValidate,[x,S]),this.paint()),S},t.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},t.prototype.setValue=function(o){o!==void 0&&o!==this.config.value&&this.calendar.setValue(o)},t.prototype.getValue=function(o){var c;return this.calendar.getValue(((c=this.config.valueFormat)===null||c===void 0?void 0:c.toLowerCase())==="date"||o)||""},t.prototype.focus=function(){var o=this;(0,p.awaitRedraw)().then(function(){o.getRootView().refs.input.el.focus()})},t.prototype.blur=function(){var o=this;(0,p.awaitRedraw)().then(function(){o._popup.hide(),o.getRootView().refs.input.el.blur()})},t.prototype.clear=function(){this.config.value!==""&&this.calendar.clear()},t.prototype.getWidget=function(){return this.calendar},t.prototype._initView=function(o){if((0,u.isEmptyObj)(o))throw new Error("Check the configuration is correct");for(var c in this.calendar&&this.calendar.destructor(),this._popup&&this._popup.destructor(),this.config={type:o.type,id:o.id,name:o.name,disabled:!1,editable:!1,hidden:!1,value:"",mode:"calendar",weekStart:"sunday",weekNumbers:!1,timePicker:!1,dateFormat:"%d/%m/%y",timeFormat:24,thisMonthOnly:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},o)c!=="id"&&c!=="type"&&c!=="name"&&(this.config[c]=o[c]);this._popup=new l.Popup,this.calendar=new _.Calendar(null,(0,a.widgetConfig)(o)),this._popup.attach(this.calendar)},t.prototype._initHandlers=function(){var o=this;this.calendar.events.on(_.CalendarEvents.beforeChange,function(c){var f;return c!==""&&((f=o.config.valueFormat)===null||f===void 0?void 0:f.toLowerCase())!=="date"&&(c=(0,h.getFormattedDate)(o.calendar.config.dateFormat,c)),o.events.fire(r.ItemEvent.beforeChange,[c])}),this.calendar.events.on(_.CalendarEvents.change,function(c,f,v,x){var k;o.config.value=o.calendar.getValue(((k=o.config.valueFormat)===null||k===void 0?void 0:k.toLowerCase())==="date"),o.events.fire(r.ItemEvent.change,[o.config.value]),(0,a.isVerify)(o.config)&&(x==="clear"?o.setValidationStatus(o.validate(!0)?"success":"error"):o.validate()),o._popup.hide(),o.paint()}),this.events.on(r.ItemEvent.blur,function(){o._popupIsFocus=!1,o.paint()}),this._popup.events.on(l.PopupEvents.afterHide,function(){document.activeElement!==o.getRootView().refs.input.el&&o.events.fire(r.ItemEvent.blur,[o.getValue()]),o.paint()})},t.prototype._getHandlers=function(){var o=this;return{onblur:function(){o._popup.isVisible()||o.events.fire(r.ItemEvent.blur,[o.getValue()]),o.paint()},onfocus:function(){if(!o._popup.isVisible()){var c=o.getRootView().refs.input.el;o._popup.show(c,{theme:c}),o.events.fire(r.ItemEvent.focus,[o.getValue()]),o.paint()}},oninput:function(c){var f=c.target.value;o.events.fire(r.ItemEvent.input,[f])},onchange:function(c){var f=c.target.value;o.config.editable&&(0,h.stringToDate)(f,o.calendar.config.dateFormat,!0)?o.setValue(f):f===""&&o.clear()},onkeydown:function(c){var f,v,x,k=document.activeElement;(((x=(v=(f=o.getRootView())===null||f===void 0?void 0:f.refs)===null||v===void 0?void 0:v.input)===null||x===void 0?void 0:x.el)===k||o._popup.isVisible())&&o.events.fire(r.ItemEvent.keydown,[c])},onmousedown:function(){o._popup.getContainer()!==document.activeElement&&(o._popupIsFocus=!1)}}},t.prototype._initHotkeys=function(){var o=this,c={"shift+tab":function(){o._applyTab()},tab:function(){o._applyTab()},escape:function(){o._popup.isVisible()&&o.getRootView().refs.input.el.focus(),o._popup.hide()},enter:function(v){if(v.preventDefault(),!o._popup.isVisible()){var x=o.getRootView().refs.input.el;o._popup.show(x,{theme:x})}},arrowRight:function(v){var x=o._popup.getContainer();o._popup.isVisible()&&!o._popupIsFocus&&(v.preventDefault(),x.focus(),o._popupIsFocus=!0)}};for(var f in c)this._keyManager.addHotKey(f,c[f])},t.prototype._draw=function(){var o,c,f,v=this.config,x=v.icon,k=v.required,S=v.disabled,O=v.placeholder,P=v.name,T=v.id,j=v.editable,$=v.label,I=v.helpMessage,F=this.calendar.getValue(),E=this._popup.isVisible()||((f=(c=(o=this.getRootView())===null||o===void 0?void 0:o.refs)===null||c===void 0?void 0:c.input)===null||f===void 0?void 0:f.el)===document.activeElement;return(0,p.el)("div.dhx_form-group",{class:(0,a.getFormItemCss)(this.config,(0,a.isVerify)(this.config),E)},[this._drawLabel(),(0,p.el)(".dhx_input__wrapper",[(0,p.el)("div.dhx_input__container",{},[(0,p.el)(".dhx_input__icon",{class:x||"dxi dxi-calendar-today"}),(0,p.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":P||T,_key:this._uid,_ref:"input",value:F,type:"text",required:k,disabled:S,class:E&&"dhx_input--focus",placeholder:O||"",name:P||"",id:T||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!j,"aria-label":$||"".concat(j?"type or":""," select date"),"aria-describedby":I?"dhx_label__help_".concat(T||this._uid):null})]),(0,a.getValidationMessage)(this.config)&&(0,p.el)("span.dhx_input__caption",{},(0,a.getValidationMessage)(this.config))])])},t.prototype._applyTab=function(){var o,c,f;document.activeElement===((f=(c=(o=this._popup.getRootView())===null||o===void 0?void 0:o.refs)===null||c===void 0?void 0:c.content)===null||f===void 0?void 0:f.el)||this._popupIsFocus||this._popup.hide()},t}(s.Label);g.DatePicker=n},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},m.apply(this,arguments)},_=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.Button=void 0;var h=y(0),d=y(5),p=y(4),u=y(3),s=y(1),l=y(6),r=function(a){function i(n,e){var t=a.call(this,n,m({disabled:!1,hidden:!1,submit:!1,full:!1,circle:!1,loading:!1,view:"flat",size:"medium",color:"primary",height:"content",url:"",text:"",icon:""},e))||this;return t._propsItem=["submit","url","text","icon","view","size","color","full","circle","loading"],t._props=_(_([],l.baseProps,!0),t._propsItem,!0),t.config.text=t.config.text||t.config.value||"",t.events=new u.EventSystem,t._handlers={onclick:function(o){return t.events.fire(p.ItemEvent.click,[o])},onblur:function(){return t.events.fire(p.ItemEvent.blur,[t.config.text])},onfocus:function(){return t.events.fire(p.ItemEvent.focus,[t.config.text])},onkeydown:function(o){return t.events.fire(p.ItemEvent.keydown,[o])}},t.mount(n,(0,h.create)({render:function(){return t._draw()}})),t}return w(i,a),i.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this._propsItem=this._props=this.events=this._handlers=this._uid=null,this.unmount()},i.prototype.setProperties=function(n){if(n&&!(0,s.isEmptyObj)(n)&&this.events.fire(p.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in n)this._props.includes(e)&&(this.config[e]=n[e]);this.config.text=this.config.text||this.config.value,this.events.fire(p.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},i.prototype.getProperties=function(){for(var n={},e=0,t=this._props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.show=function(){var n=this.config,e=n.text,t=e===void 0?"":e;n.hidden&&this.events.fire(p.ItemEvent.beforeShow,[t])&&(this.config.hidden=!1,this.events.fire(p.ItemEvent.afterShow,[t]))},i.prototype.hide=function(n){n===void 0&&(n=!1);var e=this.config,t=e.text,o=t===void 0?"":t;e.hidden&&!n||!this.events.fire(p.ItemEvent.beforeHide,[o,n])||(this.config.hidden=!0,this.events.fire(p.ItemEvent.afterHide,[o,n]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.focus=function(){var n=this;(0,h.awaitRedraw)().then(function(){n.getRootView().refs.button.el.focus()})},i.prototype.blur=function(){var n=this;(0,h.awaitRedraw)().then(function(){n.getRootView().refs.button.el.blur()})},i.prototype._draw=function(){var n=this.config,e=n.color,t=n.size,o=n.view,c=n.loading,f=n.circle,v=n.icon,x=n.text,k=n.disabled,S=n.submit,O=n.id,P=n.name,T=n.full,j={danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[e]||" dhx_button--color_primary",$={small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[t]||" dhx_button--size_medium",I={flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[o]||" dhx_button--view_flat",F=T?" dhx_button--width_full":"",E=f?" dhx_button--circle":"",V=c?" dhx_button--loading":"",z=v&&!x?" dhx_button--icon":"";return(0,h.el)("button",{disabled:k,id:O,"data-dhx-id":P||O,onclick:this._handlers.onclick,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,type:S?"submit":"button",class:"dhx_button "+j+$+I+E+F+V+z,_ref:"button"},[v&&(0,h.el)("span.dhx_button__icon",{class:v}),x&&(0,h.el)("span.dhx_button__text",x),c&&(0,h.el)("span.dhx_button__loading",[(0,h.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])},i}(d.View);g.Button=r},function(H,g,y){var b,w=this&&this.__extends||(b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])},b(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}b(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}),m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var t,o=1,c=arguments.length;o<c;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},m.apply(this,arguments)},_=this&&this.__spreadArray||function(e,t,o){if(o||arguments.length===2)for(var c,f=0,v=t.length;f<v;f++)!c&&f in t||(c||(c=Array.prototype.slice.call(t,0,f)),c[f]=t[f]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(g,"__esModule",{value:!0}),g.CheckboxGroup=void 0;var h=y(0),d=y(16),p=y(3),u=y(105),s=y(9),l=y(4),r=y(1),a=y(6),i=y(11),n=function(e){function t(o,c){var f=e.call(this,null,c)||this;return f.events=new p.EventSystem,f._buttons=[],f._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],f._props=_(_([],a.baseProps,!0),f._propsItem,!0),f._initView(c),f._initHandlers(),f.mount(o,(0,h.create)({render:function(){return f._draw()}})),f}return w(t,e),t.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._buttons=null,e.prototype._destructor.call(this),this.unmount()},t.prototype.setProperties=function(o,c){if(o!==void 0&&this.events.fire(l.ItemEvent.beforeChangeProperties,[this.getProperties()])){if(typeof o=="object"&&!(0,r.isEmptyObj)(o)){for(var f in o)this._props.includes(f)&&(this.config[f]=o[f]);o.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}if(typeof o=="string"&&c&&!(0,r.isEmptyObj)(c)){var v=this._buttons.find(function(x){return x.config.id===o});v&&v.setProperties(c,!0)}this.events.fire(l.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},t.prototype.getProperties=function(o){if(o===void 0){var c={};for(var f in this.config)this._props.includes(f)&&(c[f]=this.config[f]);return c}return this._buttons.find(function(v){return v.config.id===o}).getProperties()},t.prototype.getValue=function(o){if(o===void 0){var c={};return this._buttons.forEach(function(v){c[v.config.id]=v.getValue()}),c}var f=this._buttons.find(function(v){return v.config.id===o});if(o&&f)return f.getValue()},t.prototype.setValue=function(o){if(o!==void 0&&!(0,r.isEmptyObj)(o)){for(var c=this.getValue(),f=m({},c),v=function(F,E){var V=x._buttons.find(function(X){return X.config.id===F});if(V){var z=V.config.value;f[F]=typeof z=="string"?E&&z||"":!!E}},x=this,k=0,S=Object.entries(o);k<S.length;k++){var O=S[k];v(O[0],O[1])}if(!(0,r.compare)(c,f)&&this.events.fire(l.ItemEvent.beforeChange,[f])){for(var P=function(F,E){var V=T._buttons.find(function(z){return z.config.id===F});V&&V.setValue(!!E,!0)},T=this,j=0,$=Object.entries(o);j<$.length;j++){var I=$[j];P(I[0],I[1])}this.events.fire(l.ItemEvent.change,[this.getValue()]),(0,a.isVerify)(this.config)&&this.validate()}}},t.prototype.isChecked=function(o){if(o===void 0){var c={};return this._buttons.forEach(function(v){c[v.config.id]=v.isChecked()}),c}var f=this._buttons.find(function(v){return v.config.id===o});if(o&&f)return f.isChecked()},t.prototype.focus=function(o){var c=this;(0,h.awaitRedraw)().then(function(){if(c._buttons.length){if(!o)return c._buttons[0].focus();var f=c._buttons.find(function(v){return v.config.id===o});f&&f.focus()}})},t.prototype.blur=function(){var o=this;(0,h.awaitRedraw)().then(function(){o._buttons.length&&o._buttons.forEach(function(c){c.blur()})})},t.prototype.show=function(o){var c,f=o&&this._buttons.find(function(v){return v.config.id===o});(0,r.isDefined)(o)&&!f||(!f&&(this.config.hidden||this._buttons.some(function(v){return v.config.hidden}))||((c=f==null?void 0:f.config)===null||c===void 0?void 0:c.hidden))&&this.events.fire(l.ItemEvent.beforeShow,[this.getValue(),o])&&(f?f==null||f.show():this._buttons.forEach(function(v){return v.show()}),this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[this.getValue(),o]))},t.prototype.hide=function(o,c){var f,v=o&&this._buttons.find(function(x){return x.config.id===o});(0,r.isDefined)(o)&&!v||(!v&&this.config.hidden||((f=v==null?void 0:v.config)===null||f===void 0?void 0:f.hidden))&&!c||!this.events.fire(l.ItemEvent.beforeHide,[this.getValue(),o,c])||(v?(v==null||v.hide(),this.config.hidden=this._buttons.every(function(x){return x.config.hidden})):(this._buttons.forEach(function(x){return x.hide()}),this.config.hidden=!0),this.events.fire(l.ItemEvent.afterHide,[this.getValue(),o,c]))},t.prototype.isVisible=function(o){var c,f=this._buttons.find(function(v){return v.config.id===o});return!(this.config.hidden||(0,r.isDefined)(o)&&((c=f==null?void 0:f.config)===null||c===void 0?void 0:c.hidden))},t.prototype.enable=function(o){var c,f,v=o&&this._buttons.find(function(x){return x.config.id===o});(0,r.isDefined)(o)&&!v||(!v&&(this.config.disabled||this._buttons.some(function(x){return x.config.disabled}))||((c=v==null?void 0:v.config)===null||c===void 0?void 0:c.disabled))&&(v?v==null||v.enable():this._buttons.forEach(function(x){return x.enable()}),this.config.disabled=!1,!((f=this.parent)===null||f===void 0)&&f.isDisabled()&&this.parent.enable(),this.paint())},t.prototype.disable=function(o,c){var f,v=o&&this._buttons.find(function(x){return x.config.id===o});(0,r.isDefined)(o)&&!v||(!v&&this.config.disabled||((f=v==null?void 0:v.config)===null||f===void 0?void 0:f.disabled))&&!c||(v?(v==null||v.disable(),this.config.disabled=this._buttons.every(function(x){return x.config.disabled})):(this._buttons.forEach(function(x){return x.disable()}),this.config.disabled=!0),this.paint())},t.prototype.isDisabled=function(o){var c,f=this._buttons.find(function(v){return v.config.id===o});return Boolean(this.config.disabled||(0,r.isDefined)(o)&&((c=f==null?void 0:f.config)===null||c===void 0?void 0:c.disabled))},t.prototype.clear=function(){if(this._buttons.some(function(c){return c.isChecked()})){var o={};if(this._buttons.forEach(function(c){o[c.config.id]=typeof c.config.value=="string"&&""}),!this.events.fire(l.ItemEvent.beforeChange,[o]))return;this._buttons.forEach(function(c){c.clear(!0)}),this.events.fire(l.ItemEvent.change,[o]),(0,a.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")}},t.prototype.validate=function(o){o===void 0&&(o=!1);var c=this.getValue();if(!o&&!this.events.fire(l.ItemEvent.beforeValidate,[c]))return!1;var f=!0;return this.config.required&&(f=this._buttons.some(function(v){return v.config.$required&&!!v.config.checked})),o||(this._buttons.forEach(function(v){v.setValidationStatus(f?"success":"error")}),this.setValidationStatus(f?"success":"error"),this.events.fire(l.ItemEvent.afterValidate,[c,f]),this.paint()),f},t.prototype.clearValidate=function(){this.setValidationStatus(),this._buttons.forEach(function(o){o.clearValidate()}),this.paint()},t.prototype._initView=function(o){var c=this;if((0,r.isEmptyObj)(o)||!o.options||(0,r.isEmptyObj)(o.options))throw new Error("Check the configuration is correct");for(var f in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach(function(x){x.destructor()}),this._buttons=[]),this.config={type:o.type,id:o.id,name:o.name,disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},o)f!=="id"&&f!=="type"&&f!=="name"&&(this.config[f]=o[f]);this.config.helpMessage&&(this._helper=new i.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage));var v=this.config.options.rows||this.config.options.cols;v==null||v.forEach(function(x){x.id=x.id||(0,r.uid)(),x.$group=!0}),this.layout=new d.Layout(null,this.config.options),v==null||v.forEach(function(x){var k=new u.Checkbox(null,m(m({},x),{disabled:o.disabled||x.disabled,name:o.name,$required:o.required}));c._buttons.push(k),c.layout.getCell(x.id).attach(k),k.events.on(l.ItemEvent.beforeChange,function(S){var O,P=m(m({},c.getValue()),((O={})[k.config.id]=S,O));return c.events.fire(l.ItemEvent.beforeChange,[P])}),k.events.on(l.ItemEvent.change,function(){c.events.fire(l.ItemEvent.change,[c.getValue()]),(0,a.isVerify)(c.config)&&c.validate()}),k.events.on(l.ItemEvent.focus,function(S,O){c.events.fire(l.ItemEvent.focus,[c.getValue(),O])}),k.events.on(l.ItemEvent.blur,function(S,O){c.events.fire(l.ItemEvent.blur,[c.getValue(),O])}),k.events.on(l.ItemEvent.keydown,function(S,O){c.events.fire(l.ItemEvent.keydown,[S,O])}),k.events.on(l.ItemEvent.afterHide,function(){(0,h.awaitRedraw)().then(function(){var S;(S=c.layout.getCell(k.config.id))===null||S===void 0||S.hide()})}),k.events.on(l.ItemEvent.afterShow,function(){var S;(S=c.layout.getCell(k.config.id))===null||S===void 0||S.show()})}),this.config.value&&this.setValue(this.config.value),this.clearValidate(),!this.config.disabled&&this._buttons.length&&this._buttons.every(function(x){return x.config.disabled})&&(this.config.disabled=!0)},t.prototype._initHandlers=function(){var o=this;this.events.on(l.ItemEvent.change,function(){o.config.value=o.getValue(),o.paint()})},t.prototype._draw=function(){var o=this.config.hidden?" dhx_form-group--hidden":"",c=this.config,f=c.label,v=c.labelWidth,x=c.helpMessage,k=c.required,S=c.name,O=c.id;return(0,h.el)("fieldset.dhx_form-group-fieldset",{},[(0,h.el)("div.dhx_form-group.dhx_form-group--checkbox-group",{class:(0,a.getFormItemCss)(this.config,(0,a.isVerify)(this.config))+o,"data-dhx-id":S||O,role:"radiogroup",_key:O||this._uid},[f||v||x||k?this._drawLabel():null,(0,h.el)("div.dhx_checkbox-group--container",{},[this.layout&&(0,h.inject)(this.layout.getRootView()),k&&(0,a.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",(0,a.getValidationMessage)(this.config))])])])},t}(s.Label);g.CheckboxGroup=n},function(H,g,y){var b,w=this&&this.__extends||(b=function(e,t){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(o[f]=c[f])},b(e,t)},function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}b(e,t),e.prototype=t===null?Object.create(t):(o.prototype=t.prototype,new o)}),m=this&&this.__assign||function(){return m=Object.assign||function(e){for(var t,o=1,c=arguments.length;o<c;o++)for(var f in t=arguments[o])Object.prototype.hasOwnProperty.call(t,f)&&(e[f]=t[f]);return e},m.apply(this,arguments)},_=this&&this.__spreadArray||function(e,t,o){if(o||arguments.length===2)for(var c,f=0,v=t.length;f<v;f++)!c&&f in t||(c||(c=Array.prototype.slice.call(t,0,f)),c[f]=t[f]);return e.concat(c||Array.prototype.slice.call(t))};Object.defineProperty(g,"__esModule",{value:!0}),g.RadioGroup=void 0;var h=y(0),d=y(1),p=y(16),u=y(11),s=y(3),l=y(222),r=y(6),a=y(9),i=y(4),n=function(e){function t(o,c){var f=e.call(this,null,c)||this;return f.events=new s.EventSystem,f._buttons=[],f._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],f._props=_(_([],r.baseProps,!0),f._propsItem,!0),f._initView(c),f._initHandlers(),f.config.value&&f._setValue(f.config.value),f.clearValidate(),f.config.helpMessage&&(f._helper=new u.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),f._helper.attachHTML(f.config.helpMessage)),f.mount(o,(0,h.create)({render:function(){return f._draw()}})),f}return w(t,e),t.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._buttons=null,e.prototype._destructor.call(this),this.unmount()},t.prototype.setProperties=function(o,c){if(o!==void 0&&this.events.fire(i.ItemEvent.beforeChangeProperties,[this.getProperties()])){if(typeof o=="object"&&!(0,d.isEmptyObj)(o)){for(var f in o)this._props.includes(f)&&(this.config[f]=o[f]);o.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}if(typeof o=="string"&&c&&!(0,d.isEmptyObj)(c)){var v=this._buttons.find(function(x){return x.config.id===o});v&&v.setProperties(c)}this.events.fire(i.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},t.prototype.getProperties=function(o){if(o===void 0){var c={};for(var f in this.config)this._props.includes(f)&&(c[f]=this.config[f]);return c}return this._buttons.find(function(v){return v.config.id===o}).getProperties()},t.prototype.getValue=function(){var o=this;return this._buttons.forEach(function(c){c.getValue()&&(o.config.value=c.getValue()||"")}),this.config.value||""},t.prototype.setValue=function(o){o!==this.config.value&&(this._setValue(o),this.events.fire(i.ItemEvent.change,[o]),(0,r.isVerify)(this.config)&&this.validate())},t.prototype.focus=function(o){var c=this;(0,h.awaitRedraw)().then(function(){if(c._buttons.length){if(!o)return c._buttons[0].focus();var f=c._buttons.find(function(v){return v.config.id===o});if(f)return f.focus()}})},t.prototype.blur=function(){var o=this;(0,h.awaitRedraw)().then(function(){o._buttons.length&&o._buttons.forEach(function(c){return c.blur()})})},t.prototype.show=function(o){var c,f=o&&this._buttons.find(function(v){return v.config.id===o});(0,d.isDefined)(o)&&!f||(!f&&(this.config.hidden||this._buttons.some(function(v){return v.config.hidden}))||((c=f==null?void 0:f.config)===null||c===void 0?void 0:c.hidden))&&this.events.fire(i.ItemEvent.beforeShow,[this.getValue(),o])&&(f?f==null||f.show():this._buttons.forEach(function(v){return v.show()}),this.config.hidden=!1,this.events.fire(i.ItemEvent.afterShow,[this.getValue(),o]))},t.prototype.hide=function(o,c){var f,v=o&&this._buttons.find(function(x){return x.config.id===o});(0,d.isDefined)(o)&&!v||(!v&&this.config.hidden||((f=v==null?void 0:v.config)===null||f===void 0?void 0:f.hidden))&&!c||!this.events.fire(i.ItemEvent.beforeHide,[this.getValue(),o,c])||(v?(v==null||v.hide(),this.config.hidden=this._buttons.every(function(x){return x.config.hidden})):(this._buttons.forEach(function(x){return x.hide()}),this.config.hidden=!0),this.events.fire(i.ItemEvent.afterHide,[this.getValue(),o,c]))},t.prototype.isVisible=function(o){var c,f=this._buttons.find(function(v){return v.config.id===o});return!(this.config.hidden||(0,d.isDefined)(o)&&((c=f==null?void 0:f.config)===null||c===void 0?void 0:c.hidden))},t.prototype.enable=function(o){var c,f,v=o&&this._buttons.find(function(x){return x.config.id===o});(0,d.isDefined)(o)&&!v||(!v&&(this.config.disabled||this._buttons.some(function(x){return x.config.disabled}))||((c=v==null?void 0:v.config)===null||c===void 0?void 0:c.disabled))&&(v?v==null||v.enable():this._buttons.forEach(function(x){return x.enable()}),this.config.disabled=!1,!((f=this.parent)===null||f===void 0)&&f.isDisabled()&&this.parent.enable(),this.paint())},t.prototype.disable=function(o,c){var f,v=o&&this._buttons.find(function(x){return x.config.id===o});(0,d.isDefined)(o)&&!v||(!v&&this.config.disabled||((f=v==null?void 0:v.config)===null||f===void 0?void 0:f.disabled))&&!c||(v?(v==null||v.disable(),this.config.disabled=this._buttons.every(function(x){return x.config.disabled})):(this._buttons.forEach(function(x){return x.disable()}),this.config.disabled=!0),this.paint())},t.prototype.isDisabled=function(o){var c,f=this._buttons.find(function(v){return v.config.id===o});return Boolean(this.config.disabled||(0,d.isDefined)(o)&&((c=f==null?void 0:f.config)===null||c===void 0?void 0:c.disabled))},t.prototype.clear=function(){this.config.value!==""&&(this._buttons.forEach(function(o){o.clear()}),this.config.value="",this.events.fire(i.ItemEvent.change,[this.config.value]),(0,r.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},t.prototype.validate=function(o){var c=this;o===void 0&&(o=!1);var f=this.getValue();if(!o&&!this.events.fire(i.ItemEvent.beforeValidate,[f]))return!1;var v=!0;return this.config.required&&(v=this._buttons.some(function(x){return c.config.required&&!!x.config.checked})),o||(this._buttons.forEach(function(x){x.setValidationStatus(v?"success":"error")}),this.setValidationStatus(v?"success":"error"),this.events.fire(i.ItemEvent.afterValidate,[f,v]),this.paint()),v},t.prototype.clearValidate=function(){this.setValidationStatus(),this._buttons.map(function(o){o.clearValidate()}),this.paint()},t.prototype._initView=function(o){var c=this;if((0,d.isEmptyObj)(o)||!o.options||(0,d.isEmptyObj)(o.options))throw new Error("Check the configuration is correct");for(var f in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach(function(x){x.destructor()}),this._buttons=[]),this.config={type:o.type,id:o.id,name:o.name,value:"",disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},o)f!=="id"&&f!=="type"&&f!=="name"&&(this.config[f]=o[f]);var v=this.config.options.rows||this.config.options.cols;v==null||v.forEach(function(x){x.id=x.id||(0,d.uid)()}),this.layout=new p.Layout(null,this.config.options),v==null||v.forEach(function(x){var k=new l.RadioButton(null,m(m({},x),{disabled:o.disabled||x.disabled,$name:o.name,$required:o.required}));c._buttons.push(k),c.layout.getCell(x.id).attach(k),k.events.on(l.RadioButtonEvents.beforeChange,function(){return c.events.fire(i.ItemEvent.beforeChange,[k.config.value||""])}),k.events.on(l.RadioButtonEvents.change,function(){c._buttons.map(function(S){S.config.id!==k.config.id&&S.setValue(!1)}),c.events.fire(i.ItemEvent.change,[c.getValue()]),(0,r.isVerify)(c.config)&&c.validate()}),k.events.on(l.RadioButtonEvents.focus,function(S,O){c.events.fire(i.ItemEvent.focus,[S,O])}),k.events.on(l.RadioButtonEvents.blur,function(S,O){c.events.fire(i.ItemEvent.blur,[S,O])}),k.events.on(l.RadioButtonEvents.keydown,function(S,O){c.events.fire(i.ItemEvent.keydown,[S,O])}),k.events.on(i.ItemEvent.afterHide,function(){(0,h.awaitRedraw)().then(function(){c.layout.getCell(k.config.id).hide()})}),k.events.on(i.ItemEvent.afterShow,function(){c.layout.getCell(k.config.id).show()})}),!this.config.disabled&&this._buttons.length&&this._buttons.every(function(x){return x.config.disabled})&&(this.config.disabled=!0)},t.prototype._initHandlers=function(){var o=this;this.events.on(i.ItemEvent.beforeChange,function(){return o.paint()}),this.events.on(i.ItemEvent.change,function(){o.config.value=o.getValue(),o.paint()})},t.prototype._draw=function(){var o=this.config,c=o.label,f=o.labelWidth,v=o.helpMessage,x=o.required,k=o.hidden,S=o.name,O=o.id,P=k?" dhx_form-group--hidden":"";return(0,h.el)("fieldset.dhx_form-group-fieldset",{},[(0,h.el)("div.dhx_form-group.dhx_form-group--radio-group",{class:(0,r.getFormItemCss)(this.config,(0,r.isVerify)(this.config))+P,"data-dhx-id":S||O,_key:O||this._uid},[c||f||v||x?this._drawLabel():null,(0,h.el)("div.dhx_radio-group--container",{},[this.layout&&(0,h.inject)(this.layout.getRootView()),x&&(0,r.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",(0,r.getValidationMessage)(this.config))])])])},t.prototype._setValue=function(o){o!==void 0&&this._buttons.findIndex(function(c){return c.config.value===o})!==-1&&this._buttons.forEach(function(c){c.setValue(o===c.config.value)})},t}(a.Label);g.RadioGroup=n},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},m.apply(this,arguments)},_=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.RadioButton=g.RadioButtonEvents=void 0;var h,d=y(1),p=y(0),u=y(3),s=y(6),l=y(9);(function(a){a.beforeChange="beforeChange",a.change="change",a.focus="focus",a.blur="blur",a.keydown="keydown",a.beforeHide="beforeHide",a.afterHide="afterHide",a.beforeShow="beforeShow",a.afterShow="afterShow"})(h||(g.RadioButtonEvents=h={}));var r=function(a){function i(n,e){e===void 0&&(e={});var t=a.call(this,n,m({text:"",width:"content",height:"content",checked:!1},e))||this;return t._propsItem=["text"],t._props=_(_([],s.baseProps,!0),t._propsItem,!0),t._handlers={onchange:function(o){var c=o.target.checked;t.events.fire(h.beforeChange,[c])&&(t.config.checked=c,t.events.fire(h.change,[c]))},onfocus:function(){return t.events.fire(h.focus,[t.getValue()||"",t.config.id])},onblur:function(){var o;return(o=t.events)===null||o===void 0?void 0:o.fire(h.blur,[t.getValue()||"",t.config.id])},onkeydown:function(o){t.events.fire(h.keydown,[o,t.config.id])}},t.events=new u.EventSystem,t.mount(n,(0,p.create)({render:function(){return t._draw()}})),t}return w(i,a),i.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._handlers=this._uid=this._props=this._propsItem=null,this.unmount()},i.prototype.setProperties=function(n){if(n&&!(0,d.isEmptyObj)(n)){for(var e in n)this._props.includes(e)&&(this.config[e]=n[e]);this.paint()}},i.prototype.getProperties=function(){for(var n={},e=0,t=this._props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.getValue=function(){if(this.config.checked)return this.config.value},i.prototype.setValue=function(n){this.config.checked=n,this.paint()},i.prototype.show=function(){this.config.hidden&&this.events.fire(h.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(h.afterShow,[]))},i.prototype.hide=function(){!this.config.hidden&&this.events.fire(h.beforeHide,[])&&(this.config.hidden=!0,this.events.fire(h.afterHide,[]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.focus=function(){var n=this;(0,p.awaitRedraw)().then(function(){n.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var n=this;(0,p.awaitRedraw)().then(function(){n.getRootView().refs.input.el.blur()})},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var n;this.config.disabled=!1,!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.clear=function(){this.config.checked=!1,this.setValidationStatus(this.validate()?"success":"error"),this.paint()},i.prototype.validate=function(){var n=!!this.config.checked;return this.setValidationStatus(n?"success":"error"),this.paint(),n},i.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},i.prototype._draw=function(){var n=this.config,e=n.id,t=n.value,o=n.checked,c=n.disabled,f=n.$name,v=n.$required,x=n.text;return(0,p.el)("label.dhx_radiobutton.dhx_form-group",{class:(0,s.getFormItemCss)(this.config,!!v)},[(0,p.el)("input.dhx_radiobutton__input",{type:"radio",id:e,_key:e||this._uid,value:t||"",name:f||"",disabled:c,checked:o,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:v,_ref:"input"}),(0,p.el)("span.dhx_radiobutton__visual-input"),(0,p.el)("span.dhx_text",[x])])},i}(l.Label);g.RadioButton=r},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__assign||function(){return m=Object.assign||function(a){for(var i,n=1,e=arguments.length;n<e;n++)for(var t in i=arguments[n])Object.prototype.hasOwnProperty.call(i,t)&&(a[t]=i[t]);return a},m.apply(this,arguments)},_=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.Select=void 0;var h=y(0),d=y(1),p=y(9),u=y(6),s=y(3),l=y(4),r=function(a){function i(n,e){var t=a.call(this,null,e)||this;return t.events=new s.EventSystem,t._propsItem=["required","validation","icon","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],t._props=_(_([],u.baseProps,!0),t._propsItem,!0),t._initView(e),t}return w(i,a),i.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._props=null,a.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(n){if(n&&!(0,d.isEmptyObj)(n)&&this.events.fire(l.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var e in n)this._props.includes(e)&&(this.config[e]=n[e]);this.events.fire(l.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},i.prototype.getProperties=function(){for(var n={},e=0,t=this._props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.show=function(){this.config.hidden&&this.events.fire(l.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[this.getValue()]))},i.prototype.hide=function(n){this.config.hidden&&!n||!this.events.fire(l.ItemEvent.beforeHide,[this.getValue(),!!n])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[this.getValue(),!!n]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(n){var e=(0,d.isDefined)(n)&&this.config.options.find(function(t){return t.value===n});(0,d.isDefined)(n)&&!e||!e&&this.config.disabled||(e==null?void 0:e.disabled)||(e?(e.disabled=!0,this.config.disabled=this.config.options.every(function(t){return t.disabled})):(this.config.options=this.config.options.map(function(t){return m(m({},t),{disabled:!0})}),this.config.disabled=!0),this.paint())},i.prototype.enable=function(n){var e,t=(0,d.isDefined)(n)&&this.config.options.find(function(o){return o.value===n});(0,d.isDefined)(n)&&!t||(!t&&(this.config.disabled||this.config.options.some(function(o){return o.disabled}))||(t==null?void 0:t.disabled))&&(t?t.disabled=!1:this.config.options=this.config.options.map(function(o){return m(m({},o),{disabled:!1})}),this.config.disabled=!1,!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint())},i.prototype.isDisabled=function(n){var e=this.config.options.find(function(t){return t.value===n});return Boolean(this.config.disabled||(0,d.isDefined)(n)&&(e==null?void 0:e.disabled))},i.prototype.validate=function(n){n===void 0&&(n=!1);var e=this.getValue();if(!n&&!this.events.fire(l.ItemEvent.beforeValidate,[e]))return!1;var t=!0;return this.config.required&&(t=(0,d.isDefined)(e)),typeof this.config.validation=="function"&&(t=this.config.validation(e)),n||(this.setValidationStatus(t?"success":"error"),this.events.fire(l.ItemEvent.afterValidate,[e,t]),this.paint()),t},i.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},i.prototype.clear=function(){var n,e,t=(e=(n=this.config)===null||n===void 0?void 0:n.options[0])===null||e===void 0?void 0:e.value;this.config.value!==t&&this.events.fire(l.ItemEvent.beforeChange,[t])&&(this.config.value=t,this.events.fire(l.ItemEvent.change,[t]),(0,u.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"),this.paint())},i.prototype.setValue=function(n){n!==void 0&&n!==this.config.value&&this.config.options.findIndex(function(e){return e.value===n})!==-1&&this.events.fire(l.ItemEvent.beforeChange,[n])&&(this.config.value=n,this.events.fire(l.ItemEvent.change,[n]),(0,u.isVerify)(this.config)&&this.validate(),this.paint())},i.prototype.focus=function(){var n=this;(0,h.awaitRedraw)().then(function(){n.getRootView().refs.select.el.focus()})},i.prototype.blur=function(){var n=this;(0,h.awaitRedraw)().then(function(){n.getRootView().refs.select.el.blur()})},i.prototype.getValue=function(){return this.config.value},i.prototype.setOptions=function(n){if(!n||!n.length)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");this.events.fire(l.ItemEvent.beforeChangeOptions,[_([],n,!0)])&&(this._checkOptions(n),this.config.options=_([],n,!0),this.events.fire(l.ItemEvent.changeOptions,[_([],n,!0)]),this.setValue(this.config.options[0].value),this.paint())},i.prototype.getOptions=function(){return this.config.options},i.prototype._initView=function(n){if((0,d.isEmptyObj)(n))throw new Error("Check the configuration is correct");for(var e in this._checkOptions(n.options),this.config={type:n.type,id:n.id,name:n.name,disabled:!1,hidden:!1,required:!1,icon:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content",options:n.options,value:n.options[0].value},n)e!=="id"&&e!=="type"&&e!=="name"&&(this.config[e]=n[e]);!this.config.disabled&&this.config.options.length&&this.config.options.every(function(t){return t.disabled})&&(this.config.disabled=!0),this.paint()},i.prototype._getHandlers=function(){var n=this;return{onchange:function(e){var t=n.config.options.map(function(o){return o.value}).find(function(o){return o==e.target.value});n.events.fire(l.ItemEvent.beforeChange,[t])&&(n.config.value=t,n.events.fire(l.ItemEvent.change,[t]),(0,u.isVerify)(n.config)&&n.validate(),n.paint())},onblur:function(){n._uid&&(n.events.fire(l.ItemEvent.blur,[n.getValue()]),n.paint())},onfocus:function(){n.events.fire(l.ItemEvent.focus,[n.getValue()]),n.paint()}}},i.prototype._draw=function(){var n,e,t,o=this.config,c=o.id,f=o.options,v=o.icon,x=o.value,k=o.label,S=o.labelWidth,O=o.helpMessage,P=o.required,T=o.name,j=((t=(e=(n=this.getRootView())===null||n===void 0?void 0:n.refs)===null||e===void 0?void 0:e.select)===null||t===void 0?void 0:t.el)===document.activeElement;return(0,h.el)(".dhx_form-group",{class:(0,u.getFormItemCss)(this.config,(0,u.isVerify)(this.config),j)},[(k||S||O)&&this._drawLabel(),(0,h.el)(".dhx_input__wrapper",{},[(0,h.el)("div.dhx_input__container",{},[(0,h.el)(".dhx_input__icon",{class:v||"dxi dxi-menu-down"}),(0,h.el)("select.dhx_select.dhx_input",{id:c,_key:c||this._uid,"data-dhx-id":T||c,tabindex:0,class:j&&"dhx_input--focus",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,_ref:"select",required:P},f.length&&f.map(function($){return(0,h.el)("option",{value:$.value,disabled:$.disabled,selected:x===$.value},$.content)}))]),(0,u.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",(0,u.getValidationMessage)(this.config))])])},i.prototype._checkOptions=function(n){if(n.length===0)throw new Error("Property options* cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");n.forEach(function(e){if(!e.hasOwnProperty("value")||!e.hasOwnProperty("content"))throw new Error("The object must contain two required properties value and content, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect")})},i}(p.Label);g.Select=r},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},m.apply(this,arguments)},_=this&&this.__spreadArray||function(r,a,i){if(i||arguments.length===2)for(var n,e=0,t=a.length;e<t;e++)!n&&e in a||(n||(n=Array.prototype.slice.call(a,0,e)),n[e]=a[e]);return r.concat(n||Array.prototype.slice.call(a))};Object.defineProperty(g,"__esModule",{value:!0}),g.Textarea=void 0;var h=y(0),d=y(6),p=y(41),u=y(4),s=y(1),l=function(r){function a(){var i=r!==null&&r.apply(this,arguments)||this;return i._propsItem=["required","validation","placeholder","readOnly","maxlength","minlength","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],i._props=_(_([],d.baseProps,!0),i._propsItem,!0),i}return w(a,r),a.prototype.getValue=function(){var i;return String((i=this.config.value)!==null&&i!==void 0?i:"")},a.prototype.isFocused=function(){var i,n,e;return((e=(n=(i=this.getRootView())===null||i===void 0?void 0:i.refs)===null||n===void 0?void 0:n.textarea)===null||e===void 0?void 0:e.el)===document.activeElement},a.prototype.focus=function(){var i=this;(0,h.awaitRedraw)().then(function(){i.getRootView().refs.textarea.el.focus()})},a.prototype.blur=function(){var i=this;(0,h.awaitRedraw)().then(function(){i.getRootView().refs.textarea.el.blur()})},a.prototype.setProperties=function(i){if(i&&!(0,s.isEmptyObj)(i)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var n in i)this._props.includes(n)&&(this.config[n]=i[n]);this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},a.prototype.getProperties=function(){for(var i={},n=0,e=this._props;n<e.length;n++){var t=e[n];i[t]=this.config[t]}return i},a.prototype._initView=function(i){if((0,s.isEmptyObj)(i))throw new Error("Check the configuration is correct");for(var n in this.config={type:i.type,id:i.id,name:i.name,disabled:!1,hidden:!1,required:!1,validation:void 0,placeholder:"",readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},i)n!=="id"&&n!=="type"&&n!=="name"&&(this.config[n]=i[n]);this.paint()},a.prototype._draw=function(){var i,n,e,t=this,o=this.config,c=o.id,f=o.value,v=o.disabled,x=o.name,k=o.placeholder,S=o.required,O=o.resizable,P=o.readOnly,T=o.maxlength,j=o.minlength,$=o.label,I=o.helpMessage,F=o.height,E=((e=(n=(i=this.getRootView())===null||i===void 0?void 0:i.refs)===null||n===void 0?void 0:n.textarea)===null||e===void 0?void 0:e.el)===document.activeElement;return(0,h.el)("div.dhx_form-group.dhx_form-group--textarea",{class:(0,d.getFormItemCss)(this.config,(0,d.isVerify)(this.config),E)},[this._drawLabel(),(0,h.el)(".dhx_input__wrapper",[(0,h.el)("textarea.dhx_input.dhx_input--textarea",{type:"text",id:c,"data-dhx-id":x||c,placeholder:k||"",value:(0,s.isDefined)(f)?f:"",name:x||"",disabled:v,required:S,readOnly:P,maxlength:T,minlength:j,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,_hooks:m(m({},this._getHooks()),{didInsert:function(V){if(F==="content"){var z=V.el;z.style.height=z.scrollHeight+"px"}V.el.addEventListener("compositionend",t._handlers.oninput)}}),style:{resize:O?"both":"none"},_ref:"textarea","aria-label":$||"".concat(P?f:""," type text"),"aria-describedby":I?"dhx_label__help_".concat(c||this._uid):null}),(0,d.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",{},(0,d.getValidationMessage)(this.config))])])},a}(p.Input);g.Textarea=l},function(H,g,y){var b,w=this&&this.__extends||(b=function(l,r){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(a[n]=i[n])},b(l,r)},function(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=l}b(l,r),l.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}),m=this&&this.__spreadArray||function(l,r,a){if(a||arguments.length===2)for(var i,n=0,e=r.length;n<e;n++)!i&&n in r||(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return l.concat(i||Array.prototype.slice.call(r))};Object.defineProperty(g,"__esModule",{value:!0}),g.Text=void 0;var _=y(0),h=y(1),d=y(6),p=y(41),u=y(4),s=function(l){function r(){var a=l!==null&&l.apply(this,arguments)||this;return a._propsItem=["inputType","label","labelWidth","labelPosition","hiddenLabel","helpMessage"],a._props=m(m([],d.baseProps,!0),a._propsItem,!0),a}return w(r,l),r.prototype.setProperties=function(a){if(a&&!(0,h.isEmptyObj)(a)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in a)this._props.includes(i)&&(this.config[i]=a[i]);this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},r.prototype.getProperties=function(){for(var a={},i=0,n=this._props;i<n.length;i++){var e=n[i];a[e]=this.config[e]}return a},r.prototype._initView=function(a){if((0,h.isEmptyObj)(a))throw new Error("Check the configuration is correct");for(var i in this.config={type:a.type,id:a.id,name:a.name,disabled:!1,hidden:!1,value:"",inputType:"text",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"},a)i!=="id"&&i!=="type"&&i!=="name"&&(this.config[i]=a[i]);this.paint()},r.prototype._draw=function(){var a=this.config,i=a.id,n=a.value,e=a.name,t=a.inputType,o=a.label,c=(n!=null?n:"").toString().length;return(0,_.el)("div.dhx_form-group.dhx_form-group--textinput",{class:(0,d.getFormItemCss)(this.config)},[this._drawLabel(),(0,_.el)(".dhx_input__wrapper",[(0,_.el)("input.dhx_input.dhx_input--textinput",{type:["text","number","password"].includes(t)?t:"text",readOnly:!0,id:i,"data-dhx-id":e||i,value:n!=null?n:"",name:e,_ref:"input",tabindex:-1,role:"presentation","aria-label":o||n,size:c>20?c:20,onkeydown:this._handlers.onkeydown})])])},r}(p.Input);g.Text=s},function(H,g,y){var b,w=this&&this.__extends||(b=function(a,i){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},b(a,i)},function(a,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=a}b(a,i),a.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}),m=this&&this.__spreadArray||function(a,i,n){if(n||arguments.length===2)for(var e,t=0,o=i.length;t<o;t++)!e&&t in i||(e||(e=Array.prototype.slice.call(i,0,t)),e[t]=i[t]);return a.concat(e||Array.prototype.slice.call(i))};Object.defineProperty(g,"__esModule",{value:!0}),g.Combo=void 0;var _=y(0),h=y(1),d=y(6),p=y(51),u=y(3),s=y(9),l=y(4),r=function(a){function i(n,e){var t=a.call(this,null,e)||this;return t.events=new u.EventSystem,t._propsItem=["required","validation","placeholder","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","readonly","readOnly"],t._propsCombo=["template","filter","multiselection","selectAllButton","itemsCount","itemHeight","virtual","listHeight"],t._props=m(m(m([],d.baseProps,!0),t._propsItem,!0),t._propsCombo,!0),t._isClear=!1,t._initView(e),t._initHandlers(),t}return w(i,a),i.prototype.destructor=function(){this.events&&this.events.clear(),this.combobox&&this.combobox.destructor(),this.events=this._uid=this._propsCombo=this._propsItem=this._props=null,a.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(n){var e=this;(0,_.awaitRedraw)().then(function(){if(n&&!(0,h.isEmptyObj)(n)&&e.events.fire(l.ItemEvent.beforeChangeProperties,[e.getProperties()])){for(var t in n)e._props.includes(t)&&(e.config[t]=n[t]);var o=[];e.getWidget().data.forEach(function(c){return o.push(c)}),e.config.data=o,e._initView(e.config),e._initHandlers(),e.events.fire(l.ItemEvent.afterChangeProperties,[e.getProperties()])}})},i.prototype.getProperties=function(){for(var n={},e=0,t=this._props;e<t.length;e++){var o=t[e];n[o]=this.config[o]}return n},i.prototype.show=function(){var n=this.config,e=n.value;n.hidden&&this.events.fire(l.ItemEvent.beforeShow,[e])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[e]))},i.prototype.hide=function(n){var e=this.config,t=e.value;e.hidden&&!n||!this.events.fire(l.ItemEvent.beforeHide,[t,n])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[t,n]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.combobox.disable(),this.paint()},i.prototype.enable=function(){var n;this.config.disabled=!1,this.combobox.enable(),!((n=this.parent)===null||n===void 0)&&n.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.clear=function(){this.config.value&&(this.config.value="",this._isClear=!0,this.combobox.clear())},i.prototype.getValue=function(){return this.config.multiselection?this.combobox.getValue(!0)||[]:this.combobox.getValue()||""},i.prototype.setValue=function(n){n!==void 0&&n.toString()!==this.config.value.toString()&&(this._isClear=!1,this.combobox.setValue(n))},i.prototype.validate=function(n){var e=this;n===void 0&&(n=!1);for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];var c,f=t.length?t[0]:this.getValue();if(!n&&!this.events.fire(l.ItemEvent.beforeValidate,[f]))return!1;c=Array.isArray(f)?f.map(function(x){return e._getItemText(x)}):this._getItemText(f)||"";var v=!0;return(this.config.required||t.length)&&(v=this._existData(f)),typeof this.config.validation=="function"&&(v=this.config.validation(f,c)),n||(this.setValidationStatus(v?"success":"error"),this.config.required&&this._validationStatus(),this.events.fire(l.ItemEvent.afterValidate,[f,v]),this.paint()),v},i.prototype.clearValidate=function(){this.setValidationStatus(),this._validationStatus(),this.paint()},i.prototype.getWidget=function(){return this.combobox},i.prototype.focus=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.combobox.focus()})},i.prototype.blur=function(){var n=this;(0,_.awaitRedraw)().then(function(){n.combobox.blur()})},i.prototype._initView=function(n){if((0,h.isEmptyObj)(n))throw new Error("Check the configuration is correct");this.combobox&&this.combobox.destructor(),this.config={type:n.type,id:n.id,name:n.name,disabled:!1,hidden:!1,value:"",readOnly:!1,multiselection:!1,selectAllButton:!1,itemHeight:32,virtual:!1,listHeight:224,required:!1,placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"};var e={};for(var t in n)t!=="id"&&t!=="type"&&t!=="name"&&(this.config[t]=n[t],t!=="validation"&&(e[t]=n[t]));this.combobox=new p.Combobox(null,e),this.paint()},i.prototype._initHandlers=function(){var n=this;this.combobox.events.on(p.ComboboxEvents.beforeChange,function(e){return n.events.fire(l.ItemEvent.beforeChange,[e])}),this.combobox.events.on(p.ComboboxEvents.change,function(){var e=n.config.value=n.getValue();n.events.fire(l.ItemEvent.change,[e]),(0,d.isVerify)(n.config)&&(n._isClear?(n.setValidationStatus(n.validate(!0)?"success":"error"),n._isClear=!1):n.validate()),n.paint()}),this.combobox.events.on(p.ComboboxEvents.focus,function(){n.events.fire(l.ItemEvent.focus,[n.getValue()]),n.paint()}),this.combobox.events.on(p.ComboboxEvents.blur,function(){n.events.fire(l.ItemEvent.blur,[n.getValue()]),n.paint()}),this.combobox.events.on(p.ComboboxEvents.keydown,function(e,t){e.code==="Enter"&&e.preventDefault(),n.events.fire(l.ItemEvent.keydown,[e,t])})},i.prototype._validationStatus=function(){var n,e,t;if(!(this.combobox.popup.isVisible()||((t=(e=(n=this.combobox.getRootView())===null||n===void 0?void 0:n.refs)===null||e===void 0?void 0:e.input)===null||t===void 0?void 0:t.el)===document.activeElement))switch(this.config.$validationStatus){case l.ValidationStatus.success:return this.combobox.config.css=(this.config.css||"")+" dhx_form-group--state_success";case l.ValidationStatus.error:return this.combobox.config.css=(this.config.css||"")+" dhx_form-group--state_error";case l.ValidationStatus.pre:default:return this.combobox.config.css=this.config.css||""}return this.combobox.config.css=this.config.css||""},i.prototype._getRootView=function(){return this.combobox.getRootView()},i.prototype._draw=function(){var n=this.config,e=n.labelWidth,t=n.labelPosition,o=n.name,c=n.id;return(0,_.el)(".dhx_form-group.dhx_form-group--combobox",{"data-dhx-id":o||c},[(0,_.el)("div.dhx_form-combobox__container",[(0,_.inject)(this._getRootView())]),(0,_.el)("div.dhx_form-combobox__wrapper",{style:{"margin-left":"".concat(e&&t==="left"?"calc(".concat(e," + 16px)"):"")},class:this._validationStatus()},[(0,_.el)("span.dhx_input__caption",(0,d.getValidationMessage)(this.config))])])},i.prototype._existData=function(n){var e=this;return!!(0,h.isDefined)(n)&&(n instanceof Array?!!n.length&&n.every(function(t){return e.combobox.data.exists(t)}):this.combobox.data.exists(n))},i.prototype._getItemText=function(n){var e;return(e=this.combobox.data.getItem(n))===null||e===void 0?void 0:e.value},i}(s.Label);g.Combo=r},function(H,g,y){var b,w=this&&this.__extends||(b=function(i,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},b(i,n)},function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=i}b(i,n),i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},m.apply(this,arguments)},_=this&&this.__spreadArray||function(i,n,e){if(e||arguments.length===2)for(var t,o=0,c=n.length;o<c;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return i.concat(t||Array.prototype.slice.call(n))};Object.defineProperty(g,"__esModule",{value:!0}),g.SliderForm=void 0;var h=y(0),d=y(1),p=y(75),u=y(3),s=y(9),l=y(4),r=y(6),a=function(i){function n(e,t){var o=i.call(this,e,t)||this;return o.events=new u.EventSystem,o._propsItem=["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],o._propsSlider=["min","max","step","mode","range","inverse","tooltip","tick","tickTemplate","majorTick"],o._props=_(_(_([],r.baseProps,!0),o._propsItem,!0),o._propsSlider,!0),o._initView(t),o._initHandlers(),o.mount(e,(0,h.create)({render:function(){return o._drawSlider()}})),o}return w(n,i),n.prototype.destructor=function(){this.events&&this.events.clear(),this.slider&&this.slider.destructor(),this.events=this._uid=this._propsSlider=this._propsItem=this._props=null,i.prototype._destructor.call(this),this.unmount()},n.prototype.setProperties=function(e){if(e&&!(0,d.isEmptyObj)(e)&&this.events.fire(l.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var t in e)this._props.includes(t)&&(this.config[t]=e[t]);this._initView(this.config),this._initHandlers(),this.events.fire(l.ItemEvent.afterChangeProperties,[this.getProperties()]),this.slider.paint(),this.paint()}},n.prototype.getProperties=function(){for(var e={},t=0,o=this._props;t<o.length;t++){var c=o[t];e[c]=this.config[c]}return e},n.prototype.show=function(){var e=this.config,t=e.value;e.hidden&&this.events.fire(l.ItemEvent.beforeShow,[t])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[t]))},n.prototype.hide=function(e){var t=this.config,o=t.value;t.hidden&&!e||!this.events.fire(l.ItemEvent.beforeHide,[o,e])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[o,e]))},n.prototype.isVisible=function(){return!this.config.hidden},n.prototype.disable=function(){this.config.disabled=!0,this.slider.disable(),this.paint()},n.prototype.enable=function(){var e;this.config.disabled=!1,this.slider.enable(),!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint()},n.prototype.isDisabled=function(){return!!this.config.disabled},n.prototype.clear=function(){var e=this.config,t=e.value,o=e.min;t[0]!==o&&this.slider.setValue(o)},n.prototype.getValue=function(){return this.slider.getValue()},n.prototype.setValue=function(e){e!==void 0&&e.toString()!==this.config.value.toString()&&this.slider.setValue(e)},n.prototype.getWidget=function(){return this.slider},n.prototype.focus=function(e){var t=this;(0,h.awaitRedraw)().then(function(){t.slider.focus(e)})},n.prototype.blur=function(){var e=this;(0,h.awaitRedraw)().then(function(){e.slider.blur()})},n.prototype._initView=function(e){if((0,d.isEmptyObj)(e))throw new Error("Check the configuration is correct");this.slider&&this.slider.destructor();var t={type:e.type,id:e.id,name:e.name,mode:"horizontal",min:0,max:100,step:1,range:!1,inverse:!1,tooltip:!0,disabled:!1,hidden:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"};for(var o in e)o!=="id"&&o!=="type"&&o!=="name"&&(t[o]=e[o]);this.config=m({type:this.config.type},t),this.slider=new p.Slider(null,t),this.config.disabled&&this.slider.disable(),this.config.value=this.slider.getValue()},n.prototype._initHandlers=function(){var e=this;this.slider.events.on(p.SliderEvents.beforeChange,function(t,o,c){var f=[t];if(e.config.range){var v=e.getValue(),x=v[0],k=v[1];f=c?[x,t]:[t,k]}return e.events.fire(l.ItemEvent.beforeChange,[f])}),this.slider.events.on(p.SliderEvents.change,function(){if(e._uid){var t=e.config.value=e.slider.getValue();e.events.fire(l.ItemEvent.change,[t]),e.paint()}}),this.slider.events.on(p.SliderEvents.focus,function(){e.events.fire(l.ItemEvent.focus,[e.getValue()])}),this.slider.events.on(p.SliderEvents.blur,function(){e.events.fire(l.ItemEvent.blur,[e.getValue()])}),this.slider.events.on(p.SliderEvents.keydown,function(t){e.events.fire(l.ItemEvent.keydown,[t])})},n.prototype._drawSlider=function(){var e=this.config,t=e.name,o=e.id;return(0,h.el)("div.dhx_form-group",{"data-dhx-id":t||o},[(0,h.inject)(this.slider.getRootView())])},n}(s.Label);g.SliderForm=a},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(m,_,h,d){d===void 0&&(d=h);var p=Object.getOwnPropertyDescriptor(_,h);p&&!("get"in p?!_.__esModule:p.writable||p.configurable)||(p={enumerable:!0,get:function(){return _[h]}}),Object.defineProperty(m,d,p)}:function(m,_,h,d){d===void 0&&(d=h),m[d]=_[h]}),w=this&&this.__exportStar||function(m,_){for(var h in m)h==="default"||Object.prototype.hasOwnProperty.call(_,h)||b(_,m,h)};Object.defineProperty(g,"__esModule",{value:!0}),w(y(107),g),w(y(229),g),w(y(42),g)},function(H,g,y){var b,w=this&&this.__extends||(b=function(O,P){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,j){T.__proto__=j}||function(T,j){for(var $ in j)Object.prototype.hasOwnProperty.call(j,$)&&(T[$]=j[$])},b(O,P)},function(O,P){if(typeof P!="function"&&P!==null)throw new TypeError("Class extends value "+String(P)+" is not a constructor or null");function T(){this.constructor=O}b(O,P),O.prototype=P===null?Object.create(P):(T.prototype=P.prototype,new T)}),m=this&&this.__assign||function(){return m=Object.assign||function(O){for(var P,T=1,j=arguments.length;T<j;T++)for(var $ in P=arguments[T])Object.prototype.hasOwnProperty.call(P,$)&&(O[$]=P[$]);return O},m.apply(this,arguments)},_=this&&this.__spreadArray||function(O,P,T){if(T||arguments.length===2)for(var j,$=0,I=P.length;$<I;$++)!j&&$ in P||(j||(j=Array.prototype.slice.call(P,0,$)),j[$]=P[$]);return O.concat(j||Array.prototype.slice.call(P))};Object.defineProperty(g,"__esModule",{value:!0}),g.Vault=void 0;var h=y(1),d=y(0),p=y(3),u=y(2),s=y(34),l=y(5),r=y(8),a=y(16),i=y(21),n=y(102),e=y(30),t=y(60),o=y(42),c=y(107),f=y(230),v=y(231),x=y(232),k=y(233),S=function(O){function P(T,j){j===void 0&&(j={});var $=O.call(this,null,(0,h.extend)({mode:o.VaultMode.list,toolbar:!0,updateFromResponse:!0,scaleFactor:4,customScroll:!0,uploader:{},progressBar:{}},j))||this;return $.config.toolbar||($.config.uploader.autosend=!0),j.data?($.data=j.data,$.events=j.data.events,$.events.context=$):($.events=new p.EventSystem($),$.data=new r.DataCollection({},$.events)),$.data.config.init=function(I){return I.status=I.status||o.FileStatus.uploaded,I.file?(I.size=I.file.size,I.name=I.file.name):(I.size=I.size||0,I.name=I.name||""),$.config.mode===o.VaultMode.grid&&I.file&&(0,v.isImage)(I)&&$._readStack.add(I,$.uploader.config.autosend),I},$._readStack=new k.ReadStackPreview($.data),$.uploader=new c.Uploader($.config.uploader,$.data,$.events),$._scrollView=new s.ScrollView(function(){return $._vaultView.getRootView()}),$._progressBar=new x.ProgressBar($.events,$.config.progressBar),$.events.on(o.UploaderEvents.uploadProgress,function(I,F,E){return $._progressBar.setState(I,{current:F,total:E})}),$._initHandlers(),$._initUI(T),$._initEvents(),$}return w(P,O),P.prototype.destructor=function(){this.toolbar.destructor(),this._readStack.stop(),this.uploader.unlinkDropArea(),this.uploader.abort()},P.prototype.getRootView=function(){return this._layout.getRootView()},P.prototype._initUI=function(T){var j=this,$=this.config.toolbar?f.layoutConfig:f.layoutConfigWithoutTopbar;$.on=this._getDragEvents();var I=this._layout=new a.Layout(T,$),F=this.toolbar=new n.Toolbar(null,{css:"vault-toolbar"});this.toolbar.data.parse([{id:"add",tooltip:t.default.add,type:"button",icon:"dxi-plus"},{id:"upload",tooltip:t.default.upload,type:"button",icon:"dxi icon-upload"},{id:"spacer",type:"spacer"},{id:"remove-all",tooltip:t.default.clearAll,type:"button",icon:"dxi-delete-forever"}]),this._hideUploadAndDeleteButtons(),this._vaultView=(0,l.toViewLike)((0,d.create)({render:function(){return j._draw()}})),this.config.toolbar&&I.getCell("topbar").attach(F),I.getCell("vault").attach(this._vaultView)},P.prototype._initHandlers=function(){var T=this;this._handlers={onclick:{".action-add":function(){return T.uploader.selectFile()},".action-remove-file":function(j){var $=(0,u.locate)(j);$&&(T.data.update($,{$toRemove:!0}),setTimeout(function(){T.data.update($,{$toRemove:!1},!0),T.data.remove($)},200))}},onmouseover:{".action-download":function(j){(0,i.tooltip)(t.default.download,{node:j.target,position:i.Position.bottom})},".action-remove-file":function(j){(0,i.tooltip)(t.default.clear,{node:j.target,position:i.Position.bottom})},".title-content, .dhx-file-name":function(j){var $=(0,u.locate)(j),I=T.data.getItem($);(0,i.tooltip)(I.name,{node:j.target,position:i.Position.bottom,css:"tooltip-light"})}}}},P.prototype._getDragEvents=function(){var T=this,j={left:null,top:null,width:null,height:null};return{dragleave:function($){T._canDrop&&($.pageX>j.left+j.width-1||$.pageX<j.left||$.pageY>j.top+j.height-1||$.pageY<j.top)&&(T._canDrop=!1,T.config.toolbar&&T._layout.getCell("topbar").show(),T._layout.config.css="vault-layout",T._layout.paint())},dragenter:function($){if($.preventDefault(),!T.uploader.isActive&&!T._canDrop){for(var I=0,F=$.dataTransfer.types;I<F.length;I++){var E=F[I];if(E!=="Files"&&E!=="application/x-moz-file")return void(T._canDrop=!1)}T._canDrop=!0;var V=T.getRootView().node.el.getBoundingClientRect();j.left=V.left+window.pageXOffset,j.top=V.top+window.pageYOffset,j.width=V.width,j.height=V.height,T._canDrop=!0,T.config.toolbar&&T._layout.getCell("topbar").hide(),T._layout.config.css="vault-layout dhx-dragin",T._layout.paint()}},dragover:function($){$.preventDefault()},drop:function($){if($.preventDefault(),T._canDrop){var I=$.dataTransfer;T.uploader.parseFiles(I),T._canDrop=!1,T.config.toolbar&&T._layout.getCell("topbar").show(),T._layout.config.css="vault-layout",T._layout.paint()}}}},P.prototype._hideUploadAndDeleteButtons=function(){this.toolbar.hide(["upload","remove-all"])},P.prototype._showUploadAndDeleteButtons=function(){this.uploader.config.autosend?this.toolbar.show("remove-all"):this.toolbar.show(["upload","remove-all"])},P.prototype._initEvents=function(){var T=this;this.data.events.on(r.DataEvents.change,function(){T.data.getLength()?T._showUploadAndDeleteButtons():T._hideUploadAndDeleteButtons(),T._vaultView.paint()}),this.events.on(o.UploaderEvents.uploadBegin,function(){T.config.toolbar&&T._layout.getCell("topbar").attach(T._progressBar)}),this.events.on(o.UploaderEvents.uploadComplete,function(){T.config.mode===o.VaultMode.grid&&T.uploader.config.autosend&&T._readStack.read(),T.config.toolbar&&T._layout.getCell("topbar").attach(T.toolbar)}),this.toolbar.events.on(e.NavigationBarEvents.click,function(j){switch(j){case"add":T.uploader.selectFile();break;case"remove-all":T.data.removeAll();break;case"upload":T.uploader.send()}}),this.events.on(o.ProgressBarEvents.cancel,function(){T.uploader.abort(),T._vaultView.paint()})},P.prototype._draw=function(){var T=!this.data.getLength(),j=this.config.mode===o.VaultMode.grid?this._drawGrid():this._drawList();return(0,d.el)("div",m(m({class:"vault dhx_widget"+(this._canDrop?" drop-here":"")},this._handlers),{"data-dhx-widget-id":this._uid}),[this._canDrop||T?this._drawDropableArea():this.config.customScroll?this._scrollView.render(j):j])},P.prototype._getFileActions=function(T){var j=[],$=[],I=[(0,d.el)(".dhx-default-actions",j),(0,d.el)(".dhx-hover-actions",$)];if(T.status===o.FileStatus.inprogress)return I;if(T.status!==o.FileStatus.failed&&T.link){var F=(this.config.downloadURL||"")+T.link,E=F.split("/").pop().split("?")[0],V=(0,d.el)("a",{download:E,class:"download-link",href:F},[(0,d.el)(".icon-btn.dxi.dxi-download.action-download")]);$.push(V)}var z=(0,d.el)(".icon-btn.dxi.dxi-delete-forever.action-remove-file");if($.push(z),T.status===o.FileStatus.failed){var X=(0,d.el)(".dxi.dxi-alert-circle.warning-status");j.push(X)}if(T.status===o.FileStatus.uploaded){var Y=(0,d.el)(".dxi.dxi-checkbox-marked-circle.uploaded-status");j.push(Y)}return I},P.prototype._drawList=function(){var T=this;return(0,d.el)(".dhx-files-block.dhx-webkit-scroll",this.data.map(function(j){var $=j.status===o.FileStatus.failed&&j.request,I=j.status===o.FileStatus.inprogress,F=j.status===o.FileStatus.queue,E=j.status!==o.FileStatus.uploaded;return(0,d.el)("div",{class:"dhx-file-item"+(j.$toRemove?" to-remove":"")+(F?" in-queue":""),"data-dhx-id":j.id,_key:j.id},[(0,d.el)(".dhx-file-icon",[(0,d.el)("div",{class:"dhx-file-type "+(0,v.getFileClassName)(j)+(E?" not-loaded":"")})]),(0,d.el)(".dhx-file-title",[(0,d.el)(".dhx-title-content",j.name),(0,d.el)(".dhx-file-info",[$&&(0,d.el)(".warn-message",j.request.statusText||t.default.error),I?(0,d.el)(".progress-value",(100*j.progress).toFixed(1)+"%"):(0,d.el)(".dhx-size"+($?".dhx-size-error":""),(0,v.getBasis)(j.size))])]),I&&(0,d.el)(".dhx-download-progress",{style:{width:(100*j.progress).toFixed(1)+"%"}}),!I&&(0,d.el)(".dhx-file-action",T._getFileActions(j))])}))},P.prototype._drawDropableArea=function(){return(0,d.el)(".dhx-dropable-area.drop-files-here",[(0,d.el)(".dhx-big-icon-block",[(0,d.el)(".dxi.icon-upload")]),!this._canDrop&&(0,d.el)(".drop-area-bold-text",t.default.dragAndDrop),!this._canDrop&&(0,d.el)(".drop-area-bold-text",t.default.filesOrFoldersHere),!this._canDrop&&(0,d.el)(".drop-area-light-text",t.default.or),!this._canDrop&&(0,d.el)("button.dhx_btn.dhx_btn--flat.dhx_btn--small.action-add",t.default.browse)])},P.prototype._drawGrid=function(){var T=this;return(0,d.el)("div",{class:"dhx-files-grid dhx-webkit-scroll"},[(0,d.el)(".dhx-grid-content",this.data.map(function(j){var $=j.status===o.FileStatus.inprogress,I=j.status===o.FileStatus.queue,F=j.status===o.FileStatus.failed;return(0,d.el)("div",{class:"dhx-file-grid-item"+($?" in-progress":"")+(j.$toRemove?" to-remove":"")+(I?" in-queue":"")+(F?" failed":""),"data-dhx-id":j.id,_key:j.id},[(0,d.el)(".dhx-preview-wrapper",_(_([j.preview?(0,d.el)(".dhx-server-file-preview",[(0,d.el)("img",{src:j.preview})]):j.image?(0,d.el)("canvas",{width:98*T.config.scaleFactor,height:98*T.config.scaleFactor,_hooks:{didInsert:function(E){var V=(0,v.calculateCover)(j.image),z=V.dx,X=V.dy,Y=V.sx,U=V.sy,A=V.sHeight,M=V.sWidth;E.el.getContext("2d").drawImage(j.image,Y,U,M,A,z,X,98*T.config.scaleFactor,98*T.config.scaleFactor)}}}):(0,d.el)("div",{class:"dhx-file-preview dhx-file-type "+(0,v.getFileClassName)(j)}),$&&T._drawCircle(j.progress)],T._getFileActions(j),!0),[(0,d.el)(".dhx-file-info",[F&&(0,d.el)(".warn-message",j.request.statusText||t.default.error),!$&&(0,d.el)(".dhx-size"+(F?".dhx-size-error":""),(0,v.getBasis)(j.size))])],!1)),(0,d.el)(".dhx-file-name",(0,v.truncateWord)(j.name))])}))])},P.prototype._drawCircle=function(T){return(0,d.el)(".progress-layout",[(0,d.el)(".progress-amount",(100*T).toFixed(1)+"%"),(0,d.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"progress-circle",viewBox:"0 0 60 60"},[(0,d.sv)("circle",{cx:30,cy:30,r:28,"stroke-width":4,class:"progress-bar-background"}),(0,d.sv)("circle.active-circle",{cx:30,cy:30,r:28,"stroke-width":4,"stroke-dasharray":"175.9 175.9","stroke-dashoffset":175.9*(1-T),class:"progress-bar-active"})])])},P}(l.View);g.Vault=S},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.layoutConfigWithoutTopbar=g.layoutConfig=void 0,g.layoutConfig={css:"vault-layout",rows:[{id:"topbar",css:"vault-topbar"},{id:"vault",css:"vault-file-grid"}]},g.layoutConfigWithoutTopbar={css:"vault-layout",rows:[{id:"vault",css:"vault-file-grid"}]}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.isImage=g.getFileClassName=g.getFileType=g.FileType=g.calculateCover=g.truncateWord=g.getBasis=void 0;var b=y(60),w=["byte","kilobyte","megabyte","gigabyte"];g.getBasis=function(d,p){return d===void 0&&(d=0),p===void 0&&(p=0),d<1024?d+" "+b.default[w[p]]:this.getBasis(Math.round(d/1024),p+1)};var m;function _(d){return{extension:d.name.split(".").pop()||"none",mime:d.file?d.file.type:""}}function h(d,p){switch(d){case"jpg":case"jpeg":case"gif":case"png":case"bmp":case"tiff":case"pcx":case"svg":case"ico":return m.image;case"avi":case"mpg":case"mpeg":case"rm":case"move":case"mov":case"mkv":case"flv":case"f4v":case"mp4":case"3gp":case"wmv":case"webm":case"vob":return m.video;case"rar":case"zip":case"tar":case"tgz":case"arj":case"gzip":case"bzip2":case"7z":case"ace":case"apk":case"deb":case"zipx":case"cab":case"tar-gz":case"rpm":case"xar":return m.archive;case"xlr":case"xls":case"xlsm":case"xlsx":case"ods":case"csv":case"tsv":return m.table;case"doc":case"docx":case"docm":case"dot":case"dotx":case"odt":case"wpd":case"wps":case"pages":return m.document;case"wav":case"aiff":case"au":case"mp3":case"aac":case"wma":case"ogg":case"flac":case"ape":case"wv":case"m4a":case"mid":case"midi":return m.audio;case"pot":case"potm":case"potx":case"pps":case"ppsm":case"ppsx":case"ppt":case"pptx":case"pptm":case"odp":return m.presentation;case"html":case"htm":case"eml":return m.web;case"exe":return m.application;case"dmg":return m.apple;case"pdf":case"ps":case"eps":return m.pdf;case"psd":return m.psd;case"txt":case"djvu":case"nfo":case"xml":return m.text;default:switch(p.split("/")[0]){case"image":return m.image;case"audio":return m.audio;case"video":return m.video;default:return m.other}}}g.truncateWord=function(d,p){var u,s;if(p===void 0&&(p=13),d.length<=p)return d;var l=d.lastIndexOf(".");if(l===-1)s=d.substr(d.length-4),u=d.substr(0,p-7);else{var r=l-3;s=d.substr(r),u=d.substr(0,p-(d.length-r))}return u+"..."+s},g.calculateCover=function(d){var p,u,s,l,r=d.width,a=d.height,i=r/a;return i>1?(p=a,s=(r-(u=a))/2,l=0):i<1?(u=r,s=0,l=(a-(p=r))/2):(p=r,u=r,s=0,l=0),{sx:s,sy:l,sWidth:u,sHeight:p,dx:0,dy:0}},function(d){d.image="image",d.video="video",d.archive="archive",d.table="table",d.document="document",d.presentation="presentation",d.application="application",d.web="web",d.apple="apple",d.pdf="pdf",d.psd="psd",d.audio="audio",d.other="other",d.text="text"}(m||(g.FileType=m={})),g.getFileType=h,g.getFileClassName=function(d){var p=_(d),u=p.mime,s=p.extension;return h(s,u)+" extension-"+s},g.isImage=function(d){var p=_(d),u=p.mime;return h(p.extension,u)===m.image}},function(H,g,y){var b,w=this&&this.__extends||(b=function(u,s){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(l[a]=r[a])},b(u,s)},function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");function l(){this.constructor=u}b(u,s),u.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)});Object.defineProperty(g,"__esModule",{value:!0}),g.ProgressBar=void 0;var m=y(0),_=y(5),h=y(60),d=y(42),p=function(u){function s(l,r){var a=u.call(this,null,r)||this;return a.events=l,a._progress=0,a.mount(null,(0,m.create)({render:function(){return a._draw()}})),a._abortUpload=function(){a.events.fire(d.ProgressBarEvents.cancel)},a}return w(s,u),s.prototype.setState=function(l,r){this._progress=l,this.config.template?this._progressText=this.config.template(l,r):this._progressText=this._progress.toFixed(1)+"%",this.paint()},s.prototype._draw=function(){return(0,m.el)(".progress-bar",{_key:this._uid},[(0,m.el)(".progress-indicator",{style:{width:this._progress+"%"}}),(0,m.el)(".progress-text",{".innerHTML":this._progressText}),(0,m.el)("button",{class:"dhx_btn dhx_btn--flat dhx_btn_small action-abort-all",onclick:this._abortUpload},h.default.cancel)])},s}(_.View);g.ProgressBar=p},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.ReadStackPreview=void 0;var b=function(){function w(m){this._readerStack=[],this._isActive=!1,this._data=m}return w.prototype.add=function(m,_){_===void 0&&(_=!1),this._readerStack.push(m),_||this.read()},w.prototype.read=function(){var m=this;if(this._readerStack.length&&!this._isActive){var _=this._readerStack.shift();this._isActive=!0;var h=new FileReader;h.readAsDataURL(_.file),h.onload=function(d){var p=new Image;p.src=d.target.result,p.onload=function(){m._data.exists(_.id)&&m._data.update(_.id,{image:p}),m._isActive=!1,m.read()}},h.onerror=function(){m._isActive=!1,m.read()}}},w.prototype.stop=function(){this._readerStack=[]},w}();g.ReadStackPreview=b},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={simpleVaultText:"Drag & drop files or folders here or",simpleVaultLabel:"browse files"}},function(H,g,y){var b,w=this&&this.__extends||(b=function(n,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])},b(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}b(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),m=this&&this.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o,c=0,f=e.length;c<f;c++)!o&&c in e||(o||(o=Array.prototype.slice.call(e,0,c)),o[c]=e[c]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(g,"__esModule",{value:!0}),g.TimePicker=void 0;var _=y(73),h=y(0),d=y(1),p=y(9),u=y(11),s=y(3),l=y(4),r=y(6),a=y(14),i=function(n){function e(t,o){var c=n.call(this,null,o)||this;return c.events=new s.EventSystem,c._popupIsFocus=!1,c._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],c._propsTimepicker=["timeFormat","controls","valueFormat"],c._props=m(m(m([],r.baseProps,!0),c._propsItem,!0),c._propsTimepicker,!0),c._keyManager=new a.KeyManager(function(){var f,v,x,k=document.activeElement;return((x=(v=(f=c.getRootView())===null||f===void 0?void 0:f.refs)===null||v===void 0?void 0:v.input)===null||x===void 0?void 0:x.el)===k||c._popup.isVisible()}),c._initView(o),c._initHandlers(),c._initHotkeys(),c.mount(t,(0,h.create)({render:function(){return c._draw()}})),c}return w(e,n),e.prototype.destructor=function(){this.events&&this.events.clear(),this.timepicker&&this.timepicker.destructor(),this._keyManager&&this._keyManager.destructor(),this._popup&&this._popup.destructor(),this.events=this._uid=this._propsItem=this._propsTimepicker=this._props=this._keyManager=null,n.prototype._destructor.call(this),this.unmount()},e.prototype.setProperties=function(t){var o=this;(0,h.awaitRedraw)().then(function(){if(t&&!(0,d.isEmptyObj)(t)&&o.events.fire(l.ItemEvent.beforeChangeProperties,[o.getProperties()])){for(var c in t)o._props.includes(c)&&(o.config[c]=t[c]);o._initView(o.config),o._initHandlers(),o.events.fire(l.ItemEvent.afterChangeProperties,[o.getProperties()]),o.paint()}})},e.prototype.getProperties=function(){for(var t={},o=0,c=this._props;o<c.length;o++){var f=c[o];t[f]=this.config[f]}return t},e.prototype.show=function(){this.config.hidden&&this.events.fire(l.ItemEvent.beforeShow,[this.getValue(this.config.valueFormat==="timeObject")])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[this.getValue(this.config.valueFormat==="timeObject")]))},e.prototype.hide=function(t){this.config.hidden&&!t||!this.events.fire(l.ItemEvent.beforeHide,[this.getValue(this.config.valueFormat==="timeObject"),t])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[this.getValue(this.config.valueFormat==="timeObject"),t]))},e.prototype.isVisible=function(){return!this.config.hidden},e.prototype.disable=function(){this.config.disabled=!0,this.paint()},e.prototype.enable=function(){var t;this.config.disabled=!1,!((t=this.parent)===null||t===void 0)&&t.isDisabled()&&this.parent.enable(),this.paint()},e.prototype.isDisabled=function(){return!!this.config.disabled},e.prototype.validate=function(t){t===void 0&&(t=!1);for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];var f=o.length?o[0]:this.getValue(this._isTimeObject());if(!t&&!this.events.fire(l.ItemEvent.beforeValidate,[f]))return!1;var v=!0;return(this.config.required||o.length)&&(v=typeof f=="string"?(0,r.isTimeFormat)(f,this.config.timeFormat):(0,r.isTimeFormat)("".concat(f.hour,":").concat(f.minute).concat((0,d.isDefined)(f.AM)?f.AM?"AM":"PM":""),this.config.timeFormat)),typeof this.config.validation=="function"&&(v=this.config.validation(f)),t||(this.config.$validationStatus=v?l.ValidationStatus.success:l.ValidationStatus.error,this.events.fire(l.ItemEvent.afterValidate,[f,v]),this.paint()),v},e.prototype.clearValidate=function(){this.config.$validationStatus=l.ValidationStatus.pre,this.paint()},e.prototype.setValue=function(t){if(t!==void 0&&t!==this.config.value){if(this.timepicker.setValue(t),this.config.controls){var o=this.getValue(this._isTimeObject());if(!this.events.fire(l.ItemEvent.beforeChange,[o]))return;this.config.value=this.timepicker.getValue(),this.events.fire(l.ItemEvent.change,[o])}(0,r.isVerify)(this.config)&&this.validate(),this.paint()}},e.prototype.getValue=function(t){return t?this.timepicker.getValue(t):this.config.value||""},e.prototype.focus=function(){var t=this;(0,h.awaitRedraw)().then(function(){t.getRootView().refs.input.el.focus()})},e.prototype.blur=function(){var t=this;(0,h.awaitRedraw)().then(function(){t._popup.hide(),t.getRootView().refs.input.el.blur()})},e.prototype.clear=function(){this.config.value!==""&&this._clear()},e.prototype.getWidget=function(){return this.timepicker},e.prototype._initView=function(t){if((0,d.isEmptyObj)(t))throw new Error("Check the configuration is correct");for(var o in this.timepicker&&this.timepicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:t.type,id:t.id,name:t.name,value:"",disabled:!1,editable:!1,hidden:!1,timeFormat:24,controls:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)o!=="id"&&o!=="type"&&o!=="name"&&(this.config[o]=t[o]);this._popup=new u.Popup,this.timepicker=new _.Timepicker(null,(0,r.widgetConfig)(t)),this._popup.attach(this.timepicker),this.config.value&&(this.config.value=this.timepicker.getValue())},e.prototype._initHandlers=function(){var t=this;this.config.controls?(this.timepicker.events.on(_.TimepickerEvents.afterClose,function(){t._popup.hide()}),this.timepicker.events.on(_.TimepickerEvents.afterApply,function(){t._afterApply(!0)}),this._popup.events.on(u.PopupEvents.afterHide,function(){t.config.value&&t.config.value!==t.timepicker.getValue()?t.timepicker.setValue(t.config.value):t.config.value!==""&&t.config.value!==void 0||t._clear(!0)})):(this.timepicker.events.on(_.TimepickerEvents.beforeChange,function(o){return t.events.fire(l.ItemEvent.beforeChange,[o])}),this.timepicker.events.on(_.TimepickerEvents.change,function(o){var c=t.config.timeFormat===12?"12:00AM":"00:00",f=t.timepicker.getValue();t.config.value===""&&c===f||t.config.value===f||(t.config.value=t.timepicker.getValue(),t.events.fire(l.ItemEvent.change,[o]),(0,r.isVerify)(t.config)&&t.validate(),t.paint())})),this._popup.events.on(u.PopupEvents.afterHide,function(){document.activeElement!==t.getRootView().refs.input.el&&t.events.fire(l.ItemEvent.blur,[t.getValue()]),t.paint()}),this.events.on(l.ItemEvent.input,function(o){var c=t.config.timeFormat===12?7:5;o.length>=c&&(0,r.isTimeFormat)(o,t.config.timeFormat)?t.timepicker.setValue(o):o!==""||t.config.controls||t._clear()}),this.events.on(l.ItemEvent.afterChangeProperties,function(){t.config.value=t.timepicker.getValue(),t.paint()}),this.events.on(l.ItemEvent.blur,function(){t._popupIsFocus=!1,t.paint()})},e.prototype._getHandlers=function(){var t=this;return{onfocus:function(){if(!t._popup.isVisible()){var o=t.getRootView().refs.input.el;t._popup.show(o,{theme:o}),t.events.fire(l.ItemEvent.focus,[t.getValue()]),t.paint()}},onblur:function(){t._popup.isVisible()||t.events.fire(l.ItemEvent.blur,[t.getValue()]),t.paint()},oninput:function(o){var c=o.target.value;t.events.fire(l.ItemEvent.input,[c])},onkeydown:function(o){var c,f,v,x=document.activeElement;(((v=(f=(c=t.getRootView())===null||c===void 0?void 0:c.refs)===null||f===void 0?void 0:f.input)===null||v===void 0?void 0:v.el)===x||t._popup.isVisible())&&t.events.fire(l.ItemEvent.keydown,[o])},onmousedown:function(){t._popup.getContainer()!==document.activeElement&&(t._popupIsFocus=!1)}}},e.prototype._initHotkeys=function(){var t=this,o={"shift+tab":function(){t._applyTab()},tab:function(){t._applyTab()},escape:function(){t._popup.isVisible()&&t.getRootView().refs.input.el.focus(),t._popup.hide()},enter:function(f){f.preventDefault();var v=t.getRootView().refs.input.el;t._popup.isVisible()||t._popup.show(v,{theme:v}),t._popupIsFocus&&t.config.controls?t._afterApply(!0):(t._popup.hide(),t.paint())},arrowRight:function(f){var v=t._popup.getContainer();t._popupIsFocus=v.contains(document.activeElement),t._popup.isVisible()&&!t._popupIsFocus&&(f.preventDefault(),v.focus(),t._popupIsFocus=!0)}};for(var c in o)this._keyManager.addHotKey(c,o[c])},e.prototype._draw=function(){var t,o,c,f=this.config,v=f.value,x=f.required,k=f.disabled,S=f.placeholder,O=f.name,P=f.id,T=f.editable,j=f.label,$=f.helpMessage,I=this._popup.isVisible()||((c=(o=(t=this.getRootView())===null||t===void 0?void 0:t.refs)===null||o===void 0?void 0:o.input)===null||c===void 0?void 0:c.el)===document.activeElement;return(0,h.el)("div.dhx_form-group",{class:(0,r.getFormItemCss)(this.config,(0,r.isVerify)(this.config),I)},[this._drawLabel(),(0,h.el)(".dhx_input__wrapper",[(0,h.el)("div.dhx_input__container",{},[(0,h.el)(".dhx_input__icon.dxi.dxi-clock-outline"),(0,h.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":O||P,_key:this._uid,_ref:"input",value:v,type:"text",required:x,disabled:k,class:I&&"dhx_input--focus",placeholder:S||"",name:O||"",id:P||this._uid,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!T,"aria-label":j||"".concat(T?"type or":""," select date"),"aria-describedby":$?"dhx_label__help_".concat(P||this._uid):null})]),(0,r.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",{},(0,r.getValidationMessage)(this.config))])])},e.prototype._clear=function(t){(t||this.events.fire(l.ItemEvent.beforeChange,[""]))&&(this.config.value="",this.timepicker.clear(),t||(this.events.fire(l.ItemEvent.change,[""]),(0,r.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")),this.paint())},e.prototype._afterApply=function(t){if(t===void 0&&(t=!1),this.getRootView().refs.input.el.value!==""||t){var o=this.timepicker.getValue(this._isTimeObject());if(!this.events.fire(l.ItemEvent.beforeChange,[o]))return;this.config.value=this.timepicker.getValue(),this.events.fire(l.ItemEvent.change,[o]),(0,r.isVerify)(this.config)&&this.validate()}else this.clear();this._popup.hide(),this.paint()},e.prototype._applyTab=function(){var t,o,c;document.activeElement===((c=(o=(t=this._popup.getRootView())===null||t===void 0?void 0:t.refs)===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.el)||this._popupIsFocus||this._popup.hide()},e.prototype._isTimeObject=function(){var t;return((t=this.config.valueFormat)===null||t===void 0?void 0:t.toLowerCase())==="timeobject"},e}(p.Label);g.TimePicker=i},function(H,g,y){var b,w=this&&this.__extends||(b=function(n,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])},b(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}b(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),m=this&&this.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o,c=0,f=e.length;c<f;c++)!o&&c in e||(o||(o=Array.prototype.slice.call(e,0,c)),o[c]=e[c]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(g,"__esModule",{value:!0}),g.ColorPicker=void 0;var _=y(237),h=y(3),d=y(0),p=y(1),u=y(9),s=y(11),l=y(4),r=y(6),a=y(14),i=function(n){function e(t,o){var c=n.call(this,null,o)||this;return c.events=new h.EventSystem,c._popupIsFocus=!1,c._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],c._propsColorpicker=["mode","grayShades","customColors","palette"],c._props=m(m(m([],r.baseProps,!0),c._propsItem,!0),c._propsColorpicker,!0),c._keyManager=new a.KeyManager(function(){var f,v,x,k=document.activeElement;return((x=(v=(f=c.getRootView())===null||f===void 0?void 0:f.refs)===null||v===void 0?void 0:v.input)===null||x===void 0?void 0:x.el)===k||c._popup.isVisible()}),c._initView(o),c._initHandlers(),c._initHotkeys(),c.mount(t,(0,d.create)({render:function(){return c._draw()}})),c}return w(e,n),e.prototype.destructor=function(){this.events&&this.events.clear(),this._popup&&this._popup.destructor(),this._keyManager&&this._keyManager.destructor(),this.colorpicker&&this.colorpicker.destructor(),this.events=this._uid=this._propsColorpicker=this._propsItem=this._props=this._keyManager=null,n.prototype._destructor.call(this),this.unmount()},e.prototype.setProperties=function(t){if(t&&!(0,p.isEmptyObj)(t)&&this.events.fire(l.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var o in t)this._props.includes(o)&&(this.config[o]=t[o],this._propsColorpicker.includes(o)&&(this.colorpicker.config[o]=t[o]));this.events.fire(l.ItemEvent.afterChangeProperties,[this.getProperties()]),this.colorpicker.paint(),this.paint()}},e.prototype.getProperties=function(){for(var t={},o=0,c=this._props;o<c.length;o++){var f=c[o];t[f]=this.config[f]}return t},e.prototype.show=function(){var t=this.config,o=t.value;t.hidden&&this.events.fire(l.ItemEvent.beforeShow,[o])&&(this.config.hidden=!1,this.events.fire(l.ItemEvent.afterShow,[o]))},e.prototype.hide=function(t){var o=this.config,c=o.value;o.hidden&&!t||!this.events.fire(l.ItemEvent.beforeHide,[c,t])||(this.config.hidden=!0,this.events.fire(l.ItemEvent.afterHide,[c,t]))},e.prototype.isVisible=function(){return!this.config.hidden},e.prototype.disable=function(){this.config.disabled=!0,this.paint()},e.prototype.enable=function(){var t;this.config.disabled=!1,!((t=this.parent)===null||t===void 0)&&t.isDisabled()&&this.parent.enable(),this.paint()},e.prototype.isDisabled=function(){return!!this.config.disabled},e.prototype.validate=function(t){t===void 0&&(t=!1);for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];var f=o.length?o[0]:this.getValue();if(!t&&!this.events.fire(l.ItemEvent.beforeValidate,[f]))return!1;var v=!0;return(this.config.required||o.length)&&(v=(0,_.isHex)(f)),typeof this.config.validation=="function"&&(v=this.config.validation(f)),t||(this.setValidationStatus(v?"success":"error"),this.events.fire(l.ItemEvent.afterValidate,[f,v]),this.paint()),v},e.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},e.prototype.setValue=function(t){t!==void 0&&t!==this.config.value&&this.colorpicker.setValue(t)},e.prototype.getValue=function(){return this.colorpicker.getValue()},e.prototype.clear=function(){this.config.value!==""&&this.colorpicker.clear()},e.prototype.getWidget=function(){return this.colorpicker},e.prototype.focus=function(){var t=this;(0,d.awaitRedraw)().then(function(){t.getRootView().refs.input.el.focus()})},e.prototype.blur=function(){var t=this;(0,d.awaitRedraw)().then(function(){t._popup.hide(),t.getRootView().refs.input.el.blur()})},e.prototype._initView=function(t){if((0,p.isEmptyObj)(t))throw new Error("Check the configuration is correct");for(var o in this.colorpicker&&this.colorpicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:t.type,id:t.id,name:t.name,disabled:!1,editable:!1,hidden:!1,value:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:_.palette,mode:"palette",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},t)o!=="id"&&o!=="type"&&o!=="name"&&(this.config[o]=t[o]);this._popup=new s.Popup,this.colorpicker=new _.Colorpicker(null,(0,r.widgetConfig)(t)),this.colorpicker.setValue(this.config.value),this._popup.attach(this.colorpicker)},e.prototype._initHandlers=function(){var t=this;this.colorpicker.events.on(_.ColorpickerEvents.beforeChange,function(o){return t.events.fire(l.ItemEvent.beforeChange,[o])}),this.colorpicker.events.on(_.ColorpickerEvents.change,function(o,c){t.config.value=t.colorpicker.getValue(),t.events.fire(l.ItemEvent.change,[t.config.value]),(0,r.isVerify)(t.config)&&(c==="clear"?t.setValidationStatus(t.validate(!0)?"success":"error"):t.validate()),t._popup.hide(),t.paint()}),this._popup.events.on(s.PopupEvents.afterHide,function(){document.activeElement!==t.getRootView().refs.input.el&&t.events.fire(l.ItemEvent.blur,[t.getValue()]),t.paint()}),this.events.on(l.ItemEvent.blur,function(){t._popupIsFocus=!1,t.paint()})},e.prototype._getHandlers=function(){var t=this;return{onblur:function(){t._popup.isVisible()||t.events.fire(l.ItemEvent.blur,[t.getValue()]),t.paint()},onfocus:function(){if(!t._popup.isVisible()){var o=t.getRootView().refs.input.el;t._popup.show(o,{theme:o}),t.events.fire(l.ItemEvent.focus,[t.getValue()]),t.paint()}},oninput:function(o){var c=o.target.value;t.events.fire(l.ItemEvent.input,[c])},onchange:function(o){var c=o.target.value;t.config.editable&&(0,_.isHex)(c)?t.setValue(c):c===""&&t.clear()},onkeydown:function(o){var c,f,v,x=document.activeElement;(((v=(f=(c=t.getRootView())===null||c===void 0?void 0:c.refs)===null||f===void 0?void 0:f.input)===null||v===void 0?void 0:v.el)===x||t._popup.isVisible())&&t.events.fire(l.ItemEvent.keydown,[o])},onmousedown:function(){t._popup.getContainer()!==document.activeElement&&(t._popupIsFocus=!1)}}},e.prototype._initHotkeys=function(){var t=this,o={"shift+tab":function(){t._applyTab()},tab:function(){t._applyTab()},escape:function(){t._popup.isVisible()&&t.getRootView().refs.input.el.focus(),t._popup.hide()},enter:function(f){if(f.preventDefault(),!t._popup.isVisible()){var v=t.getRootView().refs.input.el;t._popup.show(v,{theme:v})}},arrowRight:function(f){var v=t._popup.getContainer();t._popup.isVisible()&&!t._popupIsFocus&&(f.preventDefault(),v.focus(),t._popupIsFocus=!0)}};for(var c in o)this._keyManager.addHotKey(c,o[c])},e.prototype._draw=function(){var t,o,c,f=this.config,v=f.required,x=f.value,k=f.icon,S=f.disabled,O=f.placeholder,P=f.name,T=f.id,j=f.editable,$=f.label,I=f.helpMessage,F=this._popup.isVisible()||((c=(o=(t=this.getRootView())===null||t===void 0?void 0:t.refs)===null||o===void 0?void 0:o.input)===null||c===void 0?void 0:c.el)===document.activeElement;return(0,d.el)("div.dhx_form-group",{class:(0,r.getFormItemCss)(this.config,(0,r.isVerify)(this.config),F)},[this._drawLabel(),(0,d.el)(".dhx_input__wrapper",[(0,d.el)("div.dhx_input__container",{},[(0,d.el)(".dhx_input__icon",{class:k||"dxi dxi-eyedropper-variant"+(x?" dhx_input__icon--color-selected":""),style:{"background-color":x||"transparent"}}),(0,d.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":P||T,_key:this._uid,_ref:"input",value:x,type:"text",required:v,disabled:S,class:F&&"dhx_input--focus",placeholder:O||"",name:P||"",id:T||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!j,"aria-label":$||"".concat(j?"type or":""," select color"),"aria-describedby":I?"dhx_label__help_".concat(T||this._uid):null})]),(0,r.getValidationMessage)(this.config)&&(0,d.el)("span.dhx_input__caption",{},(0,r.getValidationMessage)(this.config))])])},e.prototype._applyTab=function(){var t,o,c;document.activeElement===((c=(o=(t=this._popup.getRootView())===null||t===void 0?void 0:t.refs)===null||o===void 0?void 0:o.content)===null||c===void 0?void 0:c.el)||this._popupIsFocus||this._popup.hide()},e}(u.Label);g.ColorPicker=i},function(H,g,y){var b=this&&this.__createBinding||(Object.create?function(_,h,d,p){p===void 0&&(p=d);var u=Object.getOwnPropertyDescriptor(h,d);u&&!("get"in u?!h.__esModule:u.writable||u.configurable)||(u={enumerable:!0,get:function(){return h[d]}}),Object.defineProperty(_,p,u)}:function(_,h,d,p){p===void 0&&(p=d),_[p]=h[d]}),w=this&&this.__exportStar||function(_,h){for(var d in _)d==="default"||Object.prototype.hasOwnProperty.call(h,d)||b(h,_,d)};Object.defineProperty(g,"__esModule",{value:!0}),g.locale=void 0,w(y(238),g),w(y(109),g),w(y(108),g),w(y(61),g);var m=y(62);Object.defineProperty(g,"locale",{enumerable:!0,get:function(){return m.default}})},function(H,g,y){var b,w=this&&this.__extends||(b=function(x,k){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(S[P]=O[P])},b(x,k)},function(x,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function S(){this.constructor=x}b(x,k),x.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}),m=this&&this.__spreadArray||function(x,k,S){if(S||arguments.length===2)for(var O,P=0,T=k.length;P<T;P++)!O&&P in k||(O||(O=Array.prototype.slice.call(k,0,P)),O[P]=k[P]);return x.concat(O||Array.prototype.slice.call(k))};Object.defineProperty(g,"__esModule",{value:!0}),g.Colorpicker=void 0;var _=y(0),h=y(3),d=y(2),p=y(5),u=y(1),s=y(61),l=y(108),r=y(62),a=y(109),i=y(67),n=y(21),e=y(239),t=y(240),o=y(14),c=y(31),f=y(1),v=function(x){function k(S,O){var P=x.call(this,S,O)||this;P._setPaletteGrip=function(j){var $=P.getRootView().refs.picker_palette.el.getBoundingClientRect(),I=j.targetTouches?j.targetTouches[0].clientX:j.clientX,F=(j.targetTouches?j.targetTouches[0].clientY:j.clientY)-$.top,E=I-$.left,V=(0,t.calculatePaletteGrip)($,F,E),z=V.s,X=V.v;P._pickerState.hsv.s=z,P._pickerState.hsv.v=X,P.paint()},P._setRangeGrip=function(j){var $=P.getRootView().refs[P._activeRange].el.getBoundingClientRect(),I=(j.targetTouches?j.targetTouches[0].clientX:j.clientX)-$.left,F=(0,t.calculateRangeGrip)($,I),E=F.h,V=F.alpha,z=F.rangeLeft;switch(P._activeRange){case"hue_range":P._pickerState.hsv.h=E,P._pickerState.hueRangeLeft=z;break;case"alpha_range":P._pickerState.alpha=V,P._pickerState.alphaRangeLeft=z}P.paint()},P._onColorClick=function(j,$){var I=$.data.color.toUpperCase();P.events.fire(a.ColorpickerEvents.beforeChange,[I])&&(P._selected=I,P._focusColor(I),P.events.fire(a.ColorpickerEvents.change,[P._selected]),P.events.fire(a.ColorpickerEvents.colorChange,[P._selected]))},P._container=S,P.config=(0,u.extend)({css:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:l.palette,width:"238px",mode:"palette",transparency:!0},P.config),P.config.palette||(P.config.palette=l.palette),P.config.customColors&&(P.config.customColors=P.config.customColors.map(function(j){return j.toUpperCase()})),P._pickerState={hsv:{h:0,s:1,v:1},customHex:"",alpha:1},P.events=new h.EventSystem(P),P._setHandlers(),P._keyManager=new o.KeyManager(function(j,$){return $===P._uid}),P._initHotKey();var T=(0,_.create)({render:function(){return P._getContent()}});return P.mount(P._container,T),P}return w(k,x),k.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.events&&this.events.clear(),this.config=this.events=this._selected=this._handlers=this._pickerState=this._inputTimeout=this._keyManager=null,this.unmount()},k.prototype.clear=function(){this.events.fire(a.ColorpickerEvents.beforeChange,[""])&&(this._selected="",this.events.fire(a.ColorpickerEvents.change,[this._selected,"clear"]),this.paint())},k.prototype.setValue=function(S){S=this.config.transparency||S.length!==9?S:S.slice(0,-2),this.events.fire(a.ColorpickerEvents.beforeChange,[S])&&(this._focusColor(S)||c.focusManager.getFocusId()===this._uid)&&(this.events.fire(a.ColorpickerEvents.change,[this._selected]),this.events.fire(a.ColorpickerEvents.colorChange,[this._selected]))},k.prototype.setFocus=function(S){this._focusColor(S)&&this.paint()},k.prototype.getValue=function(){return this._selected||""},k.prototype.getCustomColors=function(){return this.config.customColors},k.prototype.setCustomColors=function(S){this.config.customColors=S.map(function(O){return O.toUpperCase()}),this.paint()},k.prototype.setCurrentMode=function(S){S!=="palette"&&S!=="picker"||(this.config.mode=S,this.events.fire(a.ColorpickerEvents.modeChange,[S]),this.events.fire(a.ColorpickerEvents.viewChange,[S]),this.paint())},k.prototype.getCurrentMode=function(){return this.config.mode},k.prototype.getView=function(){return this.getCurrentMode()},k.prototype.setView=function(S){this.setCurrentMode(S)},k.prototype.focusValue=function(S){this.setFocus(S)},k.prototype._setHandlers=function(){var S=this;this._handlers={click:{".dhx_palette__cell":this._onColorClick},mousedown:function(O){S._pickerMove(O)},touchstart:function(O){S._pickerMove(O)},buttonsClick:function(O){if(S.setCurrentMode("palette"),O!=="cancel"){var P=S._pickerState.alpha,T=P!==1?(0,s.alphaToHex)(P):"",j=S._pickerState.background+T;O!=="apply"||S.config.customColors.includes(j)||(S.setValue(j),S.events.fire(a.ColorpickerEvents.apply,[]),S.events.fire(a.ColorpickerEvents.selectClick,[]))}else S.events.fire(a.ColorpickerEvents.cancelClick,[])},customColorClick:function(){S.setView("picker")},oninput:function(O){var P=(0,d.locate)(O);switch(S._inputTimeout&&clearTimeout(S._inputTimeout),P){case"hex_input":S._inputTimeout=setTimeout(function(){var j=O.target.value;j.indexOf("#")===-1&&(j="#".concat(j)),S._pickerState.customHex=j,(0,s.isHex)(j)&&(S._pickerState.hsv=(0,s.HexToHSV)(j),S._pickerState.alpha=(0,s.getAlpha)(j),S.paint())},100);break;case"alpha_input":S._pickerState.customHex="";var T=parseInt(O.target.value);T>100&&(T=Math.trunc(T/10)),T>=0&&(S._pickerState.alpha=T/100,S.paint())}},contextmenu:{".dhx_palette__cell":function(O,P){O.preventDefault();var T=S.config.customColors.indexOf(P.data.color);T!==-1&&S._removeCustomColor(T),S.paint()}},mouseover:{".dhx_palette__cell":function(O){O.target&&(0,i.tooltip)(r.default.rightClickToDelete,{node:O.target,position:n.Position.bottom})},".dhx_colorpicker-custom-colors__picker":function(O){O.target&&(0,i.tooltip)(r.default.addNewColor,{node:O.target,position:n.Position.bottom})}}},this.events.on(a.ColorpickerEvents.change,function(){S.paint()}),this.events.on(a.ColorpickerEvents.colorChange,function(){S.paint()})},k.prototype._pickerMove=function(S){var O=this,P=(0,d.locate)(S);this._pickerState.customHex="",P==="picker_palette"?this._setPaletteGrip(S):(this._activeRange=P,this._setRangeGrip(S));var T=P==="picker_palette"?this._setPaletteGrip:this._setRangeGrip,j=S.targetTouches?"touchmove":"mousemove",$=S.targetTouches?"touchend":"mouseup";document.addEventListener(j,T),document.addEventListener($,function(){document.removeEventListener(j,T),O._activeRange=null}),this.paint()},k.prototype._focusColor=function(S){if(S===void 0||S.length<4)return!1;var O=S.toUpperCase();if(!(0,s.isHex)(O))return!1;var P=this.config.palette.reduce(function($,I){return $||(I.forEach(function(F){F.toUpperCase()!==O||($=!0)}),$)},!1),T=l.grayShades.includes(O);if(!P&&!T){var j=this.getCustomColors();j.includes(O.toUpperCase())||j.push(O.toUpperCase())}return this._selected=O||null,this._pickerState.hsv=(0,s.HexToHSV)(O),this._pickerState.alpha=(0,s.getAlpha)(O),!0},k.prototype._removeCustomColor=function(S){this.config.customColors.splice(S,1)},k.prototype._getCells=function(S,O){var P=this;return O===void 0&&(O=""),S.reduce(function(T,j){var $=(P._selected||"").toUpperCase()===j.toUpperCase()?"dhx_palette__cell--selected":"";return T.push((0,_.el)(".dhx_palette__cell",{class:"".concat($," ").concat(O),_data:{color:j},style:"background:".concat(j),tabindex:0})),T},[])},k.prototype._getGrayShades=function(){return(0,_.el)(".dhx_palette__row",this._getCells(l.grayShades))},k.prototype._getPalette=function(){var S=this;return this.config.palette.reduce(function(O,P){return O.push((0,_.el)(".dhx_palette__col",S._getCells(P))),O},[])},k.prototype._getContent=function(){var S;return S=this.config.pickerOnly?[(0,e.getPicker)(this,this._pickerState,this._handlers)]:this.config.mode==="palette"?m(m([this.config.grayShades&&this._getGrayShades()],this._getPalette(),!0),[!this.config.paletteOnly&&(0,_.el)(".dhx_colorpicker-custom-colors",{onmouseover:this._handlers.mouseover},[(0,_.el)(".dhx_colorpicker-custom-colors__header",[r.default.customColors]),(0,_.el)(".dhx_palette--custom.dhx_palette__row",m(m([],this._getCells(this.config.customColors,"dhx_custom-color__cell"),!0),[(0,_.el)(".dhx_colorpicker-custom-colors__picker",{class:"dxi dxi-plus",onclick:this._handlers.customColorClick,onmouseover:this._handlers.mouseover,tabindex:0})],!1))])],!1):[(0,e.getPicker)(this,this._pickerState,this._handlers)],(0,_.el)(".dhx_widget.dhx_colorpicker",{class:this.config.css,style:{width:this.config.width},"data-dhx-widget-id":this._uid},[(0,_.el)(".dhx_palette",{onclick:this._handlers.click,oncontextmenu:this._handlers.contextmenu},S)])},k.prototype._initHotKey=function(){var S=this,O={enter:function(T){if((0,d.locateNodeByClassName)(T,"dhx_palette__cell")){var j=(0,f.rgbToHex)(T.target.style.background);if(!S.events.fire(a.ColorpickerEvents.beforeChange,[j]))return;S._selected=j,S.events.fire(a.ColorpickerEvents.change,[S._selected]),S.events.fire(a.ColorpickerEvents.colorChange,[S._selected])}(0,d.locateNodeByClassName)(T,"dhx_colorpicker-custom-colors__picker")&&S.setCurrentMode("picker")}};for(var P in O)this._keyManager.addHotKey(P,O[P])},k}(p.View);g.Colorpicker=v},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.calculatePaletteGrip=g.getPicker=void 0;var b=y(61),w=y(0),m=y(62);g.getPicker=function(_,h,d){var p=(0,b.HSVtoRGB)(h.hsv);h.background=(0,b.RGBToHex)(p);var u=h.background,s=h.hsv,l=h.customHex,r=h.alpha,a=(0,b.RGBToHex)((0,b.HSVtoRGB)({h:s.h,s:1,v:1})),i=_.getRootView(),n=i.refs?i.refs.picker_palette.el.getBoundingClientRect():{height:200,width:218,x:0,y:0},e=n.height-2,t=n.width-2,o=e-s.v*e-4,c=s.s*t-4,f=n.width-6,v=f-(360-s.h)/360*f,x=r*f,k=r!==1?(0,b.alphaToHex)(r):"",S=(0,b.isHex)(l)?l.replace("#",""):u.replace("#","")+k,O=Math.round(100*r),P=_.config.transparency;return(0,w.el)(".dhx_colorpicker-picker",{},[(0,w.el)(".dhx_colorpicker-picker__palette",{style:{height:132,background:a},onmousedown:d.mousedown,ontouchstart:d.touchstart,"data-dhx-id":"picker_palette",_ref:"picker_palette"},[(0,w.el)(".dhx_palette_grip",{style:{top:o,left:c},tabindex:0})]),(0,w.el)(".dhx_colorpicker-range.dhx_colorpicker-range--hue",{onmousedown:d.mousedown,ontouchstart:d.touchstart,"data-dhx-id":"hue_range",_key:"hue_range",_ref:"hue_range"},[(0,w.el)(".dhx_colorpicker-range__grip.dhx_colorpicker-range__grip--hue",{style:{left:v},tabindex:0})]),P?(0,w.el)(".dhx_colorpicker-range.dhx_colorpicker-range--alpha",{onmousedown:d.mousedown,ontouchstart:d.touchstart,"data-dhx-id":"alpha_range",_key:"alpha_range",_ref:"alpha_range"},[(0,w.el)(".dhx_colorpicker-range__substrate"),(0,w.el)(".dhx_colorpicker-range__background",{style:{backgroundImage:"linear-gradient(to right, transparent, ".concat(u,")")}}),(0,w.el)(".dhx_colorpicker-range__grip.dhx_colorpicker-range__grip--alpha",{style:{left:r!==1?x:null},tabindex:0})]):null,(0,w.el)(".dhx_colorpicker-value",[(0,w.el)(".dhx_colorpicker-value__color",{style:{background:u+(0,b.alphaToHex)(r)}}),(0,w.el)(".dhx_colorpicker-value__input-wrapper.dhx_colorpicker-value__input-wrapper--hex",[(0,w.el)("input",{class:"dhx_colorpicker-value__input dhx_colorpicker-value__input--hex",style:{width:P?112:100},value:S,oninput:d.oninput,maxlength:P?"9":"7",_key:"hex_input","data-dhx-id":"hex_input","aria-label":"type color in HEX format"})]),P?(0,w.el)(".dhx_colorpicker-value__input-wrapper.dhx_colorpicker-value__input-wrapper--alpha",[(0,w.el)("input",{class:"dhx_colorpicker-value__input dhx_colorpicker-value__input--alpha",value:O,oninput:d.oninput,maxlength:"3",_key:"alpha_input","data-dhx-id":"alpha_input","aria-label":"type opacity in percent"})]):null]),(0,w.el)(".dhx_colorpicker-picker__buttons",[!_.config.pickerOnly&&(0,w.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_link dhx_button--color_primary",onclick:[d.buttonsClick,"cancel"]},m.default.cancel),(0,w.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_flat dhx_button--color_primary",onclick:[d.buttonsClick,"apply"]},m.default.select)])])},g.calculatePaletteGrip=function(_,h,d){var p=_.refs.picker_palette.el.getBoundingClientRect(),u=p.height,s=p.width;h=h<0?0:h>u?u:h,d=d<0?0:d>s?s:d;var l=Math.round(d/(s/100)),r=100-Math.round(h/(u/100));this._pickerState.hsv.s=l/100,this._pickerState.hsv.v=r/100}},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.calculateRangeGrip=g.calculatePaletteGrip=void 0,g.calculatePaletteGrip=function(b,w,m){var _=b.height,h=b.width;return w=w<0?0:w>_?_:w,m=m<0?0:m>h?h:m,{s:Math.round(m/(h/100))/100,v:(100-Math.round(w/(_/100)))/100}},g.calculateRangeGrip=function(b,w){var m=b.width;return w=w<0?0:w>m?m:w,{h:Math.round(w/m*360),alpha:Number((w/m).toFixed(2)),rangeLeft:w}}},function(H,g,y){var b,w=this&&this.__extends||(b=function(r,a){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(i[e]=n[e])},b(r,a)},function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function i(){this.constructor=r}b(r,a),r.prototype=a===null?Object.create(a):(i.prototype=a.prototype,new i)}),m=this&&this.__assign||function(){return m=Object.assign||function(r){for(var a,i=1,n=arguments.length;i<n;i++)for(var e in a=arguments[i])Object.prototype.hasOwnProperty.call(a,e)&&(r[e]=a[e]);return r},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.Spacer=void 0;var _=y(0),h=y(5),d=y(4),p=y(3),u=y(1),s=y(6),l=function(r){function a(i,n){var e=r.call(this,i,m({disabled:!1,hidden:!1,width:"content",height:"content"},n))||this;return e.events=new p.EventSystem,e.mount(i,(0,_.create)({render:function(){return e._draw()}})),e}return w(a,r),a.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=null,this.unmount()},a.prototype.setProperties=function(i){if(i&&!(0,u.isEmptyObj)(i)&&this.events.fire(d.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var n in i)s.baseProps.includes(n)&&(this.config[n]=i[n]);this.events.fire(d.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},a.prototype.getProperties=function(){for(var i={},n=0,e=s.baseProps;n<e.length;n++){var t=e[n];i[t]=this.config[t]}return i},a.prototype.show=function(){this.config.hidden&&this.events.fire(d.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(d.ItemEvent.afterShow,[]))},a.prototype.hide=function(i){this.config.hidden&&!i||!this.events.fire(d.ItemEvent.beforeHide,[!!i])||(this.config.hidden=!0,this.events.fire(d.ItemEvent.afterHide,[!!i]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype._draw=function(){return(0,_.el)("div")},a}(h.View);g.Spacer=l},function(H,g,y){var b,w=this&&this.__extends||(b=function(i,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},b(i,n)},function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=i}b(i,n),i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},m.apply(this,arguments)},_=this&&this.__spreadArray||function(i,n,e){if(e||arguments.length===2)for(var t,o=0,c=n.length;o<c;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return i.concat(t||Array.prototype.slice.call(n))};Object.defineProperty(g,"__esModule",{value:!0}),g.Avatar=void 0;var h=y(0),d=y(1),p=y(3),u=y(9),s=y(4),l=y(6),r=y(106),a=function(i){function n(e,t){var o=i.call(this,e,t)||this;return o.events=new p.EventSystem,o._propsItem=["validation","required","readOnly","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","size","circle","alt","icon","placeholder","preview","accept","autosend","params","headerParams","fieldName","target","updateFromResponse","removeIcon"],o._props=_(_([],l.baseProps,!0),o._propsItem,!0),o._isUpload=!1,o._initView(t),o._initHandlers(),o}return w(n,i),n.prototype.send=function(e){var t=this,o=this.config,c=o.target,f=o.value,v=o.updateFromResponse,x=o.headerParams;if(!this._isUpload&&c&&(f==null?void 0:f.file)&&f.status!==r.FileStatus.uploaded&&this.events.fire(s.ItemEvent.beforeUploadFile,[f])){var k=this._createFormData(f,e),S=new XMLHttpRequest;if(this._isUpload=!0,this.config.value=m(m({},f),{status:r.FileStatus.inprogress,request:S}),this.events.fire(s.ItemEvent.uploadBegin,[this.config.value]),this.events.fire(s.ItemEvent.uploadProgress,[0,this.config.value]),S.open("POST",c),x)for(var O in x)S.setRequestHeader(O,x[O]);S.upload.onprogress=function(P){var T=P.loaded/P.total;t.config.value=m(m({},t.config.value),{progress:T}),t.events.fire(s.ItemEvent.uploadProgress,[100*T,t.config.value])},S.onloadend=function(){var P=S.status===200?r.FileStatus.uploaded:r.FileStatus.failed,T=S.status===200&&S.response?JSON.parse(S.response):null;t.config.value=m(m({},t.config.value),{status:P}),P===r.FileStatus.uploaded?(T&&v&&(t.config.value=m(m({},t.config.value),T)),t.events.fire(s.ItemEvent.uploadFile,[t.config.value,T])):t.events.fire(s.ItemEvent.uploadFail,[t.config.value]),t._isUpload=!1,t.events.fire(s.ItemEvent.uploadComplete,[t.config.value])},S.send(k)}},n.prototype.selectFile=function(){var e,t,o;(o=(t=(e=this.getRootView())===null||e===void 0?void 0:e.refs)===null||t===void 0?void 0:t.input)===null||o===void 0||o.el.click()},n.prototype.setValue=function(e){this._setValue(e),(0,l.isVerify)(this.config)&&this.validate()},n.prototype._setValue=function(e){this.events.fire(s.ItemEvent.beforeChange,[e])&&(this.config.value=!(0,d.isEmptyObj)(e)&&m({id:(0,d.uid)(),status:r.FileStatus.queue,progress:0,path:""},e)||{},this.events.fire(s.ItemEvent.change,[this.getValue()]))},n.prototype.getValue=function(){return this.config.value||{}},n.prototype.clear=function(){this._setValue({}),(0,l.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")},n.prototype.disable=function(){this.config.disabled=!0,this.paint()},n.prototype.enable=function(){var e;this.config.disabled=!1,!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint()},n.prototype.isDisabled=function(){return!!this.config.disabled},n.prototype.show=function(){this.config.hidden&&this.events.fire(s.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(s.ItemEvent.afterShow,[this.getValue()]))},n.prototype.hide=function(e){e===void 0&&(e=!1),this.config.hidden&&!e||!this.events.fire(s.ItemEvent.beforeHide,[this.getValue(),e])||(this.config.hidden=!0,this.events.fire(s.ItemEvent.afterHide,[this.getValue(),e]))},n.prototype.isVisible=function(){return!this.config.hidden},n.prototype.validate=function(e,t){if(e===void 0&&(e=!1),t===void 0&&(t=this.getValue()),!e&&!this.events.fire(s.ItemEvent.beforeValidate,[t]))return!1;var o=!0;return this.config.required&&(o=!!t.src),typeof this.config.validation=="function"&&(o=this.config.validation(t)),e||(this.setValidationStatus(o?"success":"error"),this.events.fire(s.ItemEvent.afterValidate,[t,o]),this.paint()),o},n.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},n.prototype.setProperties=function(e){if(e&&!(0,d.isEmptyObj)(e)&&this.events.fire(s.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var t in e)this._props.includes(t)&&(this.config[t]=e[t]);this.events.fire(s.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},n.prototype.getProperties=function(){for(var e={},t=0,o=this._props;t<o.length;t++){var c=o[t];e[c]=this.config[c]}return e},n.prototype.focus=function(){var e=this;(0,h.awaitRedraw)().then(function(){var t,o,c;(c=(o=(t=e.getRootView())===null||t===void 0?void 0:t.refs)===null||o===void 0?void 0:o.input)===null||c===void 0||c.el.focus(),e.paint()})},n.prototype.blur=function(){var e=this;(0,h.awaitRedraw)().then(function(){var t,o,c;(c=(o=(t=e.getRootView())===null||t===void 0?void 0:t.refs)===null||o===void 0?void 0:o.input)===null||c===void 0||c.el.blur(),e.paint()})},n.prototype.destructor=function(){this.events&&this.events.clear(),i.prototype._destructor.call(this),this.unmount()},n.prototype._initView=function(e){this.config=m({size:"medium",labelPosition:"top",width:"content",height:"content",accept:"image/*",fieldName:"file",target:"",alt:"",css:"",label:"",errorMessage:"",successMessage:"",helpMessage:"",icon:"",labelWidth:"",placeholder:"",preMessage:"",removeIcon:!0,circle:!1,readOnly:!1,hiddenLabel:!1,autosend:!1,updateFromResponse:!0},e),this.paint()},n.prototype._initHandlers=function(){var e=this;this._handlers=m({change:function(t){var o,c,f=(c=(o=t.target)===null||o===void 0?void 0:o.files)===null||c===void 0?void 0:c[0];if(!e.config.readOnly&&f){var v=URL.createObjectURL(f);e.setValue({file:f,src:v}),e.config.autosend&&e.validate(!0)&&e.send()}},drop:function(t){var o,c;t.preventDefault();var f=(c=(o=t.dataTransfer)===null||o===void 0?void 0:o.files)===null||c===void 0?void 0:c[0];if(!e.config.readOnly&&f){var v=URL.createObjectURL(f);e._dragover=!1,e.setValue({file:f,src:v}),e.config.autosend&&e.validate(!0)&&e.send()}},dragover:function(t){if(t.preventDefault(),!e.config.readOnly){for(var o=0,c=t.dataTransfer.types;o<c.length;o++){var f=c[o];if(f!=="Files"&&f!=="application/x-moz-file")return}e._dragoverTimeout?clearTimeout(e._dragoverTimeout):e.paint(),e._dragover=!0,e._dragoverTimeout=setTimeout(function(){e._dragover=!1,e._dragoverTimeout=null,e.paint()},150)}},onfocus:function(){return e.events.fire(s.ItemEvent.focus,[e.getValue()])},onblur:function(){return e.events.fire(s.ItemEvent.blur,[e.getValue()])},onkeydown:function(t){return e.events.fire(s.ItemEvent.keydown,[t])}},this._handlers),this.events.on(s.ItemEvent.change,function(){return e.paint()})},n.prototype._draw=function(){var e=this.config,t=e.hidden,o=e.alt,c=e.circle,f=e.size,v=e.label,x=e.value,k=e.readOnly,S=t?" dhx_form-group--hidden":"",O="",P={};return this._dragover&&(O+="dhx_avatar--on-drag "),c&&(O+="dhx_avatar--circle "),f&&typeof f!="string"?P.width=P.height=f:f&&["small","medium","large"].includes(f)?O+="dhx_avatar-size--".concat(f," "):O+="dhx_avatar-size--medium ",(0,h.el)("div.dhx_form-group.dhx_form-group--avatar",{"aria-label":o||v,role:"img",class:(0,l.getFormItemCss)(this.config,(0,l.isVerify)(this.config),!1)+S},[this._drawLabel(),(0,h.el)("div.dhx_avatar",{class:O,style:P,ondragover:this._handlers.dragover,ondrop:this._handlers.drop},[x!=null&&x.src?this._drawImage(this.config):this._drawPreview(this.config),!k&&this._drawCover(this.config)]),(0,l.getValidationMessage)(this.config)&&(0,h.el)("span.dhx_input__caption",(0,l.getValidationMessage)(this.config))])},n.prototype._drawImage=function(e){var t=e.alt,o=e.value;return(0,h.el)("img.dhx_avatar__image",{src:o==null?void 0:o.src,alt:t})},n.prototype._drawPreview=function(e){var t=e.icon,o=e.placeholder,c=e.preview,f=[];return t&&f.push((0,h.el)("div.dhx_avatar__preview-icon",{class:t})),o&&f.push((0,h.el)("div.dhx_avatar__preview-placeholder",{"aria-placeholder":o},o)),(0,h.el)("div.dhx_avatar__preview",{style:m({},c&&{"background-image":"url(".concat(c)}||{})},[].concat(f))},n.prototype._drawCover=function(e){var t=this,o=e.accept,c=e.id,f=e.value,v=e.removeIcon;return(0,h.el)("div.dhx_avatar__cover",[(0,h.el)("label.dhx_avatar__cover-upload",[(0,h.el)("input.dhx_avatar__cover-input",{_ref:"input",id:c,accept:o,type:"file",onchange:this._handlers.change,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown}),(0,h.el)("i.dhx_avatar__cover-icon.dxi.dxi-vault")]),(f==null?void 0:f.src)&&v&&(0,h.el)("div.dhx_avatar__cover-remove",{onclick:function(){return t.clear()}},[(0,h.el)("i.dhx_avatar__cover-icon.dxi.dxi-delete-forever")])])},n.prototype._createFormData=function(e,t){var o=this.config.fieldName,c=this.config.params,f=new FormData;if(t)for(var v in t)f.append(v,t[v]);if(c)for(var v in c)f.append(v,c[v]);return f.append(o,e.file,e.file.name),f.append(o+"_fullname",e.path+e.file.name),f.append(o+"_id",e.id),f},n}(u.Label);g.Avatar=a},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(s){for(var l,r=1,a=arguments.length;r<a;r++)for(var i in l=arguments[r])Object.prototype.hasOwnProperty.call(l,i)&&(s[i]=l[i]);return s},b.apply(this,arguments)},w=this&&this.__spreadArray||function(s,l,r){if(r||arguments.length===2)for(var a,i=0,n=l.length;i<n;i++)!a&&i in l||(a||(a=Array.prototype.slice.call(l,0,i)),a[i]=l[i]);return s.concat(a||Array.prototype.slice.call(l))};Object.defineProperty(g,"__esModule",{value:!0}),g.Fieldset=void 0;var m=y(3),_=y(4),h=y(6),d=y(1),p=y(0),u=function(){function s(l){var r=this;this.events=new m.EventSystem,this.attachments=[],this.propsItem=["label","labelAlignment","align"],this.props=w(w([],h.baseProps,!0),this.propsItem,!0),this.config=b({disabled:!1,hidden:!1,width:"content",height:"content",labelAlignment:"left",label:"",css:""},l),(0,p.awaitRedraw)().then(function(){r.config.disabled&&r.disable()})}return s.prototype.forEach=function(l,r){r===void 0&&(r=!1);for(var a=r?this.getTreeAttachments(this.getAttachments()):this.attachments,i=0;i<a.length;i++)l.call(this,a[i],i,a)},s.prototype.disable=function(){this.forEach(function(l){return typeof l.disable=="function"&&l.disable()}),this.config.disabled=this.cell.config.$disabled=!0,this.cell.paint()},s.prototype.enable=function(){var l;this.config.disabled=this.cell.config.$disabled=!1,this.attachments.every(function(r){return r.isDisabled()})&&this.forEach(function(r){return typeof r.enable=="function"&&r.enable()}),!((l=this.parent)===null||l===void 0)&&l.isDisabled()&&this.parent.enable(),this.cell.paint()},s.prototype.isDisabled=function(){return!!this.config.disabled},s.prototype.show=function(){this.config.hidden&&(this.forEach(function(l){return typeof l.hide=="function"&&l.show()}),this.config.hidden=!1,this.cell.show())},s.prototype.hide=function(l){l===void 0&&(l=!1),this.config.hidden&&!l||(this.forEach(function(r){typeof r.hide=="function"&&(r.config.type==="checkboxgroup"||r.config.type==="radiogroup"?r.hide(void 0,l):r.hide(l))}),this.config.hidden=!0,this.cell.hide())},s.prototype.isVisible=function(){return!this.config.hidden},s.prototype.setProperties=function(l){if(l&&!(0,d.isEmptyObj)(l)&&this.events.fire(_.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var r in l)this.props.includes(r)&&(this.config[r]=l[r]);this.events.fire(_.ItemEvent.afterChangeProperties,[this.getProperties()])}},s.prototype.getProperties=function(){for(var l={},r=0,a=this.props;r<a.length;r++){var i=a[r];l[i]=this.config[i]}return l},s.prototype.destructor=function(){this.cell.hide(),this.events.clear(),this.attachments=[]},s.prototype.setCell=function(l){this.cell=l},s.prototype.getCell=function(){return this.cell},s.prototype.setAttachments=function(l){this.attachments=l},s.prototype.getAttachments=function(){return this.attachments},s.prototype.getTreeAttachments=function(l){for(var r=[],a=0;a<l.length;a++){var i=l[a];r.push(i),i.config.type==="fieldset"&&r.push.apply(r,i.getTreeAttachments(i.getAttachments()))}return r},s}();g.Fieldset=u},function(H,g,y){var b,w=this&&this.__extends||(b=function(i,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},b(i,n)},function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=i}b(i,n),i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},m.apply(this,arguments)},_=this&&this.__spreadArray||function(i,n,e){if(e||arguments.length===2)for(var t,o=0,c=n.length;o<c;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return i.concat(t||Array.prototype.slice.call(n))};Object.defineProperty(g,"__esModule",{value:!0}),g.ToggleGroup=void 0;var h=y(4),d=y(110),p=y(5),u=y(0),s=y(6),l=y(3),r=y(1),a=function(i){function n(e,t){var o=i.call(this,e,m({full:!1,multiselect:!1,disabled:!1,hidden:!1,width:"content",height:"content",gap:0,css:"",padding:"",items:[]},t))||this;return o.events=new l.EventSystem,o.items=[],o.props=_(_([],s.baseProps,!0),["options","full","gap","multiselect"],!1),o.initView(),o.initHandlers(),o.mount(e,(0,u.create)({render:function(){return o.draw()}})),o}return w(n,i),n.prototype.setValue=function(e){var t;e===void 0&&(e={});var o=this.getValue(),c=Object.entries(e).every(function(V){var z=V[0];return!!V[1]==!!o[z]});if(!c){if(!this.config.multiselection)for(var f=Object.entries(e).find(function(V){return V[0],V[1]}),v=this.getValue(),x=0,k=Object.entries(v);x<k.length;x++){var S=k[x],O=S[0],P=S[1],T=P;typeof P=="string"&&(T=""),typeof P=="number"&&(T=0),typeof P=="boolean"&&(T=!1),e[O]=f&&f[0]===O?f[1]:T}if(!this.events.fire(h.ItemEvent.beforeChange,[m(m({},this.getValue()),e)]))return!1;for(var j=function(V,z){(t=$.items.find(function(X){return X.config.id===V}))===null||t===void 0||t.setValue(!!z,!0)},$=this,I=0,F=Object.entries(e);I<F.length;I++){var E=F[I];j(E[0],E[1])}this.events.fire(h.ItemEvent.change,[this.getValue()])}},n.prototype.getValue=function(e){if(e){var t=this.items.find(function(c){return c.config.id===e});if(t)return t.getValue()}var o={};return this.items.forEach(function(c){o[c.config.id]=c.getValue()}),o},n.prototype.isSelected=function(e){if(e){var t=this.items.find(function(c){return c.config.id===e});if(t)return t.isSelected()}var o={};return this.items.forEach(function(c){o[c.config.id]=c.isSelected()}),o},n.prototype.show=function(e){var t=e&&this.items.find(function(o){return o.config.id===e});t&&!t.config.hidden||!this.events.fire(h.ItemEvent.beforeShow,[this.getValue(),e])||(t?t.show():this.items.forEach(function(o){return o.show()}),this.config.hidden=!1,this.checkVisibleOrder(!!t),this.events.fire(h.ItemEvent.afterShow,[this.getValue(),e]))},n.prototype.hide=function(e,t){var o=e&&this.items.find(function(c){return c.config.id===e});this.config.hidden&&!t||o&&o.config.hidden||!this.events.fire(h.ItemEvent.beforeHide,[this.getValue(),e,t])||(o?(o.hide(),this.config.hidden=this.items.every(function(c){return c.config.hidden})):(this.items.forEach(function(c){return c.hide()}),this.config.hidden=!0),this.checkVisibleOrder(!!o),this.events.fire(h.ItemEvent.afterHide,[this.getValue(),e,t]))},n.prototype.isVisible=function(e){var t=this.items.find(function(o){return o.config.id===e});return t?t.isVisible():!this.config.hidden},n.prototype.focus=function(e){var t=this;(0,u.awaitRedraw)().then(function(){var o=t.items.find(function(c){return c.config.id===e})||t.items[0];o&&o.focus()})},n.prototype.blur=function(){var e=this;(0,u.awaitRedraw)().then(function(){e.items.forEach(function(t){return t.blur()})})},n.prototype.disable=function(e){var t=e&&this.items.find(function(o){return o.config.id===e});this.config.disabled||t&&t.config.disabled||(t?(t.disable(),this.config.disabled=this.items.every(function(o){return o.config.disabled})):(this.items.forEach(function(o){return o.disable()}),this.config.disabled=!0),this.paint())},n.prototype.enable=function(e){var t,o=e&&this.items.find(function(c){return c.config.id===e});!o&&!this.config.disabled||o&&!o.config.disabled||(o?o==null||o.enable():this.items.forEach(function(c){return c.enable()}),this.config.disabled=!1,!((t=this.parent)===null||t===void 0)&&t.isDisabled()&&this.parent.enable(),this.paint())},n.prototype.isDisabled=function(e){var t=this.items.find(function(o){return o.config.id===e});return t?t.isDisabled():!!this.config.disabled},n.prototype.setProperties=function(e,t){var o=this.items.find(function(f){return f.config.id===t});if(e&&!(0,r.isEmptyObj)(e)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[m(m({},o?o.getProperties():this.getProperties()),e)])){if(o)o.setProperties(e);else for(var c in e)this.props.includes(c)&&(this.config[c]=e[c]);this.events.fire(h.ItemEvent.afterChangeProperties,[o?o.getProperties():this.getProperties()])}},n.prototype.getProperties=function(e){if(e){var t=this.items.find(function(x){return x.config.id===e});if(t)return t.getProperties()}for(var o={},c=0,f=this.props;c<f.length;c++){var v=f[c];o[v]=this.config[v]}return o},n.prototype.destructor=function(){this.events.clear(),this.unmount()},n.prototype.initView=function(){var e,t=this;if(!(!((e=this.config.options)===null||e===void 0)&&e.length))throw new Error("Check the configuration is correct");this.items=this.config.options.map(function(o,c){return o.id||(o.id=o.name||(0,r.uid)()),t.config.gap&&(o.$gap=c&&t.config.gap),new d.ToggleButton(null,m(m({},o),{$group:!0}))}),this.config.value&&this.setValue(this.config.value),this.checkVisibleOrder()},n.prototype.initHandlers=function(){var e=this;this.items.forEach(function(t){t.events.on(h.ItemEvent.keydown,function(o){e.events.fire(h.ItemEvent.keydown,[o,t.config.id])}),t.events.on(h.ItemEvent.focus,function(){e.events.fire(h.ItemEvent.focus,[e.getValue(),t.config.id])}),t.events.on(h.ItemEvent.blur,function(){e.events.fire(h.ItemEvent.blur,[e.getValue(),t.config.id])}),t.events.on(h.ItemEvent.beforeChange,function(o){var c;return typeof t.config.value=="string"&&(o=o?t.config.value:""),typeof t.config.value=="number"&&(o=o?t.config.value:0),e.setValue(((c={})[t.config.id]=o,c))})})},n.prototype.draw=function(){var e=this.config,t=e.hidden,o=e.id,c=e.name,f=e.full,v=e.gap,x=this.items.map(function(k){return(0,u.inject)(k.getRootView())});return(0,u.el)("div.dhx_form-group.dhx_form-group--toggle-group.dhx_toggle-group",{"data-dhx-id":c||o,"aria-label":c||o,role:"group",class:(t?"dhx_form-group--hidden ":"")+(f?"dhx_toggle-group--full ":"")+(v?"dhx_toggle-group--segmented ":"")+(0,s.getFormItemCss)(this.config)},[].concat(x))},n.prototype.checkVisibleOrder=function(e){var t=this.items.map(function(f){return delete f.config.$extraCss,f}).filter(function(f){return!f.config.hidden});if(t.length){var o=this.items.findIndex(function(f){return f.config.id===t[0].config.id}),c=this.items.findIndex(function(f){return f.config.id===t[t.length-1].config.id});this.items[o].config.$extraCss="dhx_toggle--first ",this.items[c].config.$extraCss=this.items[c].config.$extraCss?this.items[c].config.$extraCss+"dhx_toggle--last ":"dhx_toggle--last "}e&&this.items.forEach(function(f){return f.paint()})},n}(p.View);g.ToggleGroup=a},function(H,g,y){var b,w=this&&this.__extends||(b=function(s,l){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(r[i]=a[i])},b(s,l)},function(s,l){if(typeof l!="function"&&l!==null)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function r(){this.constructor=s}b(s,l),s.prototype=l===null?Object.create(l):(r.prototype=l.prototype,new r)});Object.defineProperty(g,"__esModule",{value:!0}),g.ProForm=void 0;var m=y(104),_=y(4),h=y(16),d=y(246),p=y(6),u=function(s){function l(r,a){return s.call(this,r,a)||this}return w(l,s),l.prototype._initItemHandlers=function(r,a){var i=this;if(s.prototype._initItemHandlers.call(this,r,a),r.type==="container"){var n=this._attachments[a]=new d.Container(null,r);n.events.on(_.ItemEvent.beforeChangeProperties,function(e){return i.events.fire(_.FormEvents.beforeChangeProperties,[a,e])}),n.events.on(_.ItemEvent.afterChangeProperties,function(e){i._changeProps(a,e,n.config),i.events.fire(_.FormEvents.afterChangeProperties,[a,e]),i.layout.paint()}),n.events.on(_.ItemEvent.beforeHide,function(e){if(!e)return i.events.fire(_.FormEvents.beforeHide,[a])}),n.events.on(_.ItemEvent.beforeShow,function(){return i.events.fire(_.FormEvents.beforeShow,[a])}),n.events.on(_.ItemEvent.afterHide,function(e){i.layout.getCell(a).hide(),!e&&i.events.fire(_.FormEvents.afterHide,[a])}),n.events.on(_.ItemEvent.afterShow,function(){i.layout.getCell(a).show(),i.events.fire(_.FormEvents.afterShow,[a])})}},l.prototype._initUI=function(r){var a=this._attachments={},i={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,i),this.layout=new h.ProLayout(r,i),(0,p.setAttacments)(a,this.layout)},l}(m.Form);g.ProForm=u},function(H,g,y){var b,w=this&&this.__extends||(b=function(i,n){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},b(i,n)},function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=i}b(i,n),i.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}),m=this&&this.__assign||function(){return m=Object.assign||function(i){for(var n,e=1,t=arguments.length;e<t;e++)for(var o in n=arguments[e])Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o]);return i},m.apply(this,arguments)},_=this&&this.__spreadArray||function(i,n,e){if(e||arguments.length===2)for(var t,o=0,c=n.length;o<c;o++)!t&&o in n||(t||(t=Array.prototype.slice.call(n,0,o)),t[o]=n[o]);return i.concat(t||Array.prototype.slice.call(n))};Object.defineProperty(g,"__esModule",{value:!0}),g.Container=void 0;var h=y(0),d=y(9),p=y(4),u=y(3),s=y(1),l=y(16),r=y(6),a=function(i){function n(e,t){var o=i.call(this,e,m({disabled:!1,hidden:!1,width:"content",height:"content",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:""},t))||this;if(o.events=new u.EventSystem,o._props=_(_([],r.baseProps,!0),["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],!1),(0,s.isEmptyObj)(t))throw new Error("Check the configuration is correct");o.container&&o.container.destructor();var c={};for(var f in t)f!=="id"&&f!=="type"&&f!=="name"&&f!=="width"&&f!=="height"&&(o.config[f]=t[f],f!=="validation"&&(c[f]=t[f]));return o.container=new l.Layout(null,{rows:[c]}),c.html&&o.container.attachHTML(c.html),o.paint(),o.mount(e,(0,h.create)({render:function(){return o._draw()}})),o}return w(n,i),n.prototype.destructor=function(){this.container.destructor()},n.prototype.attach=function(e){this.container.attach(e)},n.prototype.attachHTML=function(e){this.container.attachHTML(e)},n.prototype.show=function(){this.config.hidden&&this.events.fire(p.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(p.ItemEvent.afterShow,[]))},n.prototype.hide=function(e){e===void 0&&(e=!1),this.config.hidden&&!e||!this.events.fire(p.ItemEvent.beforeHide,[e])||(this.config.hidden=!0,this.events.fire(p.ItemEvent.afterHide,[e]))},n.prototype.isVisible=function(){return!this.config.hidden},n.prototype.disable=function(){this.config.disabled=!0,this.paint()},n.prototype.enable=function(){var e;this.config.disabled=!1,!((e=this.parent)===null||e===void 0)&&e.isDisabled()&&this.parent.enable(),this.paint()},n.prototype.isDisabled=function(){return!!this.config.disabled},n.prototype.setProperties=function(e){if(e&&!(0,s.isEmptyObj)(e)&&this.events.fire(p.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var t in e)this._props.includes(t)&&(this.config[t]=e[t]);this.events.fire(p.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},n.prototype.getProperties=function(){for(var e={},t=0,o=this._props;t<o.length;t++){var c=o[t];e[c]=this.config[c]}return e},n.prototype._getRootView=function(){return this.container.getRootView()},n.prototype._draw=function(){var e=this.config,t=e.name,o=e.id;return(0,h.el)(".dhx_form-group.dhx_form-group--container",{class:(0,r.getFormItemCss)(this.config),"data-dhx-id":t||o},[this._drawLabel(),(0,h.inject)(this._getRootView())])},n}(d.Label);g.Container=a},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0});var b=y(248),w=y(249),m=y(250),_=y(251),h=y(252),d=y(253),p=y(254),u=y(255),s=y(13),l=y(10),r=y(256),a=y(257),i=y(258),n=y(259),e=y(260),t=y(261),o=y(111),c=y(262),f=y(263),v=y(264),x=y(265),k=y(266),S=y(267),O=y(268),P=y(269),T=y(270),j=y(271),$=y(272),I=y(273),F=y(274);g.default=function(E){return{avatar:b.default,button:w.default,colorpicker:m.default,combo:_.default,checkbox:h.default,checkboxGroup:d.default,container:p.default,datepicker:u.default,fieldset:s.default,input:l.default,radioGroup:r.default,select:a.default,slider:i.default,spacer:n.default,textarea:e.default,timepicker:t.default,toggle:o.default,toggleGroup:c.default,arrange:(0,f.default)(E),border:(0,v.default)(E),position:(0,x.default)(E),size:(0,k.default)(E),gridStep:(0,S.default)(E),textStyle:(0,O.default)(E),textAlign:(0,P.default)(E),pointerView:(0,T.default)(E),lineShape:(0,j.default)(E),header:(0,$.default)(E),headerPosition:(0,I.default)(E),headerCommon:F.default}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(1),m=y(12),_=y(10);g.default=b(b({},_.default),{type:"avatar",key:"img",icon:"dxi dxi-image-outline",$handler:function(h){var d,p=h.id,u=h.value,s=h.editor,l=h.key;u.src?fetch(u.src).then(function(r){r.blob().then(function(a){(0,w.blobToBase64)(a).then(function(i){var n;s.diagram.data.update(p,((n={})[l]=i,n))})})}):s.diagram.data.update(p,((d={})[l]="",d))},$setValue:function(h){var d=h.control,p=h.value;d.setValue({src:p})},$layout:function(h){return(0,m.default)(h,{type:"avatar"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(w){for(var m,_=1,h=arguments.length;_<h;_++)for(var d in m=arguments[_])Object.prototype.hasOwnProperty.call(m,d)&&(w[d]=m[d]);return w},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.default={type:"button",$layout:function(w){return b(b({},w),{type:"button"})}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"colorpicker",key:"fill",$layout:function(_){return(0,w.default)(_,{type:"colorpicker"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"combo",options:[],$layout:function(_){var h=_.options.map(function(d){return typeof d=="string"?{id:d,value:d}:d});return(0,w.default)(_,{type:"combo",data:h})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(111);g.default=b(b({},w.default),{type:"checkbox",$setValue:function(m){var _=m.control,h=m.value;_.setValue(!!h)},$layout:function(m){return b(b({},m),{type:"checkbox"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"checkboxGroup",$layout:function(_){return(0,w.default)(_,{type:"checkboxGroup"})}})},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0});var b=y(12);g.default={type:"container",$layout:function(w){return(0,b.default)(w,{type:"container"})}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"datepicker",key:"date",$layout:function(_){return(0,w.default)(_,{type:"datepicker"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"radioGroup",$layout:function(_){return(0,w.default)(_,{type:"radioGroup"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"select",options:[],$layout:function(_){var h=_.options.map(function(d){return typeof d=="string"?{value:d,content:d}:d});return(0,w.default)(_,{type:"select",options:h})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"slider",$layout:function(_){return(0,w.default)(_,{type:"slider"})}})},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default={type:"spacer",$layout:function(){return{type:"spacer"}}}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"textarea",height:160,$layout:function(_){var h=_.height||"content";return _.wrap&&h!=="content"&&(h=parseInt(h)-47),(0,w.default)(b(b({},_),{height:"content"}),{type:"textarea",height:h})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(12),m=y(10);g.default=b(b({},m.default),{type:"timepicker",key:"time",$layout:function(_){return(0,w.default)(_,{type:"timepicker"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(43),m=y(10);g.default=b(b({},m.default),{type:"toggleGroup",$setValue:function(_){var h,d=_.control,p=_.value;if(((h=Object.values(d.getValue()))===null||h===void 0?void 0:h.find(function(s){return s}))!==p){var u={};d.getProperties().options.forEach(function(s){return u[s.id]=s.value==p&&p}),d.setValue(u)}},$handler:function(_){var h,d=_.id,p=_.value,u=_.editor,s=_.key;u.diagram.data.update(d,(0,w.getModifiedObject)(s,(h=Object.values(p).filter(function(l){return l}))===null||h===void 0?void 0:h[0],Array.isArray(s)&&u.diagram.data.getItem(d)||{}))},$layout:function(_){return b(b({},_),{type:"toggleGroup"})}})},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=function(_){return b(b({},w.default),{label:_.editbar.arrange,css:"dhx_arrange",rows:[{cols:[{type:"input",key:"x",inputType:"number",value:0,width:m.INPUT_WIDTH_50,padding:m.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-x-box"},{type:"input",key:"y",inputType:"number",value:0,width:m.INPUT_WIDTH_50,icon:"dxi dxi-alpha-y-box"}]},{cols:[{type:"input",key:"width",inputType:"number",value:0,min:0,width:m.INPUT_WIDTH_50,padding:m.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-w-box"},{type:"input",key:"height",inputType:"number",value:0,min:0,width:m.INPUT_WIDTH_50,icon:"dxi dxi-alpha-h-box"}]},{type:"input",key:"angle",inputType:"number",value:0,min:0,max:360,icon:"dxi dxi-rotate-right"}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=function(_){return b(b({},w.default),{label:_.editbar.border,align:"between",cols:[{type:"colorpicker",key:"stroke",css:"dhx_colorpicker--picker-only",padding:m.INPUT_PADDING_RIGHT_8,width:"content"},{type:"combo",key:"strokeType",padding:m.INPUT_PADDING_RIGHT_8,readOnly:!0,itemHeight:37,options:["line","dash"],template:function(h){var d=h.id;return`
					<div style="display:flex; align-items:center; height:100%; width:100%;">
						<div style="border:1px `.concat({line:"solid",dash:"dashed"}[d],` var(--dhx-font-color-secondary); height:0; width:100%;"></div>
					</div>
				`)}},{type:"input",key:"strokeWidth",inputType:"number",value:0,min:0,width:50}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=function(_){return b(b({},w.default),{label:_.editbar.positionOffset,cols:[{type:"input",key:"dx",inputType:"number",value:0,width:m.INPUT_WIDTH_50,padding:m.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-x-box"},{type:"input",key:"dy",inputType:"number",value:0,width:m.INPUT_WIDTH_50,icon:"dxi dxi-alpha-y-box"}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=function(_){return b(b({},w.default),{label:_.editbar.size,cols:[{type:"input",key:"width",inputType:"number",min:0,value:0,width:m.INPUT_WIDTH_50,padding:m.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-w-box"},{type:"input",key:"height",inputType:"number",min:0,value:0,width:m.INPUT_WIDTH_50,icon:"dxi dxi-alpha-h-box"}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(10);g.default=function(m){return b(b({},w.default),{label:m.editbar.gridStep,inputType:"number",icon:"dxi dxi-grid-step",min:1,wrap:!0,key:void 0,$handler:function(_){var h=_.editor,d=_.value,p=_.control;d=+d,p.validate(!0,d)&&(h.diagram.config.gridStep=h.config.gridStep=d),p.setValue(d)},$setValue:function(_){var h=_.control,d=_.editor;h.setValue(parseInt(d.diagram.config.gridStep))}})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);function _(h,d,p){for(var u=[];h<=d;)u.push({id:h,value:"".concat(h," px")}),h+=p;return u}g.default=function(h){return b(b({},w.default),{label:h.editbar.textStyle,rows:[{cols:[{type:"combo",key:"fontSize",width:m.INPUT_WIDTH_50,padding:m.INPUT_PADDING_RIGHT_8,readOnly:!0,options:_(10,30,2)},{type:"input",key:"lineHeight",inputType:"number",value:0,min:0,icon:"dxi dxi-format-line-spacing",width:m.INPUT_WIDTH_50}]},{cols:[{type:"colorpicker",key:"fontColor",css:"dhx_colorpicker--picker-only",width:"content",padding:m.INPUT_PADDING_RIGHT_4},{type:"toggle",key:"fontWeight",value:"bold",icon:"dxi dxi-format-bold",width:"content",padding:m.INPUT_PADDING_RIGHT_4},{type:"toggle",key:"fontStyle",value:"italic",icon:"dxi dxi-format-italic",width:"content"}]}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=function(_){return b(b({},w.default),{label:_.editbar.textAlignment,align:"between",cols:[{type:"toggleGroup",key:"textAlign",gap:4,$on:{beforeChange:function(h,d){return!Object.values(d).every(function(p){return!p})}},options:[{icon:"dxi dxi-format-align-left",value:"left"},{icon:"dxi dxi-format-align-center",value:"center"},{icon:"dxi dxi-format-align-right",value:"right"}],padding:m.INPUT_PADDING_RIGHT_8},{type:"toggleGroup",key:"textVerticalAlign",gap:4,$on:{beforeChange:function(h,d){return!Object.values(d).every(function(p){return!p})}},options:[{icon:"dxi dxi-format-vertical-align-bottom",value:"bottom"},{icon:"dxi dxi-format-vertical-align-center",value:"center"},{icon:"dxi dxi-format-vertical-align-top",value:"top"}]}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(h){for(var d,p=1,u=arguments.length;p<u;p++)for(var s in d=arguments[p])Object.prototype.hasOwnProperty.call(d,s)&&(h[s]=d[s]);return h},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20),_=`
	<div style="display:flex; align-items:center; height:100%; width:100%;">
		<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>
	</div>
`;g.default=function(h){return b(b({},w.default),{label:h.editbar.pointerView,align:"between",cols:[{type:"combo",key:"backArrow",padding:m.INPUT_PADDING_RIGHT_8,readOnly:!0,itemHeight:37,width:"50%",options:["none","filled"],template:function(d){return d.id==="filled"?`
						<div style="display:flex; align-items:center; height:100%; width:100%;">
							<div
								style="
									width: 0;
									height: 0;
									border: 0 solid transparent;
									border-top-width: 6px;
									border-bottom-width: 6px;
									border-right: 6px solid var(--dhx-font-color-secondary);">
							</div>
							<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>
						</div>
					`:_}},{type:"combo",key:"forwardArrow",readOnly:!0,itemHeight:37,width:"50%",options:["none","filled"],template:function(d){return d.id==="filled"?`
						<div style="display:flex; align-items:center; height:100%; width:100%;">
							<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>
							<div
								style="
									width: 0;
									height: 0;
									border: 0 solid transparent;
									border-bottom-width: 6px;
									border-top-width: 6px;
									border-left: 6px solid var(--dhx-font-color-secondary);">
							</div>
						</div>
					`:_}}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=function(_){return b(b({},w.default),{label:_.editbar.lineShape,align:"between",rows:[{type:"toggleGroup",key:"connectType",gap:4,$on:{beforeChange:function(h,d){return!Object.values(d).every(function(p){return!p})}},options:[{icon:"dxi dxi-line-straight",value:"straight"},{icon:"dxi dxi-line-elbow",value:"elbow"}],padding:m.INPUT_PADDING_RIGHT_8}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13);g.default=function(m){return b(b({},w.default),{label:m.editbar.header,rows:[{type:"headerCommon",compact:!0,$properties:{enable:{key:["header","enable"]},fill:{key:["header","fill"]},height:{key:["header","height"]}}},{type:"headerPosition",compact:!0,$properties:{position:{key:["header","position"]}}},{type:"textStyle",compact:!0,$properties:{fontSize:{key:["header","fontSize"]},lineHeight:{key:["header","lineHeight"]},fontColor:{key:["header","fontColor"]},fontWeight:{key:["header","fontWeight"]},fontStyle:{key:["header","fontStyle"]}}},{type:"textAlign",compact:!0,$properties:{textAlign:{key:["header","textAlign"]},textVerticalAlign:{key:["header","textVerticalAlign"]}}}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(m){for(var _,h=1,d=arguments.length;h<d;h++)for(var p in _=arguments[h])Object.prototype.hasOwnProperty.call(_,p)&&(m[p]=_[p]);return m},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13);g.default=function(m){return b(b({},w.default),{label:m.editbar.headerPosition,rows:[{type:"toggleGroup",key:"position",$on:{beforeChange:function(_,h){return!Object.values(h).every(function(d){return!d})}},gap:4,options:[{icon:"dxi dxi-format-vertical-align-top",value:"top"},{icon:"dxi dxi-format-vertical-align-bottom",value:"bottom"},{icon:"dxi dxi-format-horizontal-align-left",value:"left"},{icon:"dxi dxi-format-horizontal-align-right",value:"right"}]}]})}},function(H,g,y){var b=this&&this.__assign||function(){return b=Object.assign||function(_){for(var h,d=1,p=arguments.length;d<p;d++)for(var u in h=arguments[d])Object.prototype.hasOwnProperty.call(h,u)&&(_[u]=h[u]);return _},b.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0});var w=y(13),m=y(20);g.default=b(b({},w.default),{align:"between",cols:[{type:"toggle",key:"enable",padding:m.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-eye",offIcon:"dxi dxi-eye-off",text:"Visible",offText:"Invisible",full:!0,width:100},{type:"colorpicker",key:"fill",css:"dhx_colorpicker--picker-only",padding:m.INPUT_PADDING_RIGHT_8,width:"content"},{type:"input",key:"height",inputType:"number",icon:"dxi dxi-alpha-h-box",value:0,min:0,width:80}]})},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.default=function(b){return{default:{$default:[{type:"gridStep"}],$shape:function(w){var m=w.item;return(m==null?void 0:m.type)==="text"?[{type:"arrange"},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"}]:(m==null?void 0:m.type)==="img-card"?[{type:"arrange"},{type:"colorpicker",key:"headerColor",label:b.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:b.editbar.title,wrap:!0},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"avatar",label:b.editbar.image,wrap:!0}]:[{type:"arrange"},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"},{type:"colorpicker",key:"fill",label:b.editbar.fill,wrap:!0},{type:"border"}]},$group:[{type:"arrange",$properties:{angle:{hidden:!0}}},{type:"header"},{type:"colorpicker",key:["style","fill"],label:b.editbar.fill,wrap:!0},{type:"border",$properties:{stroke:{key:["style","stroke"]},strokeType:{key:["style","strokeType"],options:["line"]},strokeWidth:{key:["style","strokeWidth"]}}}],$swimlane:[{type:"arrange",$properties:{angle:{hidden:!0}}},{type:"header"},{type:"headerCommon",label:b.editbar.subheaderCols,$properties:{enable:{key:["subHeaderCols","enable"]},fill:{key:["subHeaderCols","fill"]},height:{key:["subHeaderCols","height"]}}},{type:"headerCommon",label:b.editbar.subheaderRows,$properties:{enable:{key:["subHeaderRows","enable"]},fill:{key:["subHeaderRows","fill"]},height:{key:["subHeaderRows","height"]}}},{type:"colorpicker",key:["style","fill"],label:b.editbar.fill,wrap:!0},{type:"border",$properties:{stroke:{key:["style","stroke"]},strokeType:{key:["style","strokeType"],options:["line"]},strokeWidth:{key:["style","strokeWidth"]}}}],$line:[{type:"border",label:b.editbar.lineStyle},{type:"lineShape"},{type:"pointerView"}],$lineTitle:[{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign",$properties:{textVerticalAlign:{hidden:!0}}},{type:"colorpicker",key:"fill",label:b.editbar.fill,wrap:!0}]},org:{$default:[{type:"gridStep"}],$shape:function(w){var m=w.item;return(m==null?void 0:m.type)==="img-card"?[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:b.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:b.editbar.title,wrap:!0},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"avatar",label:b.editbar.image,wrap:!0}]:[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:b.editbar.headerColor,wrap:!0},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0}]}},mindmap:{$default:[{type:"gridStep"}],$shape:function(w){var m=w.item;return(m==null?void 0:m.type)==="img-card"?[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:b.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:b.editbar.title,wrap:!0},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"avatar",label:b.editbar.image,wrap:!0}]:[{type:"position"},{type:"size"},{type:"textarea",key:"text",label:b.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"},{type:"colorpicker",key:"fill",label:b.editbar.fill,wrap:!0},{type:"border"}]}}}}},function(H,g,y){var b,w=this&&this.__extends||(b=function(n,e){return b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(t[c]=o[c])},b(n,e)},function(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}b(n,e),n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}),m=this&&this.__assign||function(){return m=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var c in e=arguments[t])Object.prototype.hasOwnProperty.call(e,c)&&(n[c]=e[c]);return n},m.apply(this,arguments)},_=this&&this.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o,c=0,f=e.length;c<f;c++)!o&&c in e||(o||(o=Array.prototype.slice.call(e,0,c)),o[c]=e[c]);return n.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(g,"__esModule",{value:!0}),g.DefaultEditor=void 0;var h=y(1),d=y(29),p=y(40),u=y(100),s=y(59),l=y(98),r=y(37),a=y(112),i=function(n){function e(t,o){return n.call(this,t,(0,h.extend)({type:"default",shapeType:"rectangle",view:{toolbar:!0,shapebar:!0,editbar:!0},lineConfig:{lineGap:10},magnetic:!0,connectionPoints:!0,autoplacement:{mode:"direct"}},o))||this}return w(e,n),e.prototype.alignItems=function(t,o,c){var f=this;if(t.length){var v,x,k,S,O=t.filter(function(T){return T.$item.getBaseType()!=="line"});O.forEach(function(T){v=isNaN(v)||T.x<v?T.x:v,x=isNaN(x)||T.x+T.width>x?T.x+T.width:x,k=isNaN(k)||T.y<k?T.y:k,S=isNaN(S)||T.y+T.height>S?T.y+T.height:S});var P={"-1":c==="x"?v:k,0:c==="x"?v/2+x/2:k/2+S/2,1:c==="x"?x:S};O.forEach(function(T){var j=o>=0?P[o]-T[c==="x"?"width":"height"]/(o||2):P[o];f.diagram.data.update(T.id,{x:c==="x"?j:T.x,y:c==="x"?T.y:j})})}},e.prototype.distributeItems=function(t,o){if(t.length){var c=t.filter(function(T){return T.$item.getBaseType()!=="line"});c.sort(function(T,j){return T[o]-j[o]});for(var f=c[c.length-1],v=f[o]+f[o==="x"?"width":"height"]-c[0][o],x=0;x<c.length;x++)v-=c[x][o==="x"?"width":"height"];var k=v/(c.length-1);for(x=0;x<c.length;x++)if(x!==0&&x!==c.length-1){var S=c[x],O=c[x-1],P=O[o]+O[o==="x"?"width":"height"]+k;this.diagram.data.update(S.id,{x:o==="x"?P:S.x,y:o==="x"?S.y:P})}}},e.prototype._initDiagram=function(){var t;this.diagram=new d.Diagram(null,{type:"default",select:!0,toolbar:this._getToolbarConfig(this.config),gridStep:this.config.gridStep,margin:{y:70,x:40},defaults:this._getDefaults(),lineConfig:m({lineDirection:((t=this.config.lineConfig)===null||t===void 0?void 0:t.lineDirection)||"forwardArrow"},this.config.lineConfig),scale:this.config.scale,autoplacement:this.config.autoplacement,defaultShapeType:this.config.shapeType,$isEditor:!0})},e.prototype._initUI=function(t){var o=this;this.view=new u.View(t,this);var c=this.view.getViews(),f=c.toolbar,v=c.shapebar,x=c.editbar;this.toolbar=f,this.editbar=x,this.shapebar=v,this._resizer=new s.Controls(this.events,this.diagram,{magnetic:this.config.magnetic,connectionPoints:this.config.connectionPoints,resizePoints:this.config.resizePoints}),this.diagram.config.$svg=function(k){var S,O=(S=o.diagram.selection.getItem())===null||S===void 0?void 0:S.id,P=o.diagram.data.getItem(O);return o._selectionBox&&o._selectionBox.isValid()?o._selectionBox.render():o.diagram.selection.getIds().length<=1?o._resizer.render(P,k):null},this.diagram.config.$grid=function(){return!!o.config.grid}},e.prototype._showConnectPoints=function(t,o){if(this.config.connectionPoints){var c=this.diagram.data.getItem(t);c.$item.getBaseType()==="shape"&&(o?(c.$connectMode=!c.$connectMode,this._resizer.toggleNearShape(c)):this._resizer.setNearShape(c))}},e.prototype._setHandlers=function(){var t=this;n.prototype._setHandlers.call(this),this.diagram.events.on(d.DataEvents.load,function(){t.history.reset()}),this.diagram.events.on(d.DiagramEvents.shapeIconClick,function(o){var c=t.diagram.selection.getItem(),f=t.diagram.selection.getIds().map(function(v){return t.diagram.data.getItem(v)});if(t.events.fire(r.DiagramEditorEvents.beforeShapeIconClick,[o,f])){switch(o){case"copy":t.model.copy(),t.model.paste();break;case"remove":t._removeSelected();break;case"connect":t._showConnectPoints(t.diagram.selection.getItem().id,!0);break;case"removePoint":c.points.splice(c.$selectedPoint,1),c.$selectedPoint=null,t.diagram.paint();break;case"addColumnFirst":t._addSwimlaneCells(c,"left");break;case"addColumnLast":t._addSwimlaneCells(c,"right");break;case"addRowFirst":t._addSwimlaneCells(c,"up");break;case"addRowLast":t._addSwimlaneCells(c,"down");break;case"lineTitleAutoPositionEnable":t.diagram.data.update(c.id,{autoPosition:!1});break;case"lineTitleAutoPositionDisable":t.diagram.data.update(c.id,{autoPosition:!0});break;case"addLineTitle":(0,p.addLineTitle)(c,t.diagram);break;case"alignHorizontalCenter":t.alignItems(f,0,"x");break;case"alignHorizontalLeft":t.alignItems(f,-1,"x");break;case"alignHorizontalRight":t.alignItems(f,1,"x");break;case"alignVerticalMiddle":t.alignItems(f,0,"y");break;case"alignVerticalTop":t.alignItems(f,-1,"y");break;case"alignVerticalBottom":t.alignItems(f,1,"y");break;case"alignHorizontalDistribute":t.distributeItems(f,"x");break;case"alignVerticalDistribute":t.distributeItems(f,"y")}t.events.fire(r.DiagramEditorEvents.afterShapeIconClick,[o,c!=null?c:f])}}),this.diagram.events.on(d.DiagramEvents.itemMouseOver,function(o){var c=t.diagram.selection.getItem(),f=t.diagram.data.getItem(o);c&&c.$item.getBaseType()!=="line"||f.$item.getBaseType()!=="shape"||t._showConnectPoints(o)}),this.events.on(r.DiagramEditorEvents.shapesUp,function(o){var c=t.diagram.getRootView().node.el.getBoundingClientRect();if(!(o.$x<c.left||o.$x>c.right)){var f=t._resizer.getPoint(o.$x,o.$y);f.x=Math.round(f.x/t.config.gridStep)*t.config.gridStep,f.y=Math.round(f.y/t.config.gridStep)*t.config.gridStep;var v=t.view.getRootView().node.el;(0,a.setValueFromCssVariable)(o,v);var x=t.diagram.data.getItem(t._addItem(m(m({},o),{x:f.x,y:f.y})));t._addItemToGroup(x)}}),this.events.on(r.DiagramEditorEvents.beforeItemMove,function(o){var c=o.id,f=o.$mov;return t._moveChildren(c,f)}),[r.DiagramEditorEvents.afterGroupMove,r.DiagramEditorEvents.afterShapeMove].forEach(function(o){t.events.on(o,function(c){var f=c.id,v=c.batch,x=t.diagram.data.getItem(f);if(v.length&&x.$item.getBaseType()!=="swimlane"){var k=t.diagram.data.getItem(x==null?void 0:x.$group),S=new Set(v);t.diagram.data.mapVisible(function(O){if(!S.has(O.id)){var P=O.id,T=O.$item,j=O.groupChildren,$=O.exitArea;if(T.getBaseType()==="group"&&open){if(($.groupBehavior==="unbound"||(k==null?void 0:k.id)!=P)&&j.find(function(E){return E==x.id})){var I=j.findIndex(function(E){return E==x.id});j.splice(I,1),t.diagram.data.update(P,{groupChildren:j}),t.diagram.data.update(x.id,{$group:null},!0)}if((k==null?void 0:k.id)!=P&&(!k||(k==null?void 0:k.exitArea.groupBehavior)==="unbound"||(k==null?void 0:k.exitArea.groupBehavior)!=="unbound"&&(k==null?void 0:k.groupChildren.findIndex(function(E){return E==P}))!==-1)){var F=T.getLocatePercent(x.$item.getBox());t._setItemIndicator(O,F)}}}})}})}),this.events.on(r.DiagramEditorEvents.itemMoveEnd,function(){var o=t.diagram.selection.getItem();o&&t._addItemToGroup(o)})},e.prototype._initHotkeys=function(){var t=this;n.prototype._initHotkeys.call(this),this._keyManager.addHotKey("ctrl+c",function(){t.editbar.isFocused()||t.model.copy()}),this._keyManager.addHotKey("ctrl+v",function(){t.editbar.isFocused()||t.model.paste()}),this._keyManager.addHotKey("ctrl+d",function(o){o.preventDefault(),t.model.copy(),t.model.paste()})},e.prototype._removeItem=function(t){var o=this.diagram.data.getItem(t);o!=null&&o.$connectMode&&this._showConnectPoints(t,!0),n.prototype._removeItem.call(this,t)},e.prototype._getGroupTarget=function(t,o,c){var f=this;if(c===void 0&&(c=null),t.id==o.selected.id||t.id==o.exclude)return c;var v=t.id,x=t.open,k=t.groupChildren,S=t.$item,O=t.entryArea,P=S.getLocatePercent(o.selected.$item.getBox());return x&&P>=O.catchArea&&(c=t,k.length&&this.diagram.data.eachChild(v,function(T){T.$item.getBaseType()==="group"&&(c=f._getGroupTarget(T,o,c))},!1)),c},e.prototype._addItemToGroup=function(t){var o=this;if(t){var c=null;if(this.diagram.data.mapVisible(function(x){var k=x.id,S=x.groupChildren,O=x.$item.getBaseType();if(O==="group"&&O!=="swimlane"&&t.$item.getBaseType()!=="swimlane"){c||(c=o._getGroupTarget(x,{selected:t})),o.diagram.data.update(k,{$captureArea:"out"},!0);var P=S.find(function(j){return j==t.id});if(P){var T=S.findIndex(function(j){return j==t.id});S.splice(T,1),o.diagram.data.update(x.id,{groupChildren:S}),o.diagram.data.update(t.id,{$group:null},!0)}}}),c){var f=c.id,v=c.groupChildren;f==t.$group||this.diagram.data.update(f,{groupChildren:_(_([],v,!0),[t.id],!1)})}this._setParentBox(t.id)}},e.prototype._addItem=function(t){var o;return delete t.$key,delete t.$x,delete t.$y,t.type==="$swimlane"?o=this._addSwimlaneItem(t):o=this.diagram.data.add(m(m({},t),{id:(0,h.uid)()})),this.diagram.selection.add({id:o}),o},e.prototype._addSwimlaneItem=function(t){for(var o=JSON.parse(JSON.stringify(t)),c=o.layout,f={},v=0;v<c.length;v++)for(var x=c[v],k=0;k<x.length;k++){var S=x[k];if(f[S])o.layout[v][k]=f[S];else{var O=(0,h.uid)();o.layout[v][k]=f[S]=O}}return this.diagram.data.add(m(m({},o),{layout:c,width:2*o.width,height:2*o.height,id:(0,h.uid)()}))},e.prototype._moveChildren=function(t,o){var c=this.diagram.data.getItem(t),f=this.diagram.selection.getItem(),v=c.$item.isFixed();if(!v&&c.$group){var x=this.diagram.data.getItem(c.$group);return x.$group&&this._moveChildren(x.id,o),x.$item.trackChildMove(f.$item.getBox(),{x:o.x,y:o.y})}return!v},e.prototype._setParentBox=function(t){if(t){var o=this.diagram.data.getItem(t);o.$item.getBaseType()==="group"&&o.$item.setMinBox(),o.$group&&this._setParentBox(o.$group)}},e.prototype._setItemIndicator=function(t,o){var c=t.entryArea,f=t.$captureArea,v=t.id;o>=c.catchArea?f!=="over"&&this.diagram.data.update(v,{$captureArea:"over"},!0):o!==0?f!=="partially"&&this.diagram.data.update(v,{$captureArea:"partially"},!0):f!=="out"&&this.diagram.data.update(v,{$captureArea:"out"},!0)},e.prototype._addSwimlaneCells=function(t,o){var c=t.layout[o==="down"?t.layout.length-1:0][o==="right"?t.layout[0].length-1:0],f=o==="left"||o==="right"?"col":"row";this.diagram.cellManager.setSwimlane(t.id),this.diagram.cellManager.add(this.diagram.cellManager.getCellIndex(c,f),o,!0)},e}(l.BaseDiagramEditor);g.DefaultEditor=i},function(H,g,y){Object.defineProperty(g,"__esModule",{value:!0}),g.setLocale=void 0,g.setLocale=function(b,w){var m=this[b];if(m)for(var _ in w)m[_]=w[_]}},function(H,g,y){y.r(g);var b=y(113);location.hostname.includes("dhtmlx.com")||location.hostname.includes("dhtmlxcode.com")||location.hostname.includes("webixcode.com")||location.hostname.includes("webix.io/dev/dhtmlx")||location.hostname.includes("replit.com/@dhtmlx")||location.origin.endsWith("csb.app")||(window.onload=function(){var w;function m(){(w=document.createElement("div")).addEventListener("click",function(){document.body.removeChild(w),window.open("https://dhtmlx.com/docs/products/dhtmlxDiagram/download.shtml","_blank")});var _=new b.CssManager,h=_.add({display:"block !important",background:"#ff5252 !important",color:"white !important",padding:"12px",position:"absolute !important",maxWidth:"260px",top:"2% !important",right:"2% !important",fontSize:"14px !important",boxShadow:"0 1px 6px rgba(0,0,0,.1), 0 10px 20px rgba(0,0,0,.1)",cursor:"pointer",borderRadius:"2px",fontFamily:"Roboto",zIndex:2500});_.add({content:'"This version of DHTMLX Diagram is intended for demonstration only. Download an official evaluation version to try DHTMLX Diagram in your project." !important',fontSize:"14px !important",background:"#ff5252 !important",color:"white !important"},`${h}:after`),w.classList.add(h),document.body.appendChild(w)}setInterval(function(){var _=window.getComputedStyle(w,":after");_&&_.getPropertyValue("content")&&_.getPropertyValue("content")!=="none"||m()},6e4),m()})}])}),window.dhx_legacy){if(window.dhx)for(var L in dhx)if(L==="i18n")for(var G in dhx[L])window.dhx_legacy[L][G]=dhx[L][G];else dhx_legacy[L]=dhx[L];window.dhx=dhx_legacy,delete window.dhx_legacy}})(Pr);const Mr=(C,D)=>{const L=C.__vccOpts||C;for(const[G,H]of D)L[G]=H;return L},kl={props:["data"],data(){return{diagram:null}},mounted(){var C;this.diagram=new Pr.exports.DiagramEditor(this.$refs.cont,{type:"default"}),(C=this.diagram)==null||C.parse(this.data)},unmounted(){this.diagram.destructor(),this.$refs.cont.innerHTML=""}},Sl={ref:"cont",style:{width:"100%",height:"100%"}};function Il(C,D,L,G,H,g){return Er(),$s("div",Sl,null,512)}const Ol=Mr(kl,[["render",Il]]);function Pl(){return[{id:1,x:880,y:105,text:"Does user remember his password?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:2,x:1080,y:125,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:3,x:1160,y:40,text:"User forgets his password",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:3.1,x:1340,y:40,text:"Send an E-mail with new password",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:3.2,x:1520,y:40,text:"E-mail sent",type:"preparation",fontColor:"#fff",lineHeight:18,fill:"#33B579",stroke:"#33B579"},{id:4,x:1160,y:180,text:"User remembers his password",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:5,x:1340,y:180,text:"User types in login and password",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:6,x:1520,y:180,text:"Data typed in",type:"preparation",fontColor:"#fff",lineHeight:18,fill:"#33B579",stroke:"#33B579"},{id:7,x:1700,y:180,text:`Proof completion 
 and correctness`,type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:7.1,x:1745,y:600,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:7.2,x:1880,y:320,text:"User logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:7.3,x:1880,y:450,text:"Complete logging in",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:7.4,x:1880,y:580,text:"Data is correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:7.5,x:1530,y:580,text:"Data is not correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:8,x:1700,y:40,text:"System",type:"subroutine",fontColor:"#fff",lineHeight:18,fill:"#7E6BAD",stroke:"#7E6BAD"},{id:9,x:1880,y:180,text:"Database",type:"database",fontColor:"#fff",lineHeight:18,fill:"#7E6BAD",stroke:"#7E6BAD"},{id:10,x:0,y:220,text:"Visitor enters the website",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:11,x:180,y:220,text:"Logged in user?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:12,x:365,y:240,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:13,x:320,y:120,text:"User is logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:14,x:320,y:320,text:"User is not logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:15,x:490,y:320,text:"Registered user?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:16,x:660,y:340,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:17,x:730,y:240,text:"User is registered",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:18,x:730,y:400,text:"User is not registered",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:19,x:905,y:420,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:20,x:860,y:510,text:"User types in needed data",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:21,x:860,y:640,text:"Data typed in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:22,x:860,y:770,text:`Proof completion 
 and correctness`,type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:23,x:700,y:770,text:"System",type:"subroutine",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:24,x:860,y:890,text:"Database",type:"database",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:25,x:1065,y:790,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:26,x:1020,y:640,text:"Data is not correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:27,x:1020,y:890,text:"Data is correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:28,x:1245,y:910,width:50,height:50,text:"AND",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:29,x:1200,y:770,text:"Write account data into database",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:29.1,x:1380,y:770,text:"Data writing done",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:29.2,x:1200,y:640,text:"Database",type:"database",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:30,x:1330,y:890,text:`Send activation 
 e-mail`,type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:31,x:1510,y:890,text:"Activation e-mail sent",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:32,x:1690,y:890,text:"User activates his account",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:33,x:1870,y:889,text:"Account activated",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{from:1,to:2,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:3,type:"dash",toSide:"bottom",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:7.5,type:"dash",fromSide:"bottom",toSide:"top",backArrow:"filled",stroke:"#7D8495"},{from:2,to:3.2,type:"dash",fromSide:"top",toSide:"top",stroke:"#7D8495"},{from:3,to:3.1,type:"line",forwardArrow:"filled",stroke:"#7D8495"},{from:3.1,to:3.2,type:"line",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:4,type:"dash",toSide:"top",forwardArrow:"filled",stroke:"#7D8495"},{from:4,to:5,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:5,to:6,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:6,to:7,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:7,to:7.1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:7.1,to:7.4,type:"dash",toSide:"left",stroke:"#7D8495"},{from:7.1,to:7.5,type:"dash",toSide:"right",stroke:"#7D8495"},{from:7.2,to:7.3,type:"dash",backArrow:"filled",stroke:"#7D8495"},{from:7.3,to:7.4,type:"dash",backArrow:"filled",stroke:"#7D8495"},{from:7,to:8,type:"dash",toSide:"bottom",forwardArrow:"filled",stroke:"#7D8495"},{from:7,to:9,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:10,to:11,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:11,to:12,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:12,to:13,type:"dash",forwardArrow:"filled",toSide:"bottom",stroke:"#7D8495"},{from:12,to:14,type:"dash",forwardArrow:"filled",toSide:"top",stroke:"#7D8495"},{from:14,to:15,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:15,to:16,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:16,to:17,type:"dash",forwardArrow:"filled",toSide:"bottom",stroke:"#7D8495"},{from:16,to:33,type:"dash",backArrow:"filled",fromSide:"bottom",toSide:"bottom",stroke:"#7D8495"},{from:17,to:1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:17,to:18,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:18,to:19,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:19,to:20,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:19,to:26,type:"dash",backArrow:"filled",fromSide:"right",stroke:"#7D8495"},{from:20,to:22,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:23,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:24,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:25,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:25,to:26,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:25,to:27,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:27,to:28,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:28,to:29,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:29,to:29.1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:29,to:29.2,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:28,to:30,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:30,to:31,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:31,to:32,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:32,to:33,type:"dash",forwardArrow:"filled",stroke:"#7D8495"}]}const Ml={components:{Diagram:Ol},data(){return{data:Pl()}}};function Dl(C,D,L,G,H,g){const y=Ya("Diagram");return Er(),Vs(y,{data:H.data},null,8,["data"])}const Tl=Mr(Ml,[["render",Dl]]);wl(Tl).mount("#root");
